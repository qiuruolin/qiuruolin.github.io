<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[echartsæºç è§£è¯»ã€ŠäºŒã€‹ï¼šechartsæºç æ¦‚è¦åˆ†æ]]></title>
      <url>/2019/05/21/echart-2/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ç»§è§£è¯»å®Œzrenderæºç ä¹‹åï¼Œæˆ‘ä»¬ä¾¿å¼€å§‹è¿›å…¥echartsæºç è§£è¯»ï¼Œechartsæ˜¯åœ¨zrenderåŸºç¡€ä¸Šè¿›è¡Œå¼€å‘çš„ï¼Œåœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘å°†ä¼šåˆ†æåœ¨ä½¿ç”¨echartsæ—¶ï¼Œechartsçš„æ¸²æŸ“è¿‡ç¨‹ï¼Œæ¥ä¸‹æ¥ç³»åˆ—åšæ–‡ä¸­æˆ‘å°†ä»echartsçš„<strong>Component</strong>ä»¥åŠ<strong>View</strong>è¿›è¡Œè§£è¯»echartså¦‚ä½•å®ç°å›¾è¡¨ç»˜åˆ¶ã€‚</p>
<p>å¸Œæœ›èƒ½å¤Ÿä¸€èµ·åŠªåŠ›å­¦ä¹ å‘€ï¼ï¼åŠ æ²¹ï¼ï¼</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„echartsæŠ˜çº¿å›¾Demoï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> echartsInstance = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">"main"</span>))</span><br><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        type: <span class="string">'category'</span>,</span><br><span class="line">        data: [<span class="string">'Mon'</span>, <span class="string">'Tue'</span>, <span class="string">'Wed'</span>, <span class="string">'Thu'</span>, <span class="string">'Fri'</span>, <span class="string">'Sat'</span>, <span class="string">'Sun'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">        type: <span class="string">'value'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        data: [<span class="number">820</span>, <span class="number">932</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>],</span><br><span class="line">        type: <span class="string">'line'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;;</span><br><span class="line">echartsInstance.setOption(option)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/img/echarts/æŠ˜çº¿å›¾.png" alt="æŠ˜çº¿å›¾"></p>
<p>ä¸Šè¿°ä»£ç ï¼Œä½¿ç”¨echartså®ç°äº†ç®€å•çš„æŠ˜çº¿å›¾ï¼Œé‚£ä¹ˆechartsæ˜¯å¦‚ä½•æ ¹æ®ç”¨æˆ·è®¾å®šçš„optionè¿›è¡Œå›¾è¡¨ç»˜åˆ¶çš„å‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä»Šå¤©éœ€è¦æ¢è®¨çš„é—®é¢˜ã€‚</p>
<h1 id="Echartsè§£è¯»"><a href="#Echartsè§£è¯»" class="headerlink" title="Echartsè§£è¯»"></a>Echartsè§£è¯»</h1><p>echarts.jsï¼Œå®šä¹‰äº†æˆ‘ä»¬ä½¿ç”¨echartsæ—¶ç›´æ¥è°ƒç”¨çš„initã€setOptionç­‰æ–¹æ³•ã€‚</p>
<h2 id="åˆå§‹åŒ–echartså®ä¾‹"><a href="#åˆå§‹åŒ–echartså®ä¾‹" class="headerlink" title="åˆå§‹åŒ–echartså®ä¾‹"></a>åˆå§‹åŒ–echartså®ä¾‹</h2><p>åœ¨echarts.jsæ–‡ä»¶ä¸­é€šè¿‡export initæ–¹æ³•æä¾›ç”¨æˆ·åˆå§‹åŒ–echartså®ä¾‹çš„æ¥å£ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">dom, theme, opts</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (__DEV__) &#123;</span><br><span class="line">        <span class="comment">// Check version</span></span><br><span class="line">       <span class="keyword">if</span> ((zrender.version.replace(<span class="string">'.'</span>, <span class="string">''</span>) - <span class="number">0</span>) &lt; (dependencies.zrender.replace(<span class="string">'.'</span>, <span class="string">''</span>) - <span class="number">0</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">                <span class="string">'zrender/src '</span> + zrender.version</span><br><span class="line">                + <span class="string">' is too old for ECharts '</span> + version</span><br><span class="line">                + <span class="string">'. Current version need ZRender '</span></span><br><span class="line">                + dependencies.zrender + <span class="string">'+'</span></span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!dom) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Initialize failed: invalid dom.'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¯¥DOMç»“æ„æ˜¯å¦å·²ç»å­˜åœ¨ç»‘å®šçš„echartså®ä¾‹</span></span><br><span class="line">    <span class="keyword">var</span> existInstance = getInstanceByDom(dom);</span><br><span class="line">    <span class="keyword">if</span> (existInstance) &#123;</span><br><span class="line">        <span class="keyword">if</span> (__DEV__) &#123;</span><br><span class="line">            <span class="built_in">console</span>.warn(<span class="string">'There is a chart instance already initialized on the dom.'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> existInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éœ€è¦DOMç»“æ„è®¾å®šç‰¹å®šçš„widthä»¥åŠheightå€¼</span></span><br><span class="line">    <span class="keyword">if</span> (__DEV__) &#123;</span><br><span class="line">        <span class="keyword">if</span> (zrUtil.isDom(dom)</span><br><span class="line">            &amp;&amp; dom.nodeName.toUpperCase() !== <span class="string">'CANVAS'</span></span><br><span class="line">            &amp;&amp; (</span><br><span class="line">                (!dom.clientWidth &amp;&amp; (!opts || opts.width == <span class="literal">null</span>))</span><br><span class="line">                || (!dom.clientHeight &amp;&amp; (!opts || opts.height == <span class="literal">null</span>))</span><br><span class="line">            )</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="built_in">console</span>.warn(<span class="string">'Can\'t get dom width or height'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ–°å»ºEchartså®ä¾‹</span></span><br><span class="line">    <span class="keyword">var</span> chart = <span class="keyword">new</span> ECharts(dom, theme, opts);</span><br><span class="line">    chart.id = <span class="string">'ec_'</span> + idBase++;</span><br><span class="line">    instances[chart.id] = chart;</span><br><span class="line"></span><br><span class="line">    modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);</span><br><span class="line"></span><br><span class="line">    enableConnect(chart);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> chart;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##Echartså¯¹è±¡</p>
<p>Echartså¯¹è±¡å±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>this._zr(Zrenderå®ä¾‹)</li>
<li>this._dom(DOM)</li>
<li>this._theme(ä¸»é¢˜)</li>
<li>this._chartsViews&amp;this._chartsMap(ä¿å­˜Viewæ•°æ®)</li>
<li>this._componentsViews&amp;this._componentsMap(ä¿å­˜componentæ•°æ®)</li>
<li>this._api(å¯¹å¤–APIæ•°æ®)</li>
<li>this._model(è¯¥echartså®ä¾‹ä¿¡æ¯)</li>
<li>â€¦</li>
</ul>
<p>Echartså¯¹è±¡æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>getDom()ï¼šè·å–å½“å‰å®ä¾‹æ‰€æŒ‚è½½çš„DOMä¿¡æ¯</li>
<li>getZr()ï¼šè·å–zrenderå®ä¾‹</li>
<li>setOption()ï¼šè®¾ç½®echarts optionï¼ˆåç»­å°†ç€é‡è®²è§£ï¼‰</li>
<li>setTheme()ï¼šè®¾ç½®echartsä¸»é¢˜</li>
<li>getModel()ï¼šè·å–echartså®ä¾‹</li>
<li>getOption()ï¼šè·å–optionä¿¡æ¯</li>
<li>getWidth()ï¼šthis._zr.getWidth() =&gt; é€šè¿‡zrenderå®ä¾‹è¿”å›zrenderä¸­painterç”»å¸ƒçš„å¤§å°</li>
<li>getHeight()ï¼šåŒgetWidth()</li>
<li>getRenderedCanvas()ï¼šthis._zr.painter.getRenderedCanvas() =&gt; è·å–ç”»å¸ƒä¸­æ¸²æŸ“çš„canvaså…ƒç´ </li>
<li>dispatchAction(): è§¦å‘actionï¼ˆåç»­å°†ç€é‡è®²è§£ï¼‰</li>
<li>dispose()ï¼šé”€æ¯echartså®ä¾‹</li>
<li>â€¦</li>
</ul>
<h2 id="setOption"><a href="#setOption" class="headerlink" title="setOption"></a>setOption</h2><p>setOption()æ–¹æ³•ä¸ºç”¨æˆ·ä½¿ç”¨echartsæœ€ç›´æ¥çš„æ¥å£æ–¹æ³•ï¼Œç”¨æˆ·é€šè¿‡setOptionæ–¹æ³•èƒ½å¤Ÿå°†è®¾ç½®å¥½çš„optionç»‘å®šè‡³echartså›¾è¡¨ä¸­è¿›è¡Œæ˜¾ç¤ºï¼Œé‚£ä¹ˆ<strong>echartså†…éƒ¨åˆæ˜¯å¦‚ä½•æ ¹æ®ç”¨æˆ·è®¾å®šçš„optionè¿›è¡Œå›¾è¡¨æ¸²æŸ“çš„å‘¢</strong>ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ†æEchartsä¸­æœ€åŸºæœ¬çš„å…ƒç´ Modelã€OptionManagerä»¥åŠå…¨å±€Model</p>
<h3 id="OptionManager"><a href="#OptionManager" class="headerlink" title="OptionManager"></a>OptionManager</h3><p>OptionManagerä¸ºoptionç®¡ç†å™¨ï¼Œå¯¹optionè¿›è¡Œäº†ç®¡ç†ä¸å¤„ç†ï¼Œå®šä¹‰äº†setOptionã€mountOptionç­‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯¹åŸç”Ÿoptionçš„å¤„ç†ï¼ŒåŸç”Ÿoptionæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option = &#123;</span><br><span class="line">    baseOption: &#123;</span><br><span class="line">        title: &#123;...&#125;,</span><br><span class="line">        legend: &#123;...&#125;,</span><br><span class="line">        series: [</span><br><span class="line">            &#123;<span class="attr">data</span>: [...]&#125;,</span><br><span class="line">            &#123;<span class="attr">data</span>: [...]&#125;,</span><br><span class="line">             ...</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    timeline: &#123;...&#125;,</span><br><span class="line">    options: [</span><br><span class="line">        &#123;<span class="attr">title</span>: &#123;...&#125;, <span class="attr">series</span>: &#123;<span class="attr">data</span>: [...]&#125;&#125;,</span><br><span class="line">        &#123;<span class="attr">title</span>: &#123;...&#125;, <span class="attr">series</span>: &#123;<span class="attr">data</span>: [...]&#125;&#125;,</span><br><span class="line">        ...</span><br><span class="line">    ],</span><br><span class="line">    media: [</span><br><span class="line">        &#123;</span><br><span class="line">            query: &#123;<span class="attr">maxWidth</span>: <span class="number">320</span>&#125;,</span><br><span class="line">            option: &#123;<span class="attr">series</span>: &#123;<span class="attr">x</span>: <span class="number">20</span>&#125;, <span class="attr">visualMap</span>: &#123;<span class="attr">show</span>: <span class="literal">false</span>&#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            query: &#123;<span class="attr">minWidth</span>: <span class="number">320</span>, <span class="attr">maxWidth</span>: <span class="number">720</span>&#125;,</span><br><span class="line">            option: &#123;<span class="attr">series</span>: &#123;<span class="attr">x</span>: <span class="number">500</span>&#125;, <span class="attr">visualMap</span>: &#123;<span class="attr">show</span>: <span class="literal">true</span>&#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            option: &#123;<span class="attr">series</span>: &#123;<span class="attr">x</span>: <span class="number">1200</span>&#125;, <span class="attr">visualMap</span>: &#123;<span class="attr">show</span>: <span class="literal">true</span>&#125;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><p>Modelæ˜¯Echartsä¸­æœ€åŸºæœ¬çš„å…ƒç´ ï¼Œå…¶å®šä¹‰äº†<strong>mergeOption</strong>ç­‰æ–¹æ³•ï¼Œæ··åˆäº†LineStyleã€AraeStyleã€ItemStyleä»¥åŠTextStyleã€‚æ˜¯Componentï¼ˆåç»­ä»‹ç»ï¼‰ä»¥åŠGlobalModelç­‰å…ƒç´ çš„åŸºç±»ã€‚</p>
<h3 id="GlobalModel"><a href="#GlobalModel" class="headerlink" title="GlobalModel"></a>GlobalModel</h3><p>GlobalModelæ‰©å±•è‡ªModelï¼ŒGlobalModelä¸­å®šä¹‰äº†initæ–¹æ³•ï¼Œè¦æ±‚åœ¨åˆå§‹åŒ–GloblaModelå¯¹è±¡å®ä¾‹æ—¶éœ€è¦ä¼ é€’OptionManagerå®ä¾‹ä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°ï¼ŒGlobalModelä¸­å®šä¹‰äº†æŸ¥æ‰¾componentã€series(Views)ï¼Œç®¡ç†optionç­‰æ–¹æ³•ã€‚</p>
<ul>
<li>setOption()ï¼šé€šè¿‡optionManager.setOption()å®ç°</li>
<li>resetOption()ï¼šé€šè¿‡optionManager.mountOption()å®ç°</li>
<li>é‡å†™mergeOption()</li>
<li>getComponent()ï¼šé€šè¿‡componentçš„mainTypeè·å–component</li>
<li>queryComponents()ï¼šé™¤mainTypeå¤–ï¼Œå°†idã€indexã€nameä¹Ÿä½œä¸ºæŸ¥è¯¢componentçš„æ¡ä»¶è¿›è¡Œcomponentçš„æ£€ç´¢</li>
<li>findComponents()ï¼šä¸queryComponentsç±»ä¼¼ï¼Œä½†echartsæºç ä¸­æœ‰æ³¨é‡Šæ­¤æ–¹æ³•æ›´æ–¹ä¾¿äºå†…éƒ¨ä½¿ç”¨</li>
<li>eachComponent()ï¼šéå†component</li>
<li>getSeriesByName()ï¼šé€šè¿‡series nameè·å–series</li>
<li>getSeriesByIndex()ï¼šé€šè¿‡seriesIndexè·å–series</li>
<li>getSeriesByType()ï¼šé€šè¿‡series subTypeè·å–series</li>
<li>getSeries()ï¼šè·å–seriesæ•°æ®</li>
<li>eachSeries()ï¼šéå†series</li>
<li>filterSeries()ï¼šæ ¹æ®æ¡ä»¶è¿‡æ»¤series</li>
</ul>
<h3 id="setOptionè°ƒç”¨åechartsæ“ä½œæµç¨‹"><a href="#setOptionè°ƒç”¨åechartsæ“ä½œæµç¨‹" class="headerlink" title="setOptionè°ƒç”¨åechartsæ“ä½œæµç¨‹"></a>setOptionè°ƒç”¨åechartsæ“ä½œæµç¨‹</h3><p>å›å½’setOptionæ–¹æ³•çš„è°ƒç”¨ï¼Œecharts.jsçš„setOptionæ–¹æ³•çš„ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">echartsProto.setOption = <span class="function"><span class="keyword">function</span> (<span class="params">option, notMerge, lazyUpdate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (__DEV__) &#123;</span><br><span class="line">        assert(!<span class="keyword">this</span>[IN_MAIN_PROCESS], <span class="string">'`setOption` should not be called during main process.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> silent;</span><br><span class="line">    <span class="keyword">if</span> (isObject(notMerge)) &#123;</span><br><span class="line">        lazyUpdate = notMerge.lazyUpdate;</span><br><span class="line">        silent = notMerge.silent;</span><br><span class="line">        notMerge = notMerge.notMerge;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>[IN_MAIN_PROCESS] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>._model || notMerge) &#123;</span><br><span class="line">        <span class="keyword">var</span> optionManager = <span class="keyword">new</span> OptionManager(<span class="keyword">this</span>._api);</span><br><span class="line">        <span class="keyword">var</span> theme = <span class="keyword">this</span>._theme;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–model</span></span><br><span class="line">        <span class="keyword">var</span> ecModel = <span class="keyword">this</span>._model = <span class="keyword">new</span> GlobalModel(<span class="literal">null</span>, <span class="literal">null</span>, theme, optionManager);</span><br><span class="line">        ecModel.scheduler = <span class="keyword">this</span>._scheduler;</span><br><span class="line">        ecModel.init(<span class="literal">null</span>, <span class="literal">null</span>, theme, optionManager);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è°ƒç”¨GlobalModelä¸­çš„setOptionæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">this</span>._model.setOption(option, optionPreprocessorFuncs);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lazyUpdate) &#123;</span><br><span class="line">        <span class="keyword">this</span>[OPTION_UPDATED] = &#123;<span class="attr">silent</span>: silent&#125;;</span><br><span class="line">        <span class="keyword">this</span>[IN_MAIN_PROCESS] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å‡†å¤‡æ•°æ®</span></span><br><span class="line">        prepare(<span class="keyword">this</span>);</span><br><span class="line">        <span class="comment">// æ›´æ–°è§†å›¾</span></span><br><span class="line">        updateMethods.update.call(<span class="keyword">this</span>);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨è°ƒç”¨globalModel.setOptionæ–¹æ³•ä¹‹åï¼Œechartsé€šè¿‡è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updateMethods.update.call(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<p>è¿›è¡Œè§†å›¾æ›´æ–°ã€‚</p>
<p>update()æ–¹æ³•ä¸­è°ƒç”¨äº†renderæ–¹æ³•è¿›è¡Œè§†å›¾æ¸²æŸ“ï¼Œrenderæ–¹æ³•ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">ecIns, ecModel, api, payload</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    renderComponents(ecIns, ecModel, api, payload);</span><br><span class="line"></span><br><span class="line">    each(ecIns._chartsViews, <span class="function"><span class="keyword">function</span> (<span class="params">chart</span>) </span>&#123;</span><br><span class="line">        chart.__alive = <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    renderSeries(ecIns, ecModel, api, payload);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Remove groups of unrendered charts</span></span><br><span class="line">    each(ecIns._chartsViews, <span class="function"><span class="keyword">function</span> (<span class="params">chart</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!chart.__alive) &#123;</span><br><span class="line">            chart.remove(ecModel, api);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>renderæ–¹æ³•åˆ†ä¸ºrenderComponentsï¼ˆæ¸²æŸ“Componentï¼‰ä»¥åŠrenderSeriesï¼ˆæ¸²æŸ“seriesï¼‰ä¸¤å¤§éƒ¨åˆ†ï¼Œ</p>
<p> renderComponentsæ–¹æ³•ä¸­é€šè¿‡eachéå†è°ƒç”¨componentä¸‹çš„<strong>render</strong>æ–¹æ³•</p>
<p>renderSeriesæ–¹æ³•åœ¨echarts3.0ä¸­ä¹Ÿæ˜¯é€šè¿‡eachéå†è°ƒç”¨seriesä¸‹çš„renderæ–¹æ³•ï¼Œåœ¨4.0ç‰ˆæœ¬ä¹‹åï¼Œä¾¿å°†æ§åˆ¶æ¸²æŸ“çš„é€»è¾‘äº¤ç»™äº†schedulerè°ƒåº¦å™¨è¿›è¡Œå¤„ç†ï¼Œé€šè¿‡è°ƒç”¨chartsä¸­çš„resetæ–¹æ³•è¿›è€Œè°ƒç”¨seriesä¸‹çš„renderæ–¹æ³•ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderTaskReset</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> seriesModel = context.model;</span><br><span class="line">    <span class="keyword">var</span> ecModel = context.ecModel;</span><br><span class="line">    <span class="keyword">var</span> api = context.api;</span><br><span class="line">    <span class="keyword">var</span> payload = context.payload;</span><br><span class="line">    <span class="comment">// ???! remove updateView updateVisual</span></span><br><span class="line">    <span class="keyword">var</span> progressiveRender = seriesModel.pipelineContext.progressiveRender;</span><br><span class="line">    <span class="keyword">var</span> view = context.view;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> updateMethod = payload &amp;&amp; inner(payload).updateMethod;</span><br><span class="line">    <span class="keyword">var</span> methodName = progressiveRender</span><br><span class="line">        ? <span class="string">'incrementalPrepareRender'</span></span><br><span class="line">        : (updateMethod &amp;&amp; view[updateMethod])</span><br><span class="line">        ? updateMethod</span><br><span class="line">        <span class="comment">// `appendData` is also supported when data amount</span></span><br><span class="line">        <span class="comment">// is less than progressive threshold.</span></span><br><span class="line">        : <span class="string">'render'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (methodName !== <span class="string">'render'</span>) &#123;</span><br><span class="line">        view[methodName](seriesModel, ecModel, api, payload);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> progressMethodMap[methodName];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> progressMethodMap = &#123;</span><br><span class="line">    ...</span><br><span class="line">    render: &#123;</span><br><span class="line">        forceFirstProgress: <span class="literal">true</span>,</span><br><span class="line">        progress: <span class="function"><span class="keyword">function</span> (<span class="params">params, context</span>) </span>&#123;</span><br><span class="line">            context.view.render(</span><br><span class="line">                context.model, context.ecModel, context.api, context.payload</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="dispatchAction"><a href="#dispatchAction" class="headerlink" title="dispatchAction"></a>dispatchAction</h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨echartsçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šéœ€è¦ä½¿ç”¨echartså¯¹å¤–æä¾›çš„ä¸€äº›apiï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echartsInstance.dispatchAction(&#123;</span><br><span class="line">    type: <span class="string">'updateAxisPointer'</span>,</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    y: <span class="number">30</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆ<strong>echartsæ˜¯æ€ä¹ˆå¯¹è¿™äº›apiè¿›è¡Œå¤„ç†çš„å‘¢</strong>ï¼Ÿ</p>
<p>èƒ½å¤Ÿé€šè¿‡dispatchActionä½¿ç”¨çš„apiï¼Œé¦–å…ˆå¿…é¡»é€šè¿‡registerActionæ³¨å†Œapiï¼Œä¸¾updateAxisPointerçš„ğŸŒ°ï¼Œæ³¨å†ŒdataZoom apiçš„ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echarts.registerAction(&#123;</span><br><span class="line">    type: <span class="string">'updateAxisPointer'</span>,</span><br><span class="line">    event: <span class="string">'updateAxisPointer'</span>,</span><br><span class="line">    update: <span class="string">':updateAxisPointer'</span></span><br><span class="line">&#125;, axisTrigger);</span><br></pre></td></tr></table></figure>
<p>registerActionä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">registerAction</span>(<span class="params">actionInfo, eventName, action</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å‚æ•°å¤„ç†ï¼šå°†ä¼ é€’è¿‡æ¥çš„triggerä½œä¸ºactionè¿›è¡Œä¿å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> eventName === <span class="string">'function'</span>) &#123;</span><br><span class="line">        action = eventName;</span><br><span class="line">        eventName = <span class="string">''</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> actionType = isObject(actionInfo)</span><br><span class="line">    ? actionInfo.type</span><br><span class="line">    : ([actionInfo, actionInfo = &#123;</span><br><span class="line">        event: eventName</span><br><span class="line">    &#125;][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Event name is all lowercase</span></span><br><span class="line">    actionInfo.event = (actionInfo.event || actionType).toLowerCase();</span><br><span class="line">    eventName = actionInfo.event;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Validate action type and event name.</span></span><br><span class="line">    assert(ACTION_REG.test(actionType) &amp;&amp; ACTION_REG.test(eventName));</span><br><span class="line">    <span class="comment">// å°†actionä¿¡æ¯ä¿å­˜è‡³actions</span></span><br><span class="line">    <span class="keyword">if</span> (!actions[actionType]) &#123;</span><br><span class="line">        actions[actionType] = &#123;<span class="attr">action</span>: action, <span class="attr">actionInfo</span>: actionInfo&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    eventActionMap[eventName] = actionType;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜æ˜¯çœ‹updateAxisPointerè¿™ä¸ªğŸŒ°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echartsInstance.dispatchAction(&#123;</span><br><span class="line">    type: <span class="string">'updateAxisPointer'</span>,</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    y: <span class="number">30</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>dispatchActionçš„ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">echartsProto.dispatchAction = <span class="function"><span class="keyword">function</span> (<span class="params">payload, opt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isObject(opt)) &#123;</span><br><span class="line">        opt = &#123;<span class="attr">silent</span>: !!opt&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!actions[payload.type]) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Avoid dispatch action before setOption. Especially in `connect`.</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>._model) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// May dispatchAction in rendering procedure</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>[IN_MAIN_PROCESS]) &#123;</span><br><span class="line">        <span class="keyword">this</span>._pendingActions.push(payload);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨doDispatchAction</span></span><br><span class="line">    doDispatchAction.call(<span class="keyword">this</span>, payload, opt.silent);</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doDispatchAction</span>(<span class="params">payload, silent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> payloadType = payload.type;</span><br><span class="line">    <span class="keyword">var</span> escapeConnect = payload.escapeConnect;</span><br><span class="line">    <span class="comment">// æ ¹æ®paoloadä¸­çš„typeä¿¡æ¯ï¼Œè·å–actionså¯¹åº”çš„actionæ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> actionWrap = actions[payloadType];</span><br><span class="line">    <span class="keyword">var</span> actionInfo = actionWrap.actionInfo;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cptType = (actionInfo.update || <span class="string">'update'</span>).split(<span class="string">':'</span>);</span><br><span class="line">    <span class="keyword">var</span> updateMethod = cptType.pop();</span><br><span class="line">    cptType = cptType[<span class="number">0</span>] != <span class="literal">null</span> &amp;&amp; parseClassType(cptType[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>[IN_MAIN_PROCESS] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> payloads = [payload];</span><br><span class="line">    <span class="keyword">var</span> batched = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// Batch action</span></span><br><span class="line">    <span class="keyword">if</span> (payload.batch) &#123;</span><br><span class="line">        batched = <span class="literal">true</span>;</span><br><span class="line">        payloads = zrUtil.map(payload.batch, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">            item = zrUtil.defaults(zrUtil.extend(&#123;&#125;, item), payload);</span><br><span class="line">            item.batch = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> eventObjBatch = [];</span><br><span class="line">    <span class="keyword">var</span> eventObj;</span><br><span class="line">    <span class="keyword">var</span> isHighDown = payloadType === <span class="string">'highlight'</span> || payloadType === <span class="string">'downplay'</span>;</span><br><span class="line"></span><br><span class="line">    each(payloads, <span class="function"><span class="keyword">function</span> (<span class="params">batchItem</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Action can specify the event by return it.</span></span><br><span class="line">        <span class="comment">// è§¦å‘action trigger</span></span><br><span class="line">        eventObj = actionWrap.action(batchItem, <span class="keyword">this</span>._model, <span class="keyword">this</span>._api);</span><br><span class="line">        <span class="comment">// Emit event outside</span></span><br><span class="line">        eventObj = eventObj || zrUtil.extend(&#123;&#125;, batchItem);</span><br><span class="line">        <span class="comment">// Convert type to eventType</span></span><br><span class="line">        eventObj.type = actionInfo.event || eventObj.type;</span><br><span class="line">        eventObjBatch.push(eventObj);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// light update does not perform data process, layout and visual.</span></span><br><span class="line">        <span class="keyword">if</span> (isHighDown) &#123;</span><br><span class="line">            <span class="comment">// method, payload, mainType, subType</span></span><br><span class="line">            updateDirectly(<span class="keyword">this</span>, updateMethod, batchItem, <span class="string">'series'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cptType) &#123;</span><br><span class="line">            updateDirectly(<span class="keyword">this</span>, updateMethod, batchItem, cptType.main, cptType.sub);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="keyword">this</span>);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åšæ–‡åˆ°è¿™é‡Œå°±å·®ä¸å¤šç»“æŸäº†ï¼Œåœ¨æ­¤åšæ–‡ä¸­ï¼Œæˆ‘å¯¹echartsæ¸²æŸ“è§†å›¾çš„è¿‡ç¨‹è¿›è¡Œäº†ç®€å•çš„åˆ†æï¼Œå¹¶å¯¹setOptionä»¥åŠdispatchActionæ–¹æ³•çš„å®ç°è¿‡ç¨‹è¿›è¡Œäº†å¤§è‡´çš„åˆ†æã€‚</p>
<p>æ¥ä¸‹æ¥çš„æ–‡ç« å°†ä¼šæ·±å…¥Componentä»¥åŠSeriesä¸­ï¼Œè§£è¯»echartsæ˜¯å¦‚ä½•ä½¿ç”¨zrender graphicæ¸²æŸ“å›¾è¡¨çš„ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ï½ä¸€èµ·åŠ æ²¹ï¼ï¼</p>
]]></content>
      
        <categories>
            
            <category> echarts </category>
            
        </categories>
        
        
        <tags>
            
            <tag> echartsæºç è§£è¯» </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[echartsæºç è§£è¯»ã€Šä¸€ã€‹ï¼šzrenderæºç æ¦‚è¦åˆ†æ]]></title>
      <url>/2019/05/20/echarts-1/</url>
      <content type="html"><![CDATA[<blockquote>
<p>2019å¹´é¦–æ¬¡å‘åšï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‡ºå»è¿‡520å‘¢ï¼Ÿï¼Ÿæˆ‘åæ­£æ˜¯è„šä¼¤äº†ï¼å“­</p>
<p>ä»Šå¤©7æœˆä»½æˆ‘å°†å…¥èŒè…¾è®¯ï¼Œæˆ‘çš„å·¥ä½œå¯¼å¸ˆäº3æœˆä»½è®©æˆ‘å­¦ä¹ å¯è§†åŒ–ï¼Œå‰æ®µæ—¶é—´ä¸€ç›´åœ¨å¿™æ¯•è®¾ï¼Œä¹Ÿå°±è€½æä¸‹æ¥äº†ã€‚</p>
<p>åœ¨echartsæºç è§£è¯»ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¼šè®°å½•æˆ‘å­¦ä¹ echartsæºç æ—¶çš„è¿‡ç¨‹ï¼Œå¹¶å¯¹echartsçš„åŸºæœ¬å®ç°è¿›è¡Œå¤§è‡´çš„è§£è¯»ï¼Œå†™åšå®¢æ˜¯ä¸ºäº†èƒ½å¤Ÿè®©è‡ªå·±å¯¹echartsæœ‰æ›´å¥½çš„äº†è§£ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿé€šè¿‡åšå®¢å¸®åŠ©åˆ°éœ€è¦å­¦ä¹ è§£è¯»echartsæºç çš„å°ä¼™ä¼´ä»¬ï¼Œä¸€èµ·åŠ æ²¹å§ï¼ï¼ï¼</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç”±äºechartsæ˜¯åŸºäºzrenderè¿›è¡Œå®ç°çš„ï¼Œæ‰€ä»¥è¦è§£è¯»echartsæºç ï¼Œé¦–å…ˆè¦å¯¹zrenderæœ‰å¤§è‡´çš„äº†è§£ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å¯¹zrenderçš„æ•´ä½“ç»“æ„è¿›è¡Œå¤§è‡´çš„è§£è¯»ã€‚</p>
<a id="more"></a>
<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>zrenderæ˜¯canvasçš„ä¸€ä¸ªç±»åº“ï¼Œä¹Ÿå°±æ˜¯è¯´zrenderæ˜¯åŸºäºcanvaså®ç°çš„ï¼Œcanvas APIå¯ä»¥å‚è€ƒï¼š<a href="http://www.w3school.com.cn/tags/html_ref_canvas.asp" target="_blank" rel="noopener">W3CSchool Canvas å‚è€ƒæ‰‹å†Œ</a> </p>
<p>åœ¨åç»­çš„è§£è¯»ä¸­ï¼Œæˆ‘ä»¬ä¼šä»‹ç»zrenderä½¿ç”¨canvas api çš„ä½ç½®åŠç”¨é€”ã€‚</p>
<h1 id="ç›®å½•ä»‹ç»"><a href="#ç›®å½•ä»‹ç»" class="headerlink" title="ç›®å½•ä»‹ç»"></a>ç›®å½•ä»‹ç»</h1><p>æ–‡ä»¶å¤¹ï¼š</p>
<ul>
<li>animation åŠ¨ç”»æœ‰å…³ï¼› </li>
<li>contain åŒ…å«åˆ¤æ–­ï¼› </li>
<li>container Group.js å…ƒç´ ç»„çš„æ¦‚å¿µï¼› </li>
<li>core æ ¸å¿ƒä»£ç ï¼ŒåŒ…å«ä¸€äº›å·¥å…·ï¼ˆutil.jsï¼‰ã€äº‹ä»¶ï¼ˆevent.jsï¼‰ã€å”¯ä¸€ID(guid.js)ã€çŸ©é˜µè¿ç®—æœ‰å…³ï¼ˆmatrix.jsï¼‰ç­‰ï¼› </li>
<li>dom HandleProxy.js domäº‹ä»¶æœ‰å…³ï¼› </li>
<li>graphic å›¾å½¢æœ‰å…³ï¼Œshapeæ–‡ä»¶å¤¹ä¸‹å°±æ˜¯å„ä¸ªå›¾å½¢çš„jsæ–‡ä»¶ï¼› </li>
<li>mixin æ··å…¥æ¨¡å¼è¦æ··å…¥çš„å‡½æ•°; </li>
<li>tool å·¥å…·å‡½æ•°ï¼ŒåŒ…æ‹¬é¢œè‰²å·¥å…·(color.js)ï¼Œpathå·¥å…·(path.js)å’Œè½¬æ¢å·¥å…·ï¼ˆtransformPath.jsï¼‰; </li>
<li>vml IEä¸­çš„ç”»ç¬”ï¼Œ<a href="http://www.g168.net/txt/vml/]" target="_blank" rel="noopener">vmlè§£é‡Š</a></li>
</ul>
<p>å…¨å±€çš„æ–‡ä»¶ï¼š </p>
<ul>
<li>config.js é…ç½®æ–‡ä»¶ </li>
<li>Element.js å…ƒç´ æ–‡ä»¶ä½œä¸ºzrenderæœ€åŸºæœ¬çš„å…ƒç´  </li>
<li>Handle.js Cå±‚ï¼Œæ§åˆ¶å±‚ </li>
<li>Layer.js å›¾å±‚ç®¡ç† </li>
<li>Painter.js Vå±‚ï¼Œè§†å›¾å±‚ </li>
<li>Storage.js Må±‚ï¼Œæ•°æ®ç®¡ç†å±‚ </li>
<li>zrender.js å…¥å£</li>
</ul>
<h1 id="zrenderæ•´ä½“æ¶æ„"><a href="#zrenderæ•´ä½“æ¶æ„" class="headerlink" title="zrenderæ•´ä½“æ¶æ„"></a>zrenderæ•´ä½“æ¶æ„</h1><p>zrenderé‡‡ç”¨äº†MVCå°è£…ï¼ŒMä¸ºModelæ•°æ®å±‚ï¼ŒVä¸ºViewè§†å›¾å±‚ï¼ŒCä¸ºControlleræ§åˆ¶å±‚ï¼š</p>
<ul>
<li>Storage(M)ï¼šStorageä¸ºzrenderä¸­çš„Modelå±‚ï¼Œå®ƒä¸»è¦è¿›è¡Œå›¾å½¢æ•°æ®çš„å¢åˆ æ”¹æŸ¥(CRUD)æ“ä½œï¼›</li>
<li>Painter(V)ï¼šPainterä¸ºzrenderä¸­çš„Viewå±‚ï¼Œå®ƒä¸»è¦å¯¹canvaså…ƒç´ çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ï¼Œæ¸²æŸ“è§†å›¾ä»¥åŠæ§åˆ¶æ›´æ–°ç­‰ã€‚å®šä¹‰äº†addHoverã€setBackgroundColorç­‰æ–¹æ³•ï¼›</li>
<li>Handler(C)ï¼šHandlerä¸ºzrenderä¸­çš„Controllerå±‚ï¼Œå®ƒä¸»è¦å®ç°äº‹ä»¶äº¤äº’å¤„ç†ï¼Œå®ç°å®Œæ•´domäº‹ä»¶çš„æ¨¡æ‹Ÿå°è£…ã€‚</li>
</ul>
<h1 id="å›¾å½¢"><a href="#å›¾å½¢" class="headerlink" title="å›¾å½¢"></a>å›¾å½¢</h1><p>å¤„äºgraphicæ–‡ä»¶å¤¹ä¸‹ï¼Œzrenderå®šä¹‰äº†ä¸€ç³»åˆ—å›¾å½¢ï¼Œä¾›å¤–ç•Œè°ƒç”¨ï¼ŒåŒ…æ‹¬åœ†å½¢ã€çŸ©å½¢ã€å¿ƒå½¢ã€æ‰‡å½¢ã€å¤šè¾¹å½¢ã€æŠ˜çº¿ç­‰ï¼Œechartsé€šè¿‡è°ƒç”¨zrenderå®šä¹‰å¥½çš„å›¾å½¢ï¼Œå¯ä»¥å¾ˆä¾¿æ·åœ°å®Œæˆå›¾è¡¨æ¸²æŸ“ã€‚</p>
<h2 id="Displayable"><a href="#Displayable" class="headerlink" title="Displayable"></a>Displayable</h2><p><strong>Displayable.js</strong>ä¸º<strong>Pathã€Text</strong>ç­‰çš„åŸºç±»ï¼Œç»§æ‰¿è‡ª<strong>Element</strong>ï¼Œå®šä¹‰äº†setStyleã€useStyleç­‰æ–¹æ³•ï¼Œ</p>
<h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><p>æ–‡æœ¬ï¼Œç»§æ‰¿è‡ªDisplayableï¼Œè°ƒç”¨äº†helper/text.jsä¸­çš„renderTextæ–¹æ³•è¿›è¡Œç»˜åˆ¶ã€‚ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderText</span>(<span class="params">hostEl, ctx, text, style, rect, prevEl</span>) </span>&#123;</span><br><span class="line">    style.rich</span><br><span class="line">        ? renderRichText(hostEl, ctx, text, style, rect, prevEl)</span><br><span class="line">        : renderPlainText(hostEl, ctx, text, style, rect, prevEl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ–‡æœ¬åˆ†ä¸ºå¯Œæ–‡æœ¬ä»¥åŠæ™®é€šæ–‡æœ¬è¿›è¡Œåˆ†åˆ«æ¸²æŸ“ï¼Œå®ƒä»¬å‡é€šè¿‡è°ƒç”¨canvasçš„<strong>ctx.fillTextæˆ–ctx.strokeText</strong> ç­‰apiè¿›è¡Œæ–‡æœ¬æ¸²æŸ“ï¼Œå…·ä½“å®ç°å¯ä»¥æŸ¥çœ‹helper/text.jsæ–‡ä»¶ã€‚</p>
<h2 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h2><p>å›¾å½¢çš„æ ·å¼æ–‡ä»¶ï¼Œå®šä¹‰äº†åŸºæœ¬çš„æ ·å¼å±æ€§ï¼Œä»¥åŠæ ·å¼setã€cloneä»¥åŠåˆ¤æ–­ç­‰æ–¹æ³•ã€‚</p>
<h2 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h2><p>pathä¸ºå›¾å½¢çš„åŸºç±»ï¼Œç»§æ‰¿è‡ªDisplayableï¼Œå®šä¹‰äº†buildPathã€getBoundingRectã€setShapeç­‰æ–¹æ³•ï¼Œå…¶åŒ…å«this._styleå±æ€§å³ä¸º<strong>Style</strong>å¯¹è±¡å®ä¾‹ã€‚</p>
<h2 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h2><p>shapeæ–‡ä»¶ä¸‹å­˜æ”¾ç€zrenderå®šä¹‰çš„å›¾å½¢æ–‡ä»¶ï¼Œæ‰©å±•è‡ªPathã€‚</p>
<h3 id="Circle"><a href="#Circle" class="headerlink" title="Circle"></a>Circle</h3><p>åœ†å½¢ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.arc</strong>è¿›è¡Œåœ†å½¢çš„ç»˜åˆ¶ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape, inBundle</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (inBundle) &#123;</span><br><span class="line">        ctx.moveTo(shape.cx + shape.r, shape.cy);</span><br><span class="line">    &#125;</span><br><span class="line">    ctx.arc(shape.cx, shape.cy, shape.r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Arc"><a href="#Arc" class="headerlink" title="Arc"></a>Arc</h3><p>å¼§å½¢ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.arc</strong>è¿›è¡Œå¼§å½¢çš„ç»˜åˆ¶ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = shape.cx;</span><br><span class="line">    <span class="keyword">var</span> y = shape.cy;</span><br><span class="line">    <span class="keyword">var</span> r = <span class="built_in">Math</span>.max(shape.r, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> startAngle = shape.startAngle;</span><br><span class="line">    <span class="keyword">var</span> endAngle = shape.endAngle;</span><br><span class="line">    <span class="keyword">var</span> clockwise = shape.clockwise;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> unitX = <span class="built_in">Math</span>.cos(startAngle);</span><br><span class="line">    <span class="keyword">var</span> unitY = <span class="built_in">Math</span>.sin(startAngle);</span><br><span class="line"></span><br><span class="line">    ctx.moveTo(unitX * r + x, unitY * r + y);</span><br><span class="line">    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Heart"><a href="#Heart" class="headerlink" title="Heart"></a>Heart</h3><p>å¿ƒå½¢â¤ï¸ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.bezierCurveTo</strong>è¿›è¡Œå¼§å½¢çš„ç»˜åˆ¶ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = shape.cx;</span><br><span class="line">    <span class="keyword">var</span> y = shape.cy;</span><br><span class="line">    <span class="keyword">var</span> a = shape.width;</span><br><span class="line">    <span class="keyword">var</span> b = shape.height;</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.bezierCurveTo(</span><br><span class="line">        x + a / <span class="number">2</span>, y - b * <span class="number">2</span> / <span class="number">3</span>,</span><br><span class="line">        x + a * <span class="number">2</span>, y + b / <span class="number">3</span>,</span><br><span class="line">        x, y + b</span><br><span class="line">    );</span><br><span class="line">    ctx.bezierCurveTo(</span><br><span class="line">        x - a * <span class="number">2</span>, y + b / <span class="number">3</span>,</span><br><span class="line">        x - a / <span class="number">2</span>, y - b * <span class="number">2</span> / <span class="number">3</span>,</span><br><span class="line">        x, y</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>bezierCurveTo(æ§åˆ¶ç‚¹1xåæ ‡, æ§åˆ¶ç‚¹1yåæ ‡, æ§åˆ¶ç‚¹2xåæ ‡, æ§åˆ¶ç‚¹2yåæ ‡, ç»“æŸç‚¹xåæ ‡, ç»“æŸç‚¹yåæ ‡)</p>
<p>ä¸‰æ¬¡è¢«å¡å°”æ›²çº¿ç»˜åˆ¶ï¼š</p>
<ul>
<li>P0ä¸ºå¼€å§‹ç‚¹ï¼ŒP1ä¸ºæ§åˆ¶ç‚¹1ï¼ŒP2ä¸ºæ§åˆ¶ç‚¹2ï¼ŒP3ä¸ºç»“æŸç‚¹</li>
<li>å– <strong>P0P1</strong> ä¸­ç‚¹M</li>
<li>å– <strong>P1P2</strong> ä¸­ç‚¹Mâ€™</li>
<li>å– <strong>MMâ€™</strong> ä¸­ç‚¹P</li>
<li>åˆ™ <strong>P</strong> ä¸ºæ›²çº¿çš„å¿…ç»ç‚¹</li>
</ul>
<p>å…·ä½“ç»˜åˆ¶å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/img/echarts/è´å¡å°”1.png" alt="è´å¡å°”1"></p>
<p>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å‡ºå·¦åŠè¾¹å¿ƒå½¢ï¼š</p>
<p><img src="/img/echarts/è´å¡å°”2.png" alt="è´å¡å°”2"></p>
<h3 id="Droplet"><a href="#Droplet" class="headerlink" title="Droplet"></a>Droplet</h3><p>æ°´æ»´å½¢çŠ¶ğŸ’§ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.bezierCurveTo</strong>è¿›è¡Œå¼§å½¢çš„ç»˜åˆ¶ï¼Œè´å¡å°”æ›²çº¿çš„ç»˜åˆ¶è¿‡ç¨‹åŒ<strong>å¿ƒå½¢</strong>ç»˜åˆ¶åŸç†ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = shape.cx;</span><br><span class="line">    <span class="keyword">var</span> y = shape.cy;</span><br><span class="line">    <span class="keyword">var</span> a = shape.width;</span><br><span class="line">    <span class="keyword">var</span> b = shape.height;</span><br><span class="line"></span><br><span class="line">    ctx.moveTo(x, y + a);</span><br><span class="line">    ctx.bezierCurveTo(</span><br><span class="line">        x + a,</span><br><span class="line">        y + a,</span><br><span class="line">        x + a * <span class="number">3</span> / <span class="number">2</span>,</span><br><span class="line">        y - a / <span class="number">3</span>,</span><br><span class="line">        x,</span><br><span class="line">        y - b</span><br><span class="line">    );</span><br><span class="line">    ctx.bezierCurveTo(</span><br><span class="line">        x - a * <span class="number">3</span> / <span class="number">2</span>,</span><br><span class="line">        y - a / <span class="number">3</span>,</span><br><span class="line">        x - a,</span><br><span class="line">        y + a,</span><br><span class="line">        x,</span><br><span class="line">        y + a</span><br><span class="line">    );</span><br><span class="line">    ctx.closePath();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Ellipse"><a href="#Ellipse" class="headerlink" title="Ellipse"></a>Ellipse</h3><p>æ¤­åœ†ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.bezierCurveTo</strong>è¿›è¡Œå¼§å½¢çš„ç»˜åˆ¶ï¼Œè´å¡å°”æ›²çº¿çš„ç»˜åˆ¶è¿‡ç¨‹åŒ<strong>å¿ƒå½¢</strong>ç»˜åˆ¶åŸç†ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> k = <span class="number">0.5522848</span>;</span><br><span class="line">    <span class="keyword">var</span> x = shape.cx;</span><br><span class="line">    <span class="keyword">var</span> y = shape.cy;</span><br><span class="line">    <span class="keyword">var</span> a = shape.rx;</span><br><span class="line">    <span class="keyword">var</span> b = shape.ry;</span><br><span class="line">    <span class="keyword">var</span> ox = a * k; <span class="comment">// æ°´å¹³æ§åˆ¶ç‚¹åç§»é‡</span></span><br><span class="line">    <span class="keyword">var</span> oy = b * k; <span class="comment">// å‚ç›´æ§åˆ¶ç‚¹åç§»é‡</span></span><br><span class="line">    <span class="comment">// ä»æ¤­åœ†çš„å·¦ç«¯ç‚¹å¼€å§‹é¡ºæ—¶é’ˆç»˜åˆ¶å››æ¡ä¸‰æ¬¡è´å¡å°”æ›²çº¿</span></span><br><span class="line">    ctx.moveTo(x - a, y);</span><br><span class="line">    ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);</span><br><span class="line">    ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);</span><br><span class="line">    ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);</span><br><span class="line">    ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);</span><br><span class="line">    ctx.closePath();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Sector"><a href="#Sector" class="headerlink" title="Sector"></a>Sector</h3><p>æ‰‡å½¢ï¼Œé€šè¿‡è°ƒç”¨Path.extendæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œé‡å†™äº†<strong>buildPath</strong>æ–¹æ³•ï¼ŒbuildPathè°ƒç”¨äº†canvas apiï¼š<strong>ctx.arcä»¥åŠarc.lineTo</strong>è¿›è¡Œåœ†å½¢çš„ç»˜åˆ¶ï¼Œä¸»è¦å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">buildPath: <span class="function"><span class="keyword">function</span> (<span class="params">ctx, shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = shape.cx;</span><br><span class="line">    <span class="keyword">var</span> y = shape.cy;</span><br><span class="line">    <span class="keyword">var</span> r0 = <span class="built_in">Math</span>.max(shape.r0 || <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> r = <span class="built_in">Math</span>.max(shape.r, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> startAngle = shape.startAngle;</span><br><span class="line">    <span class="keyword">var</span> endAngle = shape.endAngle;</span><br><span class="line">    <span class="keyword">var</span> clockwise = shape.clockwise;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> unitX = <span class="built_in">Math</span>.cos(startAngle);</span><br><span class="line">    <span class="keyword">var</span> unitY = <span class="built_in">Math</span>.sin(startAngle);</span><br><span class="line"></span><br><span class="line">    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);</span><br><span class="line"></span><br><span class="line">    ctx.lineTo(unitX * r + x, unitY * r + y);</span><br><span class="line"></span><br><span class="line">    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);</span><br><span class="line"></span><br><span class="line">    ctx.lineTo(</span><br><span class="line">        <span class="built_in">Math</span>.cos(endAngle) * r0 + x,</span><br><span class="line">        <span class="built_in">Math</span>.sin(endAngle) * r0 + y</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (r0 !== <span class="number">0</span>) &#123;</span><br><span class="line">        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ctx.closePath();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>zrenderè¿˜å®šä¹‰äº†<strong>RectçŸ©å½¢</strong>ã€<strong>Isogonæ­£å¤šè¾¹å½¢</strong>ã€<strong>Lineç›´çº¿</strong>ã€<strong>Polygonå¤šè¾¹å½¢</strong>ã€<strong>PolylineæŠ˜çº¿</strong>ã€<strong>Ringåœ†ç¯</strong>ã€<strong>Roseç«ç‘°çº¿</strong>ã€<strong>Star nè§’æ˜Ÿ</strong>ç­‰å›¾å½¢ï¼Œå…¶å®ç°è¿‡ç¨‹åŸºæœ¬ä¸ä¸Šè¿°å›¾å½¢ä¸Šç±»ä¼¼ï¼Œéƒ½æ˜¯åŸºäºcanvasçš„<strong>lineToã€arcã€bezierCurveTo</strong>ç­‰apiè¿›è¡Œç»˜åˆ¶çš„ï¼Œè¿™è¾¹å°±ä¸åšä¸€ä¸€ä»‹ç»äº†ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>zrenderä¸­å°è£…äº†å¾ˆå¤šå·¥å…·ï¼Œåœ¨åç»­echartsæºç è§£è¯»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°echartsæ˜¯åŸºäºzrenderè¿›è¡Œå¼€å‘çš„ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡åšæ–‡èƒ½å¤Ÿå¸®åŠ©å¤§å®¶å¯¹zrenderåŠå…¶å®ç°çš„å›¾å½¢æœ‰å¤§è‡´çš„äº†è§£ï½</p>
]]></content>
      
        <categories>
            
            <category> echarts </category>
            
        </categories>
        
        
        <tags>
            
            <tag> echartsæºç è§£è¯» </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[äº‘æœåŠ¡å™¨ä¹‹åå°è¿è¡Œ]]></title>
      <url>/2018/05/29/nohup-sh/</url>
      <content type="html"><![CDATA[<blockquote>
<p>æœ€è¿‘åœ¨å°†é¡¹ç›®éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥ä¹Ÿå†™äº†å¥½å‡ ç¯‡åšå®¢ï¼Œå…³äºåœ¨éƒ¨ç½²é¡¹ç›®æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œæ­¤æ¬¡æˆ‘ä¸»è¦æ˜¯è®°å½•å¦‚ä½•å°†é¡¹ç›®åœ¨åå°è¿è¡Œï¼Œä¸”ä¸ä¼šå› ä¸ºæ–­å¼€ä¸äº‘æœåŠ¡å™¨çš„è¿æ¥è€Œè¢«ç»ˆæ­¢ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ­¤ç¯‡åšå®¢æ˜¯å› ä¸ºæˆ‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†&amp;ï¼Œè®©é¡¹ç›®åå°è¿è¡Œèƒ½å¤Ÿæ­£å¸¸è®¿é—®åï¼Œä¾¿ä½¿ç”¨logoutå‘½ä»¤æ–­å¼€äº†ä¸äº‘æœåŠ¡å™¨çš„è¿æ¥ï¼Œæ–­å¼€åå†æ¬¡è®¿é—®ï¼Œå´å‘ç°è®¿é—®å¤±è´¥äº†ï¼Œäºæ˜¯å†æ¬¡è¿æ¥äº‘æœåŠ¡å™¨ï¼Œé€šè¿‡jobsæŸ¥çœ‹åå°è¿›ç¨‹ï¼Œå‘ç°åˆšåˆšåœ¨åå°è¿è¡Œçš„é¡¹ç›®å·²ç»è¢«ç»ˆæ­¢äº†ã€‚<br><a id="more"></a></p>
<h1 id="åå°è¿è¡Œè¿›ç¨‹"><a href="#åå°è¿è¡Œè¿›ç¨‹" class="headerlink" title="åå°è¿è¡Œè¿›ç¨‹"></a>åå°è¿è¡Œè¿›ç¨‹</h1><p>å› ä¸ºæˆ‘æ˜¯è¿è¡Œexpressé¡¹ç›®(example)ï¼Œæ‰€ä»¥æˆ‘å…ˆè¿›å…¥exampleç›®å½•ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test.sh</span><br></pre></td></tr></table></figure>
<p>è¯¥å‘½ä»¤ä»¥ä½ åœ¨ç¼–è¾‘ç¯å¢ƒä¸­è¾“å…¥çš„å†…å®¹(npm start)ä½œä¸ºæ–‡ä»¶å†…å®¹ï¼Œåœ¨å½“å‰ç›®å½•ç”Ÿæˆtest.shæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./test.sh &amp;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡nohupæ‰§è¡Œè¯¥shæ–‡ä»¶ï¼Œåˆ™æˆåŠŸå°†è¿›ç¨‹æ”¾ç½®åœ¨åå°è¿è¡Œäº†ï¼Œä½ å¯ä»¥çœ‹åˆ°åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆäº†åä¸ºnohup.outçš„æ–‡ä»¶</p>
<h1 id="ç»ˆæ­¢è¿›ç¨‹"><a href="#ç»ˆæ­¢è¿›ç¨‹" class="headerlink" title="ç»ˆæ­¢è¿›ç¨‹"></a>ç»ˆæ­¢è¿›ç¨‹</h1><p>é¦–å…ˆé€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹å·</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lnp | grep ç«¯å£å·</span><br></pre></td></tr></table></figure>
<p>åœ¨é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç»ˆæ­¢è¿›ç¨‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 è¿›ç¨‹å·</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¾ˆç®€å•ä½†å¾ˆå®ç”¨ï½å¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nohup </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[äº‘æœåŠ¡å™¨ä¹‹ä»£ç†]]></title>
      <url>/2018/05/28/server-proxy/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ä»Šå¤©æƒ³ç€è¦æŠŠè‡ªå·±åšçš„é‚£ä¸ªDemoéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œå´å‘ç°åœ¨æœ¬åœ°å¯ä»¥æ­£å¸¸ä»£ç†çš„è¯·æ±‚ï¼Œåœ¨ç»è¿‡æ‰“åŒ…éƒ¨ç½²åï¼Œapiè¯·æ±‚ä»£ç†ä¼¼ä¹å·²ç»å¤±æ•ˆäº†ã€‚èŠ±äº†å¾ˆä¹…çš„æ—¶é—´åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€åç‰¹åˆ«æ„Ÿè°¢æŸä¿®ç»™äºˆçš„çµæ„Ÿä»¥åŠå­¦é•¿çš„è€å¿ƒè§£ç­”ï¼Œä¸ºäº†ä¾¿äºä»¥åæ›´æ–¹ä¾¿åœ°ä½¿ç”¨ï¼Œæˆ‘å°†ä¹‹è®°å½•ä¸‹æ¥ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨äº‘æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä½¿ç”¨äº†nginxä½œä¸ºæˆ‘çš„webæœåŠ¡å™¨ï¼Œnginx ä½œä¸ºç›®å‰æœ€æµè¡Œçš„webæœåŠ¡å™¨ä¹‹ä¸€ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°åå‘ä»£ç†ã€‚å½“åœ¨ä¸€å°ä¸»æœºä¸Šéƒ¨ç½²äº†å¤šä¸ªä¸åŒçš„webæœåŠ¡å™¨ï¼Œå¹¶ä¸”éœ€è¦èƒ½åœ¨80ç«¯å£åŒæ—¶è®¿é—®è¿™äº›webæœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ nginx çš„åå‘ä»£ç†åŠŸèƒ½: ç”¨ nginx åœ¨80ç«¯å£ç›‘å¬æ‰€æœ‰è¯·æ±‚ï¼Œå¹¶ä¾æ®è½¬å‘è§„åˆ™(æ¯”è¾ƒå¸¸è§çš„æ˜¯ä»¥ URI æ¥è½¬å‘)è½¬å‘åˆ°å¯¹åº”çš„webæœåŠ¡å™¨ä¸Šã€‚<br><a id="more"></a><br>åœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œæ˜¯å› ä¸ºæ‰€éœ€è¦è¯·æ±‚çš„APIä½äºæœåŠ¡å™¨ä¸Šçš„ä¸åŒç«¯å£ï¼Œä¸ºäº†å®ç°è·¨åŸŸè¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä»£ç†ã€‚</p>
<h1 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h1><p>æˆ‘çš„æœåŠ¡å™¨åŸŸåä¸º<strong>qq.qiuruolin.cn</strong></p>
<h2 id="ä¸å¸¦URIçš„ä»£ç†é…ç½®"><a href="#ä¸å¸¦URIçš„ä»£ç†é…ç½®" class="headerlink" title="ä¸å¸¦URIçš„ä»£ç†é…ç½®"></a>ä¸å¸¦URIçš„ä»£ç†é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">            server_name qq.qiuruolin.cn;</span><br><span class="line">            location /api/ &#123;</span><br><span class="line">                    proxy_pass http://qq.qiuruolin.cn:3000;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„é…ç½®ä¼š <a href="http://qq.qiuruolin.cn/api" target="_blank" rel="noopener">http://qq.qiuruolin.cn/api</a> ä¸‹çš„è¯·æ±‚( GET å’Œ POST è¯·æ±‚éƒ½ä¼šè½¬å‘)è½¬å‘åˆ° <a href="http://qq.qiuruolin.cn:3000/" target="_blank" rel="noopener">http://qq.qiuruolin.cn:3000/</a></p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä»¥ä¸Šçš„é…ç½®ä¸­ï¼Œ<a href="http://qq.qiuruolin.cn:3000æ˜¯æ²¡æœ‰æŒ‡å®šURIçš„ã€‚" target="_blank" rel="noopener">http://qq.qiuruolin.cn:3000æ˜¯æ²¡æœ‰æŒ‡å®šURIçš„ã€‚</a> </strong></p>
<ul>
<li><p>å¦‚æœä»£ç†æœåŠ¡å™¨åœ°å€ä¸­æ˜¯å¸¦æœ‰URIçš„ï¼Œæ­¤URIä¼šæ›¿æ¢æ‰ location æ‰€åŒ¹é…çš„URIéƒ¨åˆ†ã€‚ </p>
</li>
<li><p>å¦‚æœä»£ç†æœåŠ¡å™¨åœ°å€ä¸­æ˜¯ä¸å¸¦æœ‰URIçš„ï¼Œåˆ™ä¼šç”¨å®Œæ•´çš„è¯·æ±‚URLæ¥è½¬å‘åˆ°ä»£ç†æœåŠ¡å™¨ã€‚</p>
</li>
</ul>
<h2 id="å¸¦URIçš„ä»£ç†é…ç½®"><a href="#å¸¦URIçš„ä»£ç†é…ç½®" class="headerlink" title="å¸¦URIçš„ä»£ç†é…ç½®"></a>å¸¦URIçš„ä»£ç†é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">            server_name qq.qiuruolin.cn;</span><br><span class="line">            location /api/ &#123;</span><br><span class="line">                    proxy_pass http://qq.qiuruolin.cn:3000/uri/;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¾ğŸŒ°ï¼š</p>
<ul>
<li><p>ä¸å¸¦URI<br><a href="http://qq.qiuruolin.cn/api/user/register-&gt;" target="_blank" rel="noopener">http://qq.qiuruolin.cn/api/user/register-&gt;</a> <a href="http://qq.qiuruolin.cn:3000/api/user/register" target="_blank" rel="noopener">http://qq.qiuruolin.cn:3000/api/user/register</a></p>
</li>
<li><p>å¸¦URI<br><a href="http://qq.qiuruolin.cn/api/user/register-&gt;" target="_blank" rel="noopener">http://qq.qiuruolin.cn/api/user/register-&gt;</a> <a href="http://qq.qiuruolin.cn:3000/uri/user/register" target="_blank" rel="noopener">http://qq.qiuruolin.cn:3000/uri/user/register</a></p>
</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™æ¬¡åœ¨æœåŠ¡å™¨ä¸Šçš„ä»£ç†ï¼Œå¼€å§‹çš„æ—¶å€™çœŸçš„è®©æˆ‘æ„Ÿè§‰åˆ°å¾ˆæ··ä¹±ï¼Œä»¥æ­¤åšå®¢çºªå¿µæ›¾ç»æ··ä¹±çš„è‡ªå·±ï½å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½ç»§ç»­åŠªåŠ›ï¼ï¼ï¼</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æœåŠ¡å™¨ä»£ç† </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Linuxä¹‹MySQLæ•°æ®åº“å¸¸ç”¨æ“ä½œ]]></title>
      <url>/2018/05/28/Linux-mysql/</url>
      <content type="html"><![CDATA[<blockquote>
<p>å› ä¸ºæœ€è¿‘åœ¨ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²é¡¹ç›®ï¼Œæ‰€ä»¥ä¹Ÿéš¾å…è¦åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨MySQLï¼Œæ‰€ä»¥å°±æƒ³æŠŠMySQLå¸¸ä½¿ç”¨è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿æ—¥åæŸ¥çœ‹å¹¶ç†Ÿæ‚‰ï½ä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
</blockquote>
<h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><p>é¦–å…ˆä½ éœ€è¦åœ¨äº‘æœåŠ¡å™¨ä¸Šä¸‹è½½å®‰è£…MySQLï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šå¤§ç‰›ä»¬éƒ½å†™äº†ç›¸å…³çš„åšå®¢ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤å•¦ï½<br>æ³¨æ„ï¼šMySQL ä¸­æ¯ä¸ªå‘½ä»¤åéƒ½è¦ä»¥åˆ†å·;ç»“å°¾ã€‚</p>
<a id="more"></a>
<h1 id="æ˜¾ç¤ºæ•°æ®åº“"><a href="#æ˜¾ç¤ºæ•°æ®åº“" class="headerlink" title="æ˜¾ç¤ºæ•°æ®åº“"></a>æ˜¾ç¤ºæ•°æ®åº“</h1><p><strong>show databases;</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql/show-database.png" alt="æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“"></p>
<p>Mysql åˆšå®‰è£…å®Œæœ‰ä¸¤ä¸ªæ•°æ®åº“ï¼šmysql å’Œtestã€‚mysql åº“éå¸¸é‡è¦ï¼Œå®ƒé‡Œé¢æœ‰MySQL çš„ç³»ç»Ÿä¿¡æ¯ï¼Œæˆ‘ä»¬æ”¹å¯†ç å’Œæ–°å¢ç”¨æˆ·ï¼Œå®é™…ä¸Šå°±æ˜¯ç”¨è¿™ä¸ªåº“ä¸­çš„ç›¸å…³è¡¨è¿›è¡Œæ“ä½œã€‚</p>
<h1 id="å»ºåº“ï¼š"><a href="#å»ºåº“ï¼š" class="headerlink" title="å»ºåº“ï¼š"></a>å»ºåº“ï¼š</h1><p><strong>create database åº“å;</strong></p>
<p>ä¾‹å¦‚ï¼šåˆ›å»ºä¸€ä¸ªåå­—ä½nodeçš„åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database node;</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql/create-success.png" alt="åˆ›å»ºæ•°æ®åº“"></p>
<h1 id="å»ºè¡¨ï¼š"><a href="#å»ºè¡¨ï¼š" class="headerlink" title="å»ºè¡¨ï¼š"></a>å»ºè¡¨ï¼š</h1><p><strong>create table è¡¨å (å­—æ®µè®¾å®šåˆ—è¡¨);</strong></p>
<p>ä¾‹å¦‚ï¼šåœ¨åˆšåˆ›å»ºçš„nodeåº“ä¸­å»ºç«‹è¡¨user, è¡¨ä¸­æœ‰uid(åºå·, è‡ªåŠ¨å¢é•¿), username(å§“å), password(å¯†ç ), email(é‚®ç®±)å››ä¸ªå­—æ®µ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use node;</span><br><span class="line">create table user (uid int(4) auto_increment not null primary key, username varchar(255), password varchar(255), email varchar(255));</span><br></pre></td></tr></table></figure>
<h1 id="æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„è¡¨"><a href="#æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„è¡¨" class="headerlink" title="æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„è¡¨"></a>æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„è¡¨</h1><p><strong>show tables;</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use node; //æ‰“å¼€åº“</span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql/show-tables.png" alt="æ˜¾ç¤ºè¡¨"></p>
<h1 id="æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æ„ï¼š"><a href="#æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æ„ï¼š" class="headerlink" title="æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æ„ï¼š"></a>æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æ„ï¼š</h1><p><strong>describe è¡¨å;</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">describe user;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql/describe-user.png" alt="æ˜¾ç¤ºè¡¨ç»“æ„"></p>
<h1 id="å¢åŠ è®°å½•"><a href="#å¢åŠ è®°å½•" class="headerlink" title="å¢åŠ è®°å½•"></a>å¢åŠ è®°å½•</h1><p>ä¾‹å¦‚ï¼šå¢åŠ å‡ æ¡ç›¸å…³è®°å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into user(username, password, email) values(<span class="string">'qiuqiu'</span>, <span class="string">'qqq'</span>, <span class="string">'qiw@qq.com'</span>);</span><br><span class="line">insert into user(username, password, email) values(<span class="string">'hehe'</span>, <span class="string">'123456'</span>, <span class="string">'wywu@qq.com'</span>);</span><br></pre></td></tr></table></figure>
<h1 id="æ˜¾ç¤ºè¡¨ä¸­çš„è®°å½•ï¼š"><a href="#æ˜¾ç¤ºè¡¨ä¸­çš„è®°å½•ï¼š" class="headerlink" title="æ˜¾ç¤ºè¡¨ä¸­çš„è®°å½•ï¼š"></a>æ˜¾ç¤ºè¡¨ä¸­çš„è®°å½•ï¼š</h1><p>å¯ä»¥ä½¿ç”¨<strong>select * from è¡¨å;</strong>æ¥æŸ¥çœ‹æˆ‘ä»¬è¡¨ä¸­çš„æ•°æ®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from user;</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql/select.png" alt="æ˜¾ç¤ºè¡¨è®°å½•"></p>
<h1 id="ä¿®æ”¹è®°å½•"><a href="#ä¿®æ”¹è®°å½•" class="headerlink" title="ä¿®æ”¹è®°å½•"></a>ä¿®æ”¹è®°å½•</h1><p>ä¾‹å¦‚ï¼šå°†qiuqiuçš„å¯†ç æ”¹ä¸º123</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update user <span class="built_in">set</span> password=<span class="string">'123'</span> <span class="built_in">where</span> username=<span class="string">'qiuqiu'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql/update-success2.png" alt="ä¿®æ”¹"></p>
<h1 id="åˆ é™¤è®°å½•"><a href="#åˆ é™¤è®°å½•" class="headerlink" title="åˆ é™¤è®°å½•"></a>åˆ é™¤è®°å½•</h1><p>ä¾‹å¦‚ï¼šåˆ é™¤qiuqiuçš„çºªå½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from user <span class="built_in">where</span> username=<span class="string">'qiuqiu'</span>;</span><br></pre></td></tr></table></figure>
<h1 id="åˆ åº“å’Œåˆ è¡¨"><a href="#åˆ åº“å’Œåˆ è¡¨" class="headerlink" title="åˆ åº“å’Œåˆ è¡¨"></a>åˆ åº“å’Œåˆ è¡¨</h1><p><strong>drop database åº“å;</strong></p>
<p><strong>drop table è¡¨å;</strong></p>
<h1 id="å¢åŠ MySQL-ç”¨æˆ·"><a href="#å¢åŠ MySQL-ç”¨æˆ·" class="headerlink" title="å¢åŠ MySQL ç”¨æˆ·"></a>å¢åŠ MySQL ç”¨æˆ·</h1><p><strong>grant select on æ•°æ®åº“.* to ç”¨æˆ·å@ç™»å½•ä¸»æœº identified by â€œå¯†ç â€</strong></p>
<p>ä¾‹1ã€å¢åŠ ä¸€ä¸ªç”¨æˆ·user_1å¯†ç ä¸º123ï¼Œè®©ä»–å¯ä»¥åœ¨ä»»ä½•ä¸»æœºä¸Šç™»å½•ï¼Œå¹¶å¯¹æ‰€æœ‰æ•°æ®åº“æœ‰æŸ¥è¯¢ã€æ’å…¥ã€ä¿®æ”¹ã€åˆ é™¤çš„æƒé™ã€‚é¦–å…ˆç”¨ä»¥rootç”¨æˆ·è¿å…¥MySQL ï¼Œç„¶åé”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select, insert, update, delete on *.* to mailto:user_1@<span class="string">" "</span> Identified by <span class="string">"123"</span>;</span><br></pre></td></tr></table></figure>
<h1 id="å¤‡ä»½ä¸æ¢å¤"><a href="#å¤‡ä»½ä¸æ¢å¤" class="headerlink" title="å¤‡ä»½ä¸æ¢å¤"></a>å¤‡ä»½ä¸æ¢å¤</h1><h2 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h2><pre><code>ä¾‹å¦‚ï¼šå°†ä¸Šä¾‹åˆ›å»ºçš„nodeåº“å¤‡ä»½åˆ°æ–‡ä»¶back_nodeä¸­
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cdã€€/home/data/mysql ã€€(è¿›å…¥åˆ°åº“ç›®å½•)</span></span><br><span class="line"><span class="comment"># mysqldump -u root -p â€“opt node &gt; back_node</span></span><br></pre></td></tr></table></figure>
<h2 id="æ¢å¤"><a href="#æ¢å¤" class="headerlink" title="æ¢å¤"></a>æ¢å¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysql -u root -p recover_node &lt; back_node</span></span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸ºäº†é˜²æ­¢è‡ªå·±ä»¥åå¿˜è®°ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œè®°å½•äº†ä¸€äº›é€šè¿‡å‘½ä»¤è€Œè¿›è¡Œçš„ä¸€äº›å¸¸ç”¨çš„MySQLæ•°æ®åº“æ“ä½œï¼Œå†…å®¹å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¾¿äºè‡ªå·±ä»¥åæŸ¥é˜…ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Reactä¹‹ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ]]></title>
      <url>/2018/05/27/react-life-circle/</url>
      <content type="html"><![CDATA[<blockquote>
<p>åœ¨å­¦ä¹ Reactæ—¶ï¼Œæœ‰æ—¶å€™é‡åˆ°æ•°æ®æ›´æ–°ï¼Œè€Œç•Œé¢å´ä¸èƒ½åŠæ—¶æ›´æ–°çš„é—®é¢˜ï¼ŒæŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œå¤§éƒ¨åˆ†åŸå› æ˜¯å› ä¸ºå¯¹Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰å¾ˆå¥½åœ°ç†è§£ï¼Œæ‰€ä»¥ç‰¹åœ°æƒ³æŠŠç”Ÿå‘½å‘¨æœŸæœ‰å…³çš„çŸ¥è¯†è®°å½•ä¸‹æ¥ï¼Œä¾¿äºè‡ªå·±ç†è§£å’Œå­¦ä¹ ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶æœ‰ä¸€äº›å¸®åŠ©ï½</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å¯åˆ†ä¸ºä¸‰ç§ï¼š</p>
<ul>
<li>Mounting: å·²æ’å…¥çœŸå®DOM</li>
<li>Updating: æ­£åœ¨è¢«é‡æ–°æ¸²æŸ“</li>
<li>Unmounting: å·²ç§»å‡ºçœŸå®DOM</li>
</ul>
<p>ç»„ä»¶æŒ‚è½½çš„ç»å…¸å›¾ç‰‡ï¼š</p>
<a id="more"></a>
<p><img src="/img/life-circle.jpg" alt="life-circle"></p>
<p>æ¥ä¸‹æ¥æˆ‘å°†ä¼šè¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™å‡ ä¸ªç”Ÿå‘½å‘¨æœŸçš„æ„ä¹‰</p>
<h1 id="å®ä¾‹åŒ–"><a href="#å®ä¾‹åŒ–" class="headerlink" title="å®ä¾‹åŒ–"></a>å®ä¾‹åŒ–</h1><p>é¦–æ¬¡è°ƒç”¨ç»„ä»¶æ—¶ï¼Œæœ‰ä»¥ä¸‹æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼ˆæ³¨æ„é¡ºåºï¼Œä»ä¸Šåˆ°ä¸‹å…ˆåæ‰§è¡Œï¼‰ï¼š</p>
<ul>
<li><p><strong>getDefaultProps()</strong>ï¼šè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®ç»„ä»¶é»˜è®¤çš„propsï¼Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚è¿™ä¸ªæ–¹æ³•åœ¨å¯¹è±¡è¢«åˆ›å»ºä¹‹å‰æ‰§è¡Œï¼Œå› æ­¤ä¸èƒ½åœ¨æ–¹æ³•å†…è°ƒç”¨this.propsã€‚</p>
</li>
<li><p><strong>getInitialState()</strong>ï¼šè®¾ç½®stateåˆå§‹å€¼ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä½ å·²ç»å¯ä»¥è®¿é—®åˆ°this.propsã€‚</p>
</li>
<li><p><strong>componentWillMount()</strong>ï¼šè¯¥æ–¹æ³•ä¼šåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“ä¹‹å‰è°ƒç”¨ï¼Œè¿™ä¸ªæ˜¯åœ¨renderæ–¹æ³•è°ƒç”¨å‰å¯ä¿®æ”¹stateçš„æœ€åä¸€æ¬¡æœºä¼šã€‚</p>
</li>
<li><p><strong>render()</strong>ï¼šè°ƒç”¨render()æ–¹æ³•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥this.propså’Œthis.stateè¿”å›ä¸€ä¸ªå­å…ƒç´ ï¼Œå­å…ƒç´ å¯ä»¥æ˜¯DOMç»„ä»¶æˆ–è€…å…¶ä»–è‡ªå®šä¹‰å¤åˆæ§ä»¶çš„è™šæ‹Ÿå®ç° ï¼Œå¦‚æœä¸æƒ³æ¸²æŸ“å¯ä»¥è¿”å›nullæˆ–è€…falseã€‚render()æ–¹æ³•æ˜¯å¾ˆçº¯å‡€çš„ï¼Œè¿™å°±æ„å‘³ç€ä¸è¦åœ¨è¿™ä¸ªæ–¹æ³•é‡Œåˆå§‹åŒ–ç»„ä»¶çš„stateï¼Œæ¯æ¬¡æ‰§è¡Œæ—¶è¿”å›ç›¸åŒçš„å€¼ï¼Œä¸ä¼šè¯»å†™DOMæˆ–è€…ä¸æœåŠ¡å™¨äº¤äº’ã€‚</p>
</li>
<li><p><strong>componentDidMount()</strong>ï¼šåœ¨é¦–æ¬¡çœŸå®çš„DOMæ¸²æŸ“åè°ƒç”¨ï¼ˆä»…æ­¤ä¸€æ¬¡ï¼‰ï¼Œåªåœ¨å®¢æˆ·ç«¯ã€‚ä¹‹åç»„ä»¶å·²ç»ç”Ÿæˆäº†å¯¹åº”çš„DOMç»“æ„ï¼Œå¯ä»¥é€šè¿‡this.getDOMNode()æ¥è¿›è¡Œè®¿é—®ã€‚ å¦‚æœä½ æƒ³å’Œå…¶ä»–JavaScriptæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨setTimeout, setIntervalæˆ–è€…å‘é€AJAXè¯·æ±‚ç­‰æ“ä½œ(é˜²æ­¢å¼‚éƒ¨æ“ä½œé˜»å¡UI)ã€‚</p>
</li>
</ul>
<h1 id="å­˜åœ¨æœŸ"><a href="#å­˜åœ¨æœŸ" class="headerlink" title="å­˜åœ¨æœŸ"></a>å­˜åœ¨æœŸ</h1><p>å®ä¾‹åŒ–åï¼Œå½“propsæˆ–è€…stateå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸‹é¢æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨ï¼š</p>
<ul>
<li><p><strong>componentWillReceiveProps()</strong>ï¼šåœ¨ç»„ä»¶æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„ prop (æ›´æ–°å)æ—¶è¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•åœ¨åˆå§‹åŒ–renderæ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
</li>
<li><p><strong>shouldComponentUpdate()</strong>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚åœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateæ—¶è¢«è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶æˆ–è€…ä½¿ç”¨forceUpdateæ—¶ä¸è¢«è°ƒç”¨ã€‚ å¯ä»¥åœ¨ä½ ç¡®è®¤ä¸éœ€è¦æ›´æ–°ç»„ä»¶æ—¶ä½¿ç”¨ã€‚é»˜è®¤è¿”å›trueã€‚</p>
</li>
<li><p><strong>componentWillUpdate()</strong>ï¼šåœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateä½†è¿˜æ²¡æœ‰renderæ—¶è¢«è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">void componentWillUpdate(</span><br><span class="line">  object nextProps, object nextState</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>  åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢ï¼Œä½ å°±ä¸èƒ½ä½¿ç”¨this.setStateæ¥ä¿®æ”¹çŠ¶æ€ã€‚è¿™ä¸ªå‡½æ•°è°ƒç”¨ä¹‹åï¼Œå°±ä¼šæŠŠnextPropså’ŒnextStateåˆ†åˆ«è®¾ç½®åˆ°this.propså’Œthis.stateä¸­ï¼Œç´§æ¥ç€è¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šè°ƒç”¨render()æ¥æ›´æ–°ç•Œé¢äº†</p>
</li>
<li><p><strong>render()</strong>ï¼šä¸å®ä¾‹åŒ–æœŸç›¸åŒ</p>
</li>
<li><p><strong>componentDidUpdate()</strong>ï¼šåœ¨ç»„ä»¶å®Œæˆæ›´æ–°åç«‹å³è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
</li>
</ul>
<h1 id="é”€æ¯æœŸ"><a href="#é”€æ¯æœŸ" class="headerlink" title="é”€æ¯æœŸ"></a>é”€æ¯æœŸ</h1><p>é”€æ¯é˜¶æ®µï¼Œåªæœ‰ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼š</p>
<ul>
<li><strong>componentWillUnmount()</strong>ï¼šåœ¨ç»„ä»¶ä» DOM ä¸­ç§»é™¤çš„æ—¶å€™ç«‹åˆ»è¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå¯ä»¥åšä¸€äº›ç»„ä»¶ç›¸å…³çš„æ¸…ç†å·¥ä½œï¼Œä¾‹å¦‚å–æ¶ˆè®¡æ—¶å™¨ã€ç½‘ç»œè¯·æ±‚ç­‰</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡åšå®¢æŸ¥é˜…äº†å¾ˆå¤šç½‘ä¸Šå¤§ç‰›ä»¬çš„åšå®¢ï¼Œç»“åˆäº†èœé¸Ÿæ•™ç¨‹ä¸Šçš„æ–‡æ¡£ï¼Œå¸Œæœ›è‡ªå·±èƒ½å¤Ÿå¯¹Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰æ›´å¥½åœ°ç†è§£ï¼Œå‰è·¯æ¼«æ¼«ï½ä¸€èµ·åŠ æ²¹å“¦ï½</p>
]]></content>
      
        <categories>
            
            <category> React.js </category>
            
        </categories>
        
        
        <tags>
            
            <tag> React.js ç”Ÿå‘½å‘¨æœŸ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åŸºäºReactåŠExpressé¡¹ç›®çš„æ‰“åŒ…éƒ¨ç½²]]></title>
      <url>/2018/05/24/react-express/</url>
      <content type="html"><![CDATA[<blockquote>
<p>æœ€è¿‘ä¸ºäº†7æœˆä»½å®ä¹ æ›´åŠ é¡ºæ‰‹ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ å…¬å¸æ¯”è¾ƒæµè¡Œçš„Reactï¼Œä¹‹å‰å¯¹Vueæœ‰è¿‡äº†è§£å¹¶åšè¿‡é¡¹ç›®ç»ƒæ‰‹ï¼Œæ‰€ä»¥å¯¹Reactçš„æ€æƒ³ä¹Ÿæ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡è‡ªå·±ï¼Œä»¥åŠä¸ºåç»­å­¦ä¹ ä½¿ç”¨Nodeæ­å»ºæœåŠ¡å™¨ç«¯ï¼Œæˆ‘ç‰¹åœ°å»è…¾è®¯äº‘ä¸Šä¹°äº†è‡ªå·±çš„äº‘æœåŠ¡å™¨ï½è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸‹ï¼Œä¸€ä¸ªä½¿ç”¨Reactåšå‰ç«¯ï¼ŒExpressåšåç«¯çš„é¡¹ç›®å¦‚ä½•æ‰“åŒ…éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
</blockquote>
<h1 id="äº‘æœåŠ¡å™¨å‡†å¤‡"><a href="#äº‘æœåŠ¡å™¨å‡†å¤‡" class="headerlink" title="äº‘æœåŠ¡å™¨å‡†å¤‡"></a>äº‘æœåŠ¡å™¨å‡†å¤‡</h1><p>é¦–å…ˆä½ éœ€è¦æœ‰ä¸ªå·²ç»å¤‡æ¡ˆè¿‡çš„åŸŸåï¼Œç„¶åéœ€è¦ä¹°ä¸ªäº‘æœåŠ¡å™¨ï¼Œå°†ä½ çš„åŸŸåè§£æåˆ°æœåŠ¡å™¨åœ°å€ï¼Œæˆ‘è§£æçš„åŸŸåä¸ºqq.qiuruolin.cnï¼Œå…·ä½“æ­¥éª¤å¤§å®¶å¯ä»¥Googleä¸€ä¸‹ï½<br>å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯Macï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨sshè¿æ¥äº‘æœåŠ¡å™¨ï¼Œé…ç½®nginxï¼Œå¹¶é€šè¿‡service nginx startå¯åŠ¨æœåŠ¡ï¼Œä¸‹è½½å®‰è£…gitï¼Œå› ä¸ºæˆ‘ä»¬åé¢éœ€è¦ä½¿ç”¨gitæ¥å…‹éš†expressåç«¯é¡¹ç›®<br><a id="more"></a></p>
<h1 id="Reactå‰ç«¯"><a href="#Reactå‰ç«¯" class="headerlink" title="Reactå‰ç«¯"></a>Reactå‰ç«¯</h1><p>é¦–å…ˆä½¿ç”¨create-react-appåˆ›å»ºReacté¡¹ç›®ï¼Œä½¿ç”¨npm installå®‰è£…ä¾èµ–åŒ…ï¼Œé€šè¿‡npm startè¿è¡Œï¼ŒæˆåŠŸåå°±å¯ä»¥å¼€å§‹ç¼–å†™ä½ è‡ªå·±çš„é¡¹ç›®äº†<br>å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ajaxå»è¯·æ±‚åç«¯æ•°æ®ï¼Œä½†æ˜¯è¦æ³¨æ„è§£å†³è·¨åŸŸé—®é¢˜ï¼š<br>åœ¨package.jsonä¸­æ·»åŠ <br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"proxy"</span>: &#123;</span><br><span class="line">	<span class="string">"/api"</span>: &#123;</span><br><span class="line">		<span class="string">"target"</span>: <span class="string">"http://127.0.0.1: 3001"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;ï¼Œ</span><br></pre></td></tr></table></figure></p>
<p><a href="http://127.0.0.1" target="_blank" rel="noopener">http://127.0.0.1</a>: 3000æ¢æˆä½ éœ€è¦ä»£ç†çš„åŸŸåï¼Œæœ€å¥½æ˜¯ä½¿ç”¨IPåœ°å€ï¼Œä¸Šé¢çš„é…ç½®å°±æ˜¯å°†æœ¬åœ°æ‰€æœ‰ä»¥/apiå¼€å¤´çš„è¯·æ±‚è½¬å‘åˆ°ä½ é…ç½®çš„åœ°å€ä¸Š<br>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¯·æ±‚ä»£ç†åˆ°æˆ‘ä»¬äº‘æœåŠ¡å™¨çš„expressåç«¯ä¸Š</p>
<p>å†™å®Œä»£ç ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰“åŒ…éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šçš„å·¥ä½œäº†<br>é¦–å…ˆé€šè¿‡npm buildå¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼Œç”Ÿæˆåä¸ºbuildçš„æ–‡ä»¶å¤¹<br>å°†buildæ–‡ä»¶å¤¹é€šè¿‡scpå‘½ä»¤ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ä¸Š<br>æ³¨æ„ï¼šè¦ä¸Šä¼ è‡³æœåŠ¡å™¨çš„æ ¹ç›®å½•ä¸‹ï¼Œé»˜è®¤ä¸º/rootï¼ˆå¯ä»¥åœ¨/etc/nginx/nginx.confä¸­é…ç½®ï¼‰<br>ä¸Šä¼ åé€šè¿‡service nginx restarté‡å¯ï¼Œè¿™æ—¶ä½ è¯•ç€å¯ä»¥è®¿é—®qq.qiuruolin.cn/build/index.htmlï¼Œè‹¥é¡µé¢å‡ºç°åˆ™è¡¨ç¤ºéƒ¨ç½²æˆåŠŸã€‚</p>
<h1 id="Expressåç«¯"><a href="#Expressåç«¯" class="headerlink" title="Expressåç«¯"></a>Expressåç«¯</h1><p>é€šè¿‡expressæ¥æ–°åˆ›å»ºä¸€ä¸ªexpressé¡¹ç›®ï¼Œå‰ææ˜¯éœ€è¦ä½ å…¨å±€å®‰è£…expressï¼Œæ–°å»ºé¡¹ç›®ä¹‹åä½¿ç”¨npm installå®‰è£…ä¾èµ–åŒ…ï¼Œä½¿ç”¨npm startè¿è¡Œï¼Œå‡ºç°Expressæ¬¢è¿é¡µåˆ™è¯´æ˜é¡¹ç›®åˆ›å»ºæˆåŠŸäº†<br>æ¥ç€ï¼Œä½ å¯ä»¥å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„è¯·æ±‚è¿›è¡Œæµ‹è¯•<br>åˆ›å»ºä»“åº“é…ç½®gitï¼Œå¹¶å°†é¡¹ç›®pushåˆ°gitä¸Š<br>è¿æ¥äº‘æœåŠ¡å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨gitå…‹éš†é¡¹ç›®ï¼Œå¹¶ä½¿ç”¨npm installå®‰è£…ä¾èµ–é …ï¼Œä½¿ç”¨npm startï¼Œè®¿é—®ä½ è§£æçš„åŸŸå:3000/ä½ çš„apiï¼Œè‹¥æˆåŠŸåˆ™ä½ çš„åç«¯é¡¹ç›®å°±åœ¨äº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²æˆåŠŸäº†<br>ä½ å¯ä»¥ä½¿ç”¨npm start &amp;å°†é¡¹ç›®æ”¾ç½®åå°è¿è¡Œï¼Œä½¿ç”¨jobsæŸ¥çœ‹è¿è¡Œçš„è¿›ç¨‹ï¼Œfgå’Œbgå°†è¿›ç¨‹åœ¨å‰åå°åˆ‡æ¢</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åˆ°è¿™ä¸€æ­¥ï¼Œæ•´ä¸ªé¡¹ç›®åŸºæœ¬éƒ½é…ç½®å®Œäº†ï¼Œå…¶å®è¿™ä¸ªå¹¶ä¸æ˜¯èŠ±æ—¶é—´æœ€å¤šçš„åœ°æ–¹ï¼ŒèŠ±æ—¶é—´æ¢ç´¢çš„æ˜¯ï¼Œæˆ‘å¦‚ä½•å»æ„å»ºä¸€ä¸ªå®Œæ•´å‰åç«¯ä¿±å…¨çš„é¡¹ç›®ï¼Œå­¦ä¹ çš„è·¯ä¸Šä¼šé‡åˆ°å¾ˆå¤šè¿·èŒ«ï¼Œåªè¦ç§¯ææ¢ç´¢ï¼Œä¸æ°”é¦ï¼Œä¸æ”¾å¼ƒï¼Œä¸éª„èºï¼Œç›¸ä¿¡å¤§å®¶å¯ä»¥å˜å¾—æ›´å¥½ï¼å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> React.js </category>
            
        </categories>
        
        
        <tags>
            
            <tag> React.js Express </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è®°è…¾è®¯çš„ä¸€æ¬¡å‰ç«¯é¢è¯•ç»å†ï¼ˆå…±å››é¢ï¼Œå·²æ‹¿å®ä¹ Offerï¼‰]]></title>
      <url>/2018/05/23/interview-experiences/</url>
      <content type="html"><![CDATA[<blockquote>
<p>å› ä¸ºæˆ‘ä»¬ä¸“ä¸šè¦æ±‚å¤§å››ä¸€å­¦å¹´çš„å®ä¹ ï¼Œæ‰€ä»¥è¿™æ®µæ—¶é—´ä¹Ÿå°±è‡ªç„¶åœ¨åšæ˜¥æ‹›å†…æ¨çš„å„é¡¹å‡†å¤‡ï¼Œä»å¼€å§‹æ‰¾å®ä¹ åˆ°è·å¾—è…¾è®¯å®ä¹ Offerå¤§çº¦å†ç»äº†ä¸€ä¸ªå¤šæœˆçš„æ—¶é—´ï¼Œè¿™ä¸€ä¸ªå¤šæœˆæ¥å‹åŠ›å¾ˆå¤§ï¼Œä¹Ÿå¾ˆæ€•æ‰¾ä¸åˆ°å¥½çš„å®ä¹ ï¼Œæ‰€ä»¥è¿™ä¸ªæœˆä¹Ÿåˆ·äº†å¾ˆå¤šå¤§ä½¬çš„é¢ç»ï¼Œè·å¾—äº†å¾ˆå¤šå¸®åŠ©ï¼Œä¹Ÿå¢é•¿äº†å¾ˆå¤šå‰ç«¯çŸ¥è¯†ã€‚æ˜¯åœ¨æ¸…æ˜èŠ‚å‰ä¸€å¤©æ”¶åˆ°è…¾è®¯HRå°å“¥å“¥çš„Offerç”µè¯ï¼Œæ—¶éš”è¿™ä¹ˆä¹…æ‰æƒ³èµ·è¦æŠŠè…¾è®¯é¢è¯•çš„ä¸€äº›é—®é¢˜å†™æˆåšå®¢ï¼Œæˆ–è®¸ä¼šå¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»å‡†å¤‡æ˜¥æ‹›ä»¥æ¥ï¼Œä¸€å…±é¢è¯•çš„å…¬å¸æœ‰ä¸‰å®¶ï¼šäº¬ä¸œã€è…¾è®¯å’ŒCVTEï¼Œäº¬ä¸œæƒ…å†µæ¯”è¾ƒç‰¹æ®Šåº”è¯¥ä¸ç®—æ˜¯æ­£å¼çš„æ˜¥æ‹›ï¼Œäº¬ä¸œé¢è¯•æ—¶é—®äº†å¾ˆå¤šæœ‰å…³CSSçš„çŸ¥è¯†ï¼Œæ¯”å¦‚marginå¡Œé™·ã€CSS3æ–°ç‰¹æ€§ã€èƒŒæ™¯é€æ˜çš„å®ç°æ–¹æ³•ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•ä»¥åŠå‚ç›´å±…ä¸­çš„æ–¹æ³•ç­‰<br><a id="more"></a><br>CVTEæ˜¯å”¯ä¸€ä¸€ä¸ªç°åœºé¢è¯•çš„ï¼Œå¾ˆå¤šé¢è¯•é¢˜ç›®éƒ½å¾ˆç±»ä¼¼ï¼Œå°è±¡æœ€æ·±çš„æ˜¯ä¸‰é“æ‰‹æ’•ä»£ç é¢˜ï¼Œ</p>
<ul>
<li>ç¬¬ä¸€é“æ˜¯å†™ä¸€ç¨‹åºéå†ä¸€ä¸ªDOMç»“æ„ï¼Œ</li>
<li>ç¬¬äºŒé“æ˜¯ç®—æ³•é¢˜ï¼Œè¦æ±‚ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²â€I love dogâ€å˜æˆâ€dog love Iâ€</li>
<li>ç¬¬ä¸‰é“æ˜¯å®ç°æŸä¸ªç§æ …æ ¼å¸ƒå±€</li>
</ul>
<h1 id="ä¸€é¢"><a href="#ä¸€é¢" class="headerlink" title="ä¸€é¢"></a>ä¸€é¢</h1><p>ä¸€é¢å¤§æ¦‚é¢äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œé—®äº†å¾ˆå¤šåŸºç¡€çŸ¥è¯†ï¼Œæ¶‰åŠçš„æ–¹é¢ä¹Ÿå¾ˆå¹¿<br>é¦–å…ˆä»‹ç»å®ä¹ ç»å†ï¼Œbalabalaè®²äº†ä¸€ä¸‹é¡¹ç›®ç»éªŒï¼Œç„¶åå¤§æ¦‚è¯´äº†ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™å¼€å§‹å­¦ä¹ å‰ç«¯ï¼Œä»¥ä¸‹æ˜¯æˆ‘è®°å¾—çš„ä¸€äº›é—®é¢˜ï¼š</p>
<h4 id="1-æ€ä¹ˆä½¿ç”¨dnsç¼“å­˜åšä¼˜åŒ–"><a href="#1-æ€ä¹ˆä½¿ç”¨dnsç¼“å­˜åšä¼˜åŒ–" class="headerlink" title="1. æ€ä¹ˆä½¿ç”¨dnsç¼“å­˜åšä¼˜åŒ–"></a>1. æ€ä¹ˆä½¿ç”¨dnsç¼“å­˜åšä¼˜åŒ–</h4><p>DNSçš„ä¼˜åŒ–ï¼Œ å½“ç„¶æ˜¯å°½å¯èƒ½å°‘çš„é€ æˆDNSæŸ¥è¯¢å¼€é”€ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ç½‘å€æ—¶ï¼Œæµè§ˆå™¨ä¼šé¦–å…ˆé€šè¿‡è®¿é—®çš„åŸŸåæ¥å®šä½åˆ°IP (DNS) ä»è€Œæ‰¾åˆ°å»å“ªé‡Œè·å–èµ„æºï¼Œæµè§ˆå™¨ä¼šæŒ‰æµè§ˆå™¨ç¼“å­˜-&gt;ç³»ç»Ÿç¼“å­˜-&gt;è·¯ç”±å™¨ç¼“å­˜-&gt;ISP DNSç¼“å­˜-&gt;é€’å½’æœç´¢ä¾æ¬¡è¿›è¡ŒæŸ¥è¯¢ï¼ŒDNSä¼˜åŒ–å°±æ˜¯éœ€è¦æˆ‘ä»¬å°½å¯èƒ½å°‘çš„åŸŸåè§£æã€‚<br>DNSé¢„å–å°±æ˜¯åœ¨æµè§ˆå™¨åŠ è½½ç½‘é¡µæ—¶ï¼Œ å¯¹ç½‘é¡µä¸­çš„æˆ–è€…çš„hrefå±æ€§ä¸­çš„åŸŸåè¿›è¡Œåå°çš„é¢„è§£æï¼Œ å¹¶ä¸”å°†è§£æç»“æœç¼“å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œ å½“ç”¨æˆ·åœ¨çœŸæ­£ç‚¹å‡»é“¾æ¥æ—¶ï¼Œ çœå»åœ¨å½“ä¸‹çš„DNSè§£ææ¶ˆè€—ï¼Œ æŠŠè¿™ä¸ªæ¶ˆè€—è¿‡ç¨‹è½¬å«åˆ°ç”¨æˆ·æ— æ³•æ„ŸçŸ¥çš„æµè§ˆè¿‡ç¨‹ä¸­å»ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥æ‰“å¼€DNSé¢„å–ï¼š</p>
<ul>
<li>å¯ä»¥é€šè¿‡ç”¨metaä¿¡æ¯æ¥å‘ŠçŸ¥æµè§ˆå™¨ï¼Œ å½“å‰é¡µé¢è¦åšDNSé¢„å–:<meta http-equiv="x-dns-prefetch-control" content="on"></li>
<li>å¯ä»¥ä½¿ç”¨linkæ ‡ç­¾æ¥å¼ºåˆ¶å¯¹DNSåšé¢„å–: <link rel="dns-prefetch" href="http://bdimg.share.baidu.com"></li>
</ul>
<h4 id="2-ES6äº†è§£å“ªäº›ï¼Ÿ"><a href="#2-ES6äº†è§£å“ªäº›ï¼Ÿ" class="headerlink" title="2. ES6äº†è§£å“ªäº›ï¼Ÿ"></a>2. ES6äº†è§£å“ªäº›ï¼Ÿ</h4><p>ES6ä¸­æœ‰å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œæ¯”å¦‚Promiseã€Generatorã€ç®­å¤´å‡½æ•°ç­‰ï¼Œå»ºè®®å¤§å®¶å¤šç†Ÿæ‚‰ä¸€ä¸‹</p>
<h4 id="3-çŸ¥é“å“ªäº›æ•°ç»„æ–¹æ³•"><a href="#3-çŸ¥é“å“ªäº›æ•°ç»„æ–¹æ³•" class="headerlink" title="3. çŸ¥é“å“ªäº›æ•°ç»„æ–¹æ³•"></a>3. çŸ¥é“å“ªäº›æ•°ç»„æ–¹æ³•</h4><p>æœ€å¸¸ç”¨çš„æœ‰æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>join()â€”â€”å°†æ•°ç»„å…ƒç´ ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li>push()å’Œpop()â€”â€”ç±»ä¼¼æ ˆçš„æ“ä½œ</li>
<li>shift()å’Œunshift()â€”â€”åˆ é™¤æ•°ç»„ç¬¬ä¸€é¡¹ï¼æ·»åŠ å…ƒç´ è‡³æ•°ç»„ç¬¬ä¸€é¡¹</li>
<li>sort()â€”â€”å¯¹æ•°ç»„è¿›è¡Œæ’åº</li>
<li>reverse()â€”â€”åè½¬æ•°ç»„é …çš„é¡ºåº</li>
<li>concat() â€”â€”å°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„ä¸­ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå…ˆåˆ›å»ºå½“å‰æ•°ç»„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå°†æ¥æ”¶åˆ°çš„å‚æ•°æ·»åŠ åˆ°è¿™ä¸ªå‰¯æœ¬çš„æœ«å°¾ï¼Œæœ€åè¿”å›æ–°æ„å»ºçš„æ•°ç»„ã€‚åœ¨æ²¡æœ‰ç»™ concat()æ–¹æ³•ä¼ é€’å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå®ƒåªæ˜¯å¤åˆ¶å½“å‰æ•°ç»„å¹¶è¿”å›å‰¯æœ¬ã€‚</li>
<li>slice()â€”â€”è¿”å›ä»åŸæ•°ç»„ä¸­æŒ‡å®šå¼€å§‹ä¸‹æ ‡åˆ°ç»“æŸä¸‹æ ‡ä¹‹é—´çš„é¡¹ç»„æˆçš„æ–°æ•°ç»„ã€‚</li>
<li>splice()â€”â€”å¾ˆå¼ºå¤§çš„æ•°ç»„æ–¹æ³•ï¼Œå®ƒæœ‰å¾ˆå¤šç§ç”¨æ³•ï¼Œå¯ä»¥å®ç°åˆ é™¤ã€æ’å…¥å’Œæ›¿æ¢ã€‚</li>
<li>indexOf()å’ŒlastIndexOf()â€”â€”ä»æ•°ç»„çš„å¼€å¤´ï¼ˆä½ç½® 0ï¼‰å¼€å§‹å‘åæŸ¥æ‰¾ï¼ä»æ•°ç»„çš„æœ«å°¾å¼€å§‹å‘å‰æŸ¥æ‰¾ã€‚</li>
<li>forEach()â€”â€”å¯¹æ•°ç»„è¿›è¡Œéå†å¾ªç¯ï¼Œå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚</li>
<li>map()â€”â€”å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ã€‚</li>
<li>filter()â€”â€”â€œè¿‡æ»¤â€åŠŸèƒ½ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ»¡è¶³è¿‡æ»¤æ¡ä»¶ç»„æˆçš„æ•°ç»„ã€‚</li>
<li>every()â€”â€”åˆ¤æ–­æ•°ç»„ä¸­æ¯ä¸€é¡¹éƒ½æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œåªæœ‰æ‰€æœ‰é¡¹éƒ½æ»¡è¶³æ¡ä»¶ï¼Œæ‰ä¼šè¿”å›trueã€‚</li>
<li>some()â€”â€”åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„é¡¹ï¼Œåªè¦æœ‰ä¸€é¡¹æ»¡è¶³æ¡ä»¶ï¼Œå°±ä¼šè¿”å›trueã€‚</li>
<li>reduce()å’Œ reduceRight()â€”â€”ä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åï¼ä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éå†åˆ°ç¬¬ä¸€é¡¹ã€‚<br>ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªåœ¨æ¯ä¸€é¡¹ä¸Šè°ƒç”¨çš„å‡½æ•°å’Œï¼ˆå¯é€‰çš„ï¼‰ä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ã€‚</li>
</ul>
<h4 id="4-å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"><a href="#4-å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—" class="headerlink" title="4. å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"></a>4. å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</h4><ul>
<li>parseInt()å’ŒparseFloat()ï¼Œè¦æ³¨æ„æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½¿ç”¨çš„åŸºæ¨¡å¼ï¼ˆäºŒè¿›åˆ¶(2)ã€å…«è¿›åˆ¶(8)ã€åè¿›åˆ¶(10)ã€åå…­è¿›åˆ¶(16)ï¼‰</li>
<li>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šNumber(value)</li>
<li>jså¼±ç±»å‹è½¬æ¢ï¼ˆä¸æ¨èï¼‰ï¼švar x = str-0; x = x*1;</li>
</ul>
<h4 id="5-cdnç¼“å­˜çš„åŸç†"><a href="#5-cdnç¼“å­˜çš„åŸç†" class="headerlink" title="5. cdnç¼“å­˜çš„åŸç†"></a>5. cdnç¼“å­˜çš„åŸç†</h4><p> æ¨èçœ‹<a href="https://www.cnblogs.com/SkySoot/p/6119356.html" target="_blank" rel="noopener">CDNæŠ€æœ¯è¯¦è§£</a>è¿™ç¯‡åšå®¢ï¼Œåšä¸»å¯¹äºCDNçš„ç›¸å…³çŸ¥è¯†ç‚¹ç¡®å®è®²è§£çš„æ¯”è¾ƒåˆ°ä½äº†</p>
<h4 id="6-äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡"><a href="#6-äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡" class="headerlink" title="6. äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡"></a>6. äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡</h4><p>è´´ä¸€å¼ å›¾å¤§å®¶æ„Ÿå—ä¸€ä¸‹<br><img src="/img/event.png" alt="äº‹ä»¶æœºåˆ¶"></p>
<h4 id="7-é˜»æ­¢å†’æ³¡äº‹ä»¶å’Œé»˜è®¤äº‹ä»¶"><a href="#7-é˜»æ­¢å†’æ³¡äº‹ä»¶å’Œé»˜è®¤äº‹ä»¶" class="headerlink" title="7. é˜»æ­¢å†’æ³¡äº‹ä»¶å’Œé»˜è®¤äº‹ä»¶"></a>7. é˜»æ­¢å†’æ³¡äº‹ä»¶å’Œé»˜è®¤äº‹ä»¶</h4><p>event.stopPropagation()ï¼šè¿™æ˜¯é˜»æ­¢äº‹ä»¶çš„å†’æ³¡æ–¹æ³•ï¼Œä¸è®©äº‹ä»¶å‘documenä¸Šè”“å»¶ï¼Œä½†æ˜¯é»˜è®¤äº‹ä»¶ä»»ç„¶ä¼šæ‰§è¡Œï¼Œå½“ä½ æ‰ç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœç‚¹å‡»ä¸€ä¸ªè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥ä»ç„¶ä¼šè¢«æ‰“å¼€<br>event.preventDefault()ï¼šè¿™æ˜¯é˜»æ­¢é»˜è®¤äº‹ä»¶çš„æ–¹æ³•ï¼Œè°ƒç”¨æ­¤æ–¹æ³•æ˜¯ï¼Œè¿æ¥ä¸ä¼šè¢«æ‰“å¼€ï¼Œä½†æ˜¯ä¼šå‘ç”Ÿå†’æ³¡ï¼Œå†’æ³¡ä¼šä¼ é€’åˆ°ä¸Šä¸€å±‚çš„çˆ¶å…ƒç´ ï¼›<br>IEä¸‹ï¼š<br>window.event.cancelBubble = true;//åœæ­¢å†’æ³¡<br>window.event.returnValue = false;//é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º</p>
<h4 id="8-å‰ç«¯ä¼˜åŒ–"><a href="#8-å‰ç«¯ä¼˜åŒ–" class="headerlink" title="8. å‰ç«¯ä¼˜åŒ–"></a>8. å‰ç«¯ä¼˜åŒ–</h4><p><a href="https://blog.csdn.net/mahoking/article/details/51472697" target="_blank" rel="noopener">Webå‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“</a></p>
<h4 id="9-CSSæ–‡ä»¶ä¸ºä»€ä¹ˆè¦æ”¾åœ¨æ–‡æ¡£å¤´éƒ¨ï¼Ÿjsæ–‡ä»¶ä¸ºä»€ä¹ˆæ”¾åœ¨åº•éƒ¨ï¼Ÿ"><a href="#9-CSSæ–‡ä»¶ä¸ºä»€ä¹ˆè¦æ”¾åœ¨æ–‡æ¡£å¤´éƒ¨ï¼Ÿjsæ–‡ä»¶ä¸ºä»€ä¹ˆæ”¾åœ¨åº•éƒ¨ï¼Ÿ" class="headerlink" title="9. CSSæ–‡ä»¶ä¸ºä»€ä¹ˆè¦æ”¾åœ¨æ–‡æ¡£å¤´éƒ¨ï¼Ÿjsæ–‡ä»¶ä¸ºä»€ä¹ˆæ”¾åœ¨åº•éƒ¨ï¼Ÿ"></a>9. CSSæ–‡ä»¶ä¸ºä»€ä¹ˆè¦æ”¾åœ¨æ–‡æ¡£å¤´éƒ¨ï¼Ÿjsæ–‡ä»¶ä¸ºä»€ä¹ˆæ”¾åœ¨åº•éƒ¨ï¼Ÿ</h4><h4 id="10-HTML5å¼•å…¥çš„æ–°ç‰¹æ€§"><a href="#10-HTML5å¼•å…¥çš„æ–°ç‰¹æ€§" class="headerlink" title="10. HTML5å¼•å…¥çš„æ–°ç‰¹æ€§"></a>10. HTML5å¼•å…¥çš„æ–°ç‰¹æ€§</h4><h4 id="11-HTTPç¼“å­˜æœºåˆ¶"><a href="#11-HTTPç¼“å­˜æœºåˆ¶" class="headerlink" title="11. HTTPç¼“å­˜æœºåˆ¶"></a>11. HTTPç¼“å­˜æœºåˆ¶</h4><p><a href="https://www.cnblogs.com/chenqf/p/6386163.html" target="_blank" rel="noopener">å½»åº•å¼„æ‡‚HTTPç¼“å­˜æœºåˆ¶åŠåŸç†</a></p>
<h4 id="12-cache-controlçš„å±æ€§ï¼ˆno-cacheå’Œno-storeçš„åŒºåˆ«ï¼‰"><a href="#12-cache-controlçš„å±æ€§ï¼ˆno-cacheå’Œno-storeçš„åŒºåˆ«ï¼‰" class="headerlink" title="12. cache-controlçš„å±æ€§ï¼ˆno-cacheå’Œno-storeçš„åŒºåˆ«ï¼‰"></a>12. cache-controlçš„å±æ€§ï¼ˆno-cacheå’Œno-storeçš„åŒºåˆ«ï¼‰</h4><p><a href="https://blog.csdn.net/eroswang/article/details/8302191" target="_blank" rel="noopener">æµè§ˆå™¨ç¼“å­˜è¯¦è§£:expires,cache-control,last-modified,etagè¯¦ç»†è¯´æ˜</a><br>Cache-Control: no-cacheï¼šè¿™ä¸ªå¾ˆå®¹æ˜“è®©äººäº§ç”Ÿè¯¯è§£ï¼Œä½¿äººè¯¯ä»¥ä¸ºæ˜¯å“åº”ä¸è¢«ç¼“å­˜ã€‚å®é™…ä¸ŠCache-Control: no-cacheæ˜¯ä¼šè¢«ç¼“å­˜çš„ï¼Œåªä¸è¿‡æ¯æ¬¡åœ¨å‘å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰æä¾›å“åº”æ•°æ®æ—¶ï¼Œç¼“å­˜éƒ½è¦å‘æœåŠ¡å™¨è¯„ä¼°ç¼“å­˜å“åº”çš„æœ‰æ•ˆæ€§ã€‚<br>Cache-Control: no-storeï¼šè¿™ä¸ªæ‰æ˜¯å“åº”ä¸è¢«ç¼“å­˜çš„æ„æ€ã€‚</p>
<h4 id="13-HttpçŠ¶æ€ç ï¼ˆ403ã€304æ˜¯ä»€ä¹ˆï¼‰"><a href="#13-HttpçŠ¶æ€ç ï¼ˆ403ã€304æ˜¯ä»€ä¹ˆï¼‰" class="headerlink" title="13. HttpçŠ¶æ€ç ï¼ˆ403ã€304æ˜¯ä»€ä¹ˆï¼‰"></a>13. HttpçŠ¶æ€ç ï¼ˆ403ã€304æ˜¯ä»€ä¹ˆï¼‰</h4><p><a href="https://blog.csdn.net/dufufd/article/details/53112184" target="_blank" rel="noopener">å¸¸è§çš„HTTPçŠ¶æ€ç (HTTP Status Code)è¯´æ˜</a></p>
<h4 id="14-jsonpçš„å®ç°åŸç†"><a href="#14-jsonpçš„å®ç°åŸç†" class="headerlink" title="14. jsonpçš„å®ç°åŸç†"></a>14. jsonpçš„å®ç°åŸç†</h4><p><a href="https://blog.csdn.net/u011897301/article/details/52679486" target="_blank" rel="noopener">ç®€å•é€å½»ç†è§£JSONPåŸç†åŠä½¿ç”¨</a></p>
<h4 id="15-xssã€corsï¼Ÿä»¥åŠå¦‚ä½•é˜²èŒƒï¼Ÿsqlæ³¨å…¥ï¼Ÿï¼Ÿ"><a href="#15-xssã€corsï¼Ÿä»¥åŠå¦‚ä½•é˜²èŒƒï¼Ÿsqlæ³¨å…¥ï¼Ÿï¼Ÿ" class="headerlink" title="15. xssã€corsï¼Ÿä»¥åŠå¦‚ä½•é˜²èŒƒï¼Ÿsqlæ³¨å…¥ï¼Ÿï¼Ÿ"></a>15. xssã€corsï¼Ÿä»¥åŠå¦‚ä½•é˜²èŒƒï¼Ÿsqlæ³¨å…¥ï¼Ÿï¼Ÿ</h4><ul>
<li><p>XSSï¼šè·¨ç«™è„šæœ¬æ”»å‡»<br>å®ƒå…è®¸ç”¨æˆ·å°†æ¶æ„ä»£ç æ¤å…¥åˆ°æä¾›ç»™å…¶ä»–ç”¨æˆ·ä½¿ç”¨çš„é¡µé¢ä¸­ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºä¸€ç§javascriptä»£ç æ³¨å…¥ã€‚<br>XSSçš„é˜²å¾¡æªæ–½ï¼š</p>
<ul>
<li>è¿‡æ»¤è½¬ä¹‰è¾“å…¥è¾“å‡º</li>
<li>é¿å…ä½¿ç”¨evalã€new Functionç­‰æ‰§è¡Œå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œé™¤éç¡®å®šå­—ç¬¦ä¸²å’Œç”¨æˆ·è¾“å…¥æ— å…³</li>
<li>ä½¿ç”¨cookieçš„httpOnlyå±æ€§ï¼ŒåŠ ä¸Šäº†è¿™ä¸ªå±æ€§çš„cookieå­—æ®µï¼Œjsæ˜¯æ— æ³•è¿›è¡Œè¯»å†™çš„</li>
<li>ä½¿ç”¨innerHTMLã€document.writeçš„æ—¶å€™ï¼Œå¦‚æœæ•°æ®æ˜¯ç”¨æˆ·è¾“å…¥çš„ï¼Œé‚£ä¹ˆéœ€è¦å¯¹è±¡å…³é”®å­—ç¬¦è¿›è¡Œè¿‡æ»¤ä¸è½¬ä¹‰</li>
</ul>
</li>
<li><p>CSRFï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ <br>å…¶å®å°±æ˜¯ç½‘ç«™ä¸­çš„ä¸€äº›æäº¤è¡Œä¸ºï¼Œè¢«é»‘å®¢åˆ©ç”¨ï¼Œåœ¨ä½ è®¿é—®é»‘å®¢çš„ç½‘ç«™çš„æ—¶å€™è¿›è¡Œæ“ä½œï¼Œä¼šè¢«æ“ä½œåˆ°å…¶ä»–ç½‘ç«™ä¸Š<br>CSRFé˜²å¾¡æªæ–½ï¼š</p>
<ul>
<li>æ£€æµ‹http refereræ˜¯å¦æ˜¯åŒåŸŸå</li>
<li>é¿å…ç™»å½•çš„sessioné•¿æ—¶é—´å­˜å‚¨åœ¨å®¢æˆ·ç«¯ä¸­</li>
<li>å…³é”®è¯·æ±‚ä½¿ç”¨éªŒè¯ç æˆ–è€…tokenæœºåˆ¶</li>
</ul>
</li>
</ul>
<h4 id="16-setTimeoutçš„æ‰§è¡ŒåŸç†ä»¥åŠä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°ä¼šåŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Ÿä¸Promiseæ‰§è¡Œæœºåˆ¶ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"><a href="#16-setTimeoutçš„æ‰§è¡ŒåŸç†ä»¥åŠä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°ä¼šåŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Ÿä¸Promiseæ‰§è¡Œæœºåˆ¶ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ" class="headerlink" title="16. setTimeoutçš„æ‰§è¡ŒåŸç†ä»¥åŠä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°ä¼šåŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Ÿä¸Promiseæ‰§è¡Œæœºåˆ¶ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"></a>16. setTimeoutçš„æ‰§è¡ŒåŸç†ä»¥åŠä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°ä¼šåŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Ÿä¸Promiseæ‰§è¡Œæœºåˆ¶ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h4><p><a href="https://blog.csdn.net/qq_31628337/article/details/71056294" target="_blank" rel="noopener">JSï¼šäº‹ä»¶å¾ªç¯æœºåˆ¶ã€è°ƒç”¨æ ˆä»¥åŠä»»åŠ¡é˜Ÿåˆ—</a></p>
<h4 id="17-postMessageçš„å®ç°ï¼Œè·¨åŸŸè¯·æ±‚çš„å®ç°"><a href="#17-postMessageçš„å®ç°ï¼Œè·¨åŸŸè¯·æ±‚çš„å®ç°" class="headerlink" title="17. postMessageçš„å®ç°ï¼Œè·¨åŸŸè¯·æ±‚çš„å®ç°"></a>17. postMessageçš„å®ç°ï¼Œè·¨åŸŸè¯·æ±‚çš„å®ç°</h4><p><a href="http://blog.csdn.net/ligang2585116/article/details/73072868" target="_blank" rel="noopener">å…«ç§æ–¹å¼å®ç°è·¨åŸŸè¯·æ±‚</a><br><a href="https://segmentfault.com/a/1190000011145364" target="_blank" rel="noopener">å‰ç«¯å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆ</a></p>
<h4 id="18-Web-Storageçš„æ–¹æ³•ï¼ˆsetItemã€getItemã€removeItemã€clearï¼‰"><a href="#18-Web-Storageçš„æ–¹æ³•ï¼ˆsetItemã€getItemã€removeItemã€clearï¼‰" class="headerlink" title="18. Web Storageçš„æ–¹æ³•ï¼ˆsetItemã€getItemã€removeItemã€clearï¼‰"></a>18. Web Storageçš„æ–¹æ³•ï¼ˆsetItemã€getItemã€removeItemã€clearï¼‰</h4><p><a href="https://blog.csdn.net/shenzhennba/article/details/8480756" target="_blank" rel="noopener">HTML5æœ¬åœ°å­˜å‚¨ä¹‹Web Storageç¯‡</a></p>
<h4 id="19-é¡µé¢é‡ç»˜å’Œé‡æ’ï¼Œå¦‚ä½•å‡å°‘é‡æ’ï¼Ÿå¦‚ä½•å‡å°‘å¯¹DOMçš„æ“ä½œ"><a href="#19-é¡µé¢é‡ç»˜å’Œé‡æ’ï¼Œå¦‚ä½•å‡å°‘é‡æ’ï¼Ÿå¦‚ä½•å‡å°‘å¯¹DOMçš„æ“ä½œ" class="headerlink" title="19. é¡µé¢é‡ç»˜å’Œé‡æ’ï¼Œå¦‚ä½•å‡å°‘é‡æ’ï¼Ÿå¦‚ä½•å‡å°‘å¯¹DOMçš„æ“ä½œ"></a>19. é¡µé¢é‡ç»˜å’Œé‡æ’ï¼Œå¦‚ä½•å‡å°‘é‡æ’ï¼Ÿå¦‚ä½•å‡å°‘å¯¹DOMçš„æ“ä½œ</h4><p><a href="https://www.cnblogs.com/nightstarsky/p/5853978.html" target="_blank" rel="noopener">JSå¯¹DOMçš„æ“ä½œä¼˜åŒ–æ³•åˆ™</a></p>
<h4 id="20-CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿä¼˜å…ˆçº§"><a href="#20-CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿä¼˜å…ˆçº§" class="headerlink" title="20. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿä¼˜å…ˆçº§"></a>20. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿä¼˜å…ˆçº§</h4><h4 id="21-å¦‚ä½•æ·»åŠ å…ƒç´ ï¼Œåˆ›å»ºå…ƒç´ ï¼ˆé™¤äº†createElementå’ŒcreateTextNodeè¿˜æœ‰ä»€ä¹ˆï¼‰"><a href="#21-å¦‚ä½•æ·»åŠ å…ƒç´ ï¼Œåˆ›å»ºå…ƒç´ ï¼ˆé™¤äº†createElementå’ŒcreateTextNodeè¿˜æœ‰ä»€ä¹ˆï¼‰" class="headerlink" title="21. å¦‚ä½•æ·»åŠ å…ƒç´ ï¼Œåˆ›å»ºå…ƒç´ ï¼ˆé™¤äº†createElementå’ŒcreateTextNodeè¿˜æœ‰ä»€ä¹ˆï¼‰"></a>21. å¦‚ä½•æ·»åŠ å…ƒç´ ï¼Œåˆ›å»ºå…ƒç´ ï¼ˆé™¤äº†createElementå’ŒcreateTextNodeè¿˜æœ‰ä»€ä¹ˆï¼‰</h4><p><a href="https://blog.csdn.net/u010582082/article/details/70196854" target="_blank" rel="noopener">jsåˆ›å»ºdomèŠ‚ç‚¹ä¹‹æœ€å®¹æ˜“è¢«å¿½ç•¥çš„createDocumentFragment()æ–¹æ³•</a></p>
<h4 id="22-æ€ä¹ˆé€‰å–DOMå…ƒç´ ï¼ˆDOMå…ƒç´ é€‰æ‹©çš„æ–¹å¼ï¼‰"><a href="#22-æ€ä¹ˆé€‰å–DOMå…ƒç´ ï¼ˆDOMå…ƒç´ é€‰æ‹©çš„æ–¹å¼ï¼‰" class="headerlink" title="22. æ€ä¹ˆé€‰å–DOMå…ƒç´ ï¼ˆDOMå…ƒç´ é€‰æ‹©çš„æ–¹å¼ï¼‰"></a>22. æ€ä¹ˆé€‰å–DOMå…ƒç´ ï¼ˆDOMå…ƒç´ é€‰æ‹©çš„æ–¹å¼ï¼‰</h4><p><a href="https://www.cnblogs.com/wangshengli520/p/7737058.html" target="_blank" rel="noopener">JSé€‰å–DOMå…ƒç´ çš„æ–¹æ³•</a></p>
<h4 id="23-callå’Œapplyçš„åŒºåˆ«ï¼Œbindæ–¹æ³•"><a href="#23-callå’Œapplyçš„åŒºåˆ«ï¼Œbindæ–¹æ³•" class="headerlink" title="23. callå’Œapplyçš„åŒºåˆ«ï¼Œbindæ–¹æ³•"></a>23. callå’Œapplyçš„åŒºåˆ«ï¼Œbindæ–¹æ³•</h4><p><a href="https://www.cnblogs.com/Shd-Study/archive/2017/03/16/6560808.html" target="_blank" rel="noopener">javascriptä¸­call()ã€apply()ã€bind()çš„ç”¨æ³•ç»ˆäºç†è§£</a><br><a href="http://blog.csdn.net/java_zhaoyanli/article/details/50891305" target="_blank" rel="noopener">bindæ–¹æ³•</a></p>
<h4 id="24-å—çº§ä½œç”¨åŸŸåŠå…¶åº”ç”¨åœºæ™¯"><a href="#24-å—çº§ä½œç”¨åŸŸåŠå…¶åº”ç”¨åœºæ™¯" class="headerlink" title="24. å—çº§ä½œç”¨åŸŸåŠå…¶åº”ç”¨åœºæ™¯"></a>24. å—çº§ä½œç”¨åŸŸåŠå…¶åº”ç”¨åœºæ™¯</h4><p><a href="https://blog.csdn.net/github_26672553/article/details/53534436" target="_blank" rel="noopener">å—çº§ä½œç”¨åŸŸ</a></p>
<h4 id="25-letå’Œvarçš„åŒºåˆ«ï¼ˆé™¤äº†å˜é‡æå‡ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼‰"><a href="#25-letå’Œvarçš„åŒºåˆ«ï¼ˆé™¤äº†å˜é‡æå‡ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼‰" class="headerlink" title="25. letå’Œvarçš„åŒºåˆ«ï¼ˆé™¤äº†å˜é‡æå‡ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼‰"></a>25. letå’Œvarçš„åŒºåˆ«ï¼ˆé™¤äº†å˜é‡æå‡ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼‰</h4><p><a href="http://blog.csdn.net/nfer_zhuang/article/details/48781671" target="_blank" rel="noopener">jsä¸­letå’Œvarå®šä¹‰å˜é‡çš„åŒºåˆ«</a></p>
<h4 id="26-HTTP2-0çš„ç‰¹æ€§"><a href="#26-HTTP2-0çš„ç‰¹æ€§" class="headerlink" title="26. HTTP2.0çš„ç‰¹æ€§"></a>26. HTTP2.0çš„ç‰¹æ€§</h4><p><a href="http://blog.csdn.net/sysuzhyupeng/article/details/56508111" target="_blank" rel="noopener">HTTP 2.0å¸¦æ¥å“ªäº›æ–°ç‰¹æ€§</a></p>
<h4 id="27-å¯¹è±¡å¤åˆ¶ï¼ˆæ·±æµ…æ‹·è´ï¼‰Object-assign"><a href="#27-å¯¹è±¡å¤åˆ¶ï¼ˆæ·±æµ…æ‹·è´ï¼‰Object-assign" class="headerlink" title="27. å¯¹è±¡å¤åˆ¶ï¼ˆæ·±æµ…æ‹·è´ï¼‰Object.assign"></a>27. å¯¹è±¡å¤åˆ¶ï¼ˆæ·±æµ…æ‹·è´ï¼‰Object.assign</h4><p><a href="https://www.cnblogs.com/shiyou00/p/6379170.html" target="_blank" rel="noopener">javascriptå¯¹è±¡çš„æ·±æµ…æ‹·è´æµ…æ</a></p>
<h4 id="28-innerHTMLå’ŒouterHTML"><a href="#28-innerHTMLå’ŒouterHTML" class="headerlink" title="28. innerHTMLå’ŒouterHTML"></a>28. innerHTMLå’ŒouterHTML</h4><h4 id="29-nullå’Œundefinedçš„åŒºåˆ«"><a href="#29-nullå’Œundefinedçš„åŒºåˆ«" class="headerlink" title="29. nullå’Œundefinedçš„åŒºåˆ«"></a>29. nullå’Œundefinedçš„åŒºåˆ«</h4><ul>
<li>undefinedä¸€èˆ¬ç”¨äºæŠ›å‡ºå¼‚å¸¸</li>
<li>typeof null =&gt; object; typeof undefined =&gt; undefined</li>
<li>Number(null) = 0; Number(undefined) = NaN</li>
<li>æ­£ç¡®ä½¿ç”¨nullï¼Œå¯ä»¥æœ‰æ•ˆæ¸…é™¤å¼•ç”¨ï¼Œç”¨äºåƒåœ¾å›æ”¶</li>
<li>null instanceof Object // false</li>
</ul>
<h4 id="30-httpsä¸ºä»€ä¹ˆæ˜¯å®‰å…¨çš„ï¼ŸSSLæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Ÿ"><a href="#30-httpsä¸ºä»€ä¹ˆæ˜¯å®‰å…¨çš„ï¼ŸSSLæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Ÿ" class="headerlink" title="30. httpsä¸ºä»€ä¹ˆæ˜¯å®‰å…¨çš„ï¼ŸSSLæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Ÿ"></a>30. httpsä¸ºä»€ä¹ˆæ˜¯å®‰å…¨çš„ï¼ŸSSLæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Ÿ</h4><p><a href="https://blog.csdn.net/wx_962464/article/details/51043069" target="_blank" rel="noopener">è¯¦è§£HTTPSæ˜¯å¦‚ä½•ç¡®ä¿å®‰å…¨æ€§çš„</a></p>
<h4 id="31-ç¼“å­˜è¿‡æœŸæ—¶é—´çš„è®¾ç½®ï¼ˆé™¤äº†expireså’Œmax-ageè¿˜æœ‰ä»€ä¹ˆï¼‰"><a href="#31-ç¼“å­˜è¿‡æœŸæ—¶é—´çš„è®¾ç½®ï¼ˆé™¤äº†expireså’Œmax-ageè¿˜æœ‰ä»€ä¹ˆï¼‰" class="headerlink" title="31. ç¼“å­˜è¿‡æœŸæ—¶é—´çš„è®¾ç½®ï¼ˆé™¤äº†expireså’Œmax-ageè¿˜æœ‰ä»€ä¹ˆï¼‰"></a>31. ç¼“å­˜è¿‡æœŸæ—¶é—´çš„è®¾ç½®ï¼ˆé™¤äº†expireså’Œmax-ageè¿˜æœ‰ä»€ä¹ˆï¼‰</h4><h4 id="32-ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€æ ·å±äºåŒæºï¼ˆåŒåè®®åŒåŸŸååŒç«¯å£ï¼‰"><a href="#32-ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€æ ·å±äºåŒæºï¼ˆåŒåè®®åŒåŸŸååŒç«¯å£ï¼‰" class="headerlink" title="32. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€æ ·å±äºåŒæºï¼ˆåŒåè®®åŒåŸŸååŒç«¯å£ï¼‰"></a>32. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€æ ·å±äºåŒæºï¼ˆåŒåè®®åŒåŸŸååŒç«¯å£ï¼‰</h4><h4 id="33-vue-routerå¯¹historyçš„æ“ä½œ"><a href="#33-vue-routerå¯¹historyçš„æ“ä½œ" class="headerlink" title="33. vue-routerå¯¹historyçš„æ“ä½œ"></a>33. vue-routerå¯¹historyçš„æ“ä½œ</h4><h4 id="34-å¯¹jsonæ–¹æ³•çš„äº†è§£ï¼ˆson-stringifyå’Œjson-parseJSONï¼‰"><a href="#34-å¯¹jsonæ–¹æ³•çš„äº†è§£ï¼ˆson-stringifyå’Œjson-parseJSONï¼‰" class="headerlink" title="34. å¯¹jsonæ–¹æ³•çš„äº†è§£ï¼ˆson.stringifyå’Œjson.parseJSONï¼‰"></a>34. å¯¹jsonæ–¹æ³•çš„äº†è§£ï¼ˆson.stringifyå’Œjson.parseJSONï¼‰</h4><h4 id="35-è¿˜æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„å—ï¼Ÿ"><a href="#35-è¿˜æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„å—ï¼Ÿ" class="headerlink" title="35. è¿˜æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„å—ï¼Ÿ"></a>35. è¿˜æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„å—ï¼Ÿ</h4><h1 id="äºŒé¢"><a href="#äºŒé¢" class="headerlink" title="äºŒé¢"></a>äºŒé¢</h1><p>äºŒé¢æ—¶é—´ä¸é•¿ï¼Œå¤§æ¦‚20åˆ†é’Ÿå·¦å³ï¼Œå› ä¸ºæ˜¯æ™šä¸Šä¸‹è¯¾åæ‰“æ¥çš„ç”µè¯ï¼Œæ‰€ä»¥é—®çš„å†…å®¹ä¹Ÿä¸ç®—å¤š</p>
<h4 id="1-httpåè®®çš„è¯·æ±‚å¤´å†…å®¹"><a href="#1-httpåè®®çš„è¯·æ±‚å¤´å†…å®¹" class="headerlink" title="1. httpåè®®çš„è¯·æ±‚å¤´å†…å®¹"></a>1. httpåè®®çš„è¯·æ±‚å¤´å†…å®¹</h4><p><a href="https://blog.csdn.net/u010256388/article/details/68491509" target="_blank" rel="noopener">HTTPè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“è¯¦è§£</a></p>
<h4 id="2-cache-control-æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠå®ƒçš„å–å€¼æœ‰å“ªäº›"><a href="#2-cache-control-æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠå®ƒçš„å–å€¼æœ‰å“ªäº›" class="headerlink" title="2. cache-control æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠå®ƒçš„å–å€¼æœ‰å“ªäº›"></a>2. cache-control æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠå®ƒçš„å–å€¼æœ‰å“ªäº›</h4><h4 id="3-http1-1æœ‰å“ªäº›ä¸è¶³"><a href="#3-http1-1æœ‰å“ªäº›ä¸è¶³" class="headerlink" title="3. http1.1æœ‰å“ªäº›ä¸è¶³"></a>3. http1.1æœ‰å“ªäº›ä¸è¶³</h4><p><a href="https://www.zhihu.com/question/34074946" target="_blank" rel="noopener">HTTP/2.0 ç›¸æ¯”1.0æœ‰å“ªäº›é‡å¤§æ”¹è¿›ï¼Ÿ</a></p>
<h4 id="4-å¿«é€Ÿæ’åºçš„æ€æƒ³"><a href="#4-å¿«é€Ÿæ’åºçš„æ€æƒ³" class="headerlink" title="4. å¿«é€Ÿæ’åºçš„æ€æƒ³"></a>4. å¿«é€Ÿæ’åºçš„æ€æƒ³</h4><p>æ’åºç®—æ³•å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡åšå®¢<a href="http://qiuruolin.cn/2018/02/17/algorithm-sort/" target="_blank" rel="noopener">ç®—æ³•ä¹‹æ’åº</a></p>
<h4 id="5-äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡"><a href="#5-äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡" class="headerlink" title="5. äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡"></a>5. äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡</h4><h4 id="6-æ€ä¹ˆé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿæ€ä¹ˆåœ¨äº‹ä»¶æ•è·é˜¶æ®µé˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#6-æ€ä¹ˆé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿæ€ä¹ˆåœ¨äº‹ä»¶æ•è·é˜¶æ®µé˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="6. æ€ä¹ˆé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿæ€ä¹ˆåœ¨äº‹ä»¶æ•è·é˜¶æ®µé˜»æ­¢äº‹ä»¶å†’æ³¡"></a>6. æ€ä¹ˆé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿæ€ä¹ˆåœ¨äº‹ä»¶æ•è·é˜¶æ®µé˜»æ­¢äº‹ä»¶å†’æ³¡</h4><h4 id="7-å¯¹ES6çš„äº†è§£"><a href="#7-å¯¹ES6çš„äº†è§£" class="headerlink" title="7. å¯¹ES6çš„äº†è§£"></a>7. å¯¹ES6çš„äº†è§£</h4><p>æˆ‘æäº†Promiseï¼Œåæ¥å°±ä¸€ç›´é—®çš„æ˜¯Promiseçš„çŸ¥è¯†ï¼šPromiseæœ‰å“ªå‡ ç§çŠ¶æ€(pending, fulfilled, rejected)ï¼ŒçŠ¶æ€ä¹‹é—´çš„è½¬æ¢<br>new Promise(function(){<br>    resolve();<br>}).then(function(){<br>    //é—®æ­¤å¤„çš„thenå¯ä¸å¯ä»¥è¢«æ‰§è¡Œ<br>})<br>äº‹ä»¶ç›‘å¬å™¨åœ¨äº‹ä»¶ç‚¹å‡»ä¹‹åç›‘å¬æ˜¯æ— æ•ˆçš„ï¼ŒPromiseå’Œå®ƒæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><a href="https://segmentfault.com/a/1190000007678185" target="_blank" rel="noopener">promiseä»‹ç»â€“åŸºç¡€ç¯‡</a></p>
<h4 id="8-å¦‚æœæœ‰ä¸€ä¸ªç®±å­é‡Œæœ‰100ä¸ªè‹¹æœï¼Œä¸€æ¬¡å¯ä»¥æ‹¿1æˆ–2ä¸ªï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ³•å°†100ä¸ªè‹¹æœç§»åˆ°å¦ä¸€ä¸ªç®±å­ä¸­"><a href="#8-å¦‚æœæœ‰ä¸€ä¸ªç®±å­é‡Œæœ‰100ä¸ªè‹¹æœï¼Œä¸€æ¬¡å¯ä»¥æ‹¿1æˆ–2ä¸ªï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ³•å°†100ä¸ªè‹¹æœç§»åˆ°å¦ä¸€ä¸ªç®±å­ä¸­" class="headerlink" title="8. å¦‚æœæœ‰ä¸€ä¸ªç®±å­é‡Œæœ‰100ä¸ªè‹¹æœï¼Œä¸€æ¬¡å¯ä»¥æ‹¿1æˆ–2ä¸ªï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ³•å°†100ä¸ªè‹¹æœç§»åˆ°å¦ä¸€ä¸ªç®±å­ä¸­"></a>8. å¦‚æœæœ‰ä¸€ä¸ªç®±å­é‡Œæœ‰100ä¸ªè‹¹æœï¼Œä¸€æ¬¡å¯ä»¥æ‹¿1æˆ–2ä¸ªï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ³•å°†100ä¸ªè‹¹æœç§»åˆ°å¦ä¸€ä¸ªç®±å­ä¸­</h4><h1 id="ä¸‰é¢"><a href="#ä¸‰é¢" class="headerlink" title="ä¸‰é¢"></a>ä¸‰é¢</h1><p>ä¸‰é¢æ˜¯å¯¹æˆ‘å¹³æ—¶å¦‚ä½•å­¦ä¹ å‰ç«¯ä»¥åŠå¯¹æˆ‘çš„å­¦ä¹ å…´è¶£åšäº†è¿›ä¸€æ­¥çš„äº†è§£</p>
<h4 id="1-å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ çš„"><a href="#1-å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ çš„" class="headerlink" title="1. å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ çš„"></a>1. å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ çš„</h4><h4 id="2-å¦‚ä½•è¿›è¡Œæ²Ÿé€šï¼Œæœ‰æ²¡æœ‰è‡ªå·±çš„ä¸€å¥—æ²Ÿé€šæ–¹æ¡ˆ"><a href="#2-å¦‚ä½•è¿›è¡Œæ²Ÿé€šï¼Œæœ‰æ²¡æœ‰è‡ªå·±çš„ä¸€å¥—æ²Ÿé€šæ–¹æ¡ˆ" class="headerlink" title="2. å¦‚ä½•è¿›è¡Œæ²Ÿé€šï¼Œæœ‰æ²¡æœ‰è‡ªå·±çš„ä¸€å¥—æ²Ÿé€šæ–¹æ¡ˆ"></a>2. å¦‚ä½•è¿›è¡Œæ²Ÿé€šï¼Œæœ‰æ²¡æœ‰è‡ªå·±çš„ä¸€å¥—æ²Ÿé€šæ–¹æ¡ˆ</h4><h4 id="3-æœ‰æ²¡æœ‰å¥½å¥‡å¿ƒï¼Ÿ"><a href="#3-æœ‰æ²¡æœ‰å¥½å¥‡å¿ƒï¼Ÿ" class="headerlink" title="3. æœ‰æ²¡æœ‰å¥½å¥‡å¿ƒï¼Ÿ"></a>3. æœ‰æ²¡æœ‰å¥½å¥‡å¿ƒï¼Ÿ</h4><h4 id="4-å¹³æ—¶å†™ä»£ç çš„æ—¶é—´æœ‰å¤šå°‘"><a href="#4-å¹³æ—¶å†™ä»£ç çš„æ—¶é—´æœ‰å¤šå°‘" class="headerlink" title="4. å¹³æ—¶å†™ä»£ç çš„æ—¶é—´æœ‰å¤šå°‘"></a>4. å¹³æ—¶å†™ä»£ç çš„æ—¶é—´æœ‰å¤šå°‘</h4><h1 id="å››é¢-HRé¢"><a href="#å››é¢-HRé¢" class="headerlink" title="å››é¢(HRé¢)"></a>å››é¢(HRé¢)</h1><p>å››é¢å°±æ˜¯è…¾è®¯äº‘æ‹›è˜ç»ç†æ¥çš„é¢è¯•ç”µè¯ï¼Œä¹Ÿå°±æ˜¯HRé¢ï¼Œäº†è§£äº†ä¸€ä¸‹ä¸ªäººçš„å‘å±•æ–¹å‘ï¼Œå®¶åº­æƒ…å†µä¹‹ç±»çš„<br>æˆ‘è§‰å¾—HRé¢å…¶å®ä¹Ÿéœ€è¦å¥½å¥½å‡†å¤‡ä¸€ä¸‹çš„ï¼Œç¬¬ä¸€æ¬¡HRé¢æ˜¯åœ¨CVTEï¼ŒæŒ‚äº†CVTEä¹‹åå°±å¯¹HRé¢æœ‰ç‚¹é˜´å½±äº†ï¼Œååˆ†æ„Ÿè°¢æˆ‘çš„è€å¤§åœ¨è…¾è®¯HRé¢å‰ä¸€å¤©æ™šä¸Šé¡¶ç€ç–²æƒ«ä¸å ªçš„èº«å¿ƒè¿˜ç‰¹åœ°æ‰“ç”µè¯ç»™æˆ‘ï¼Œæ•™æˆ‘å¦‚ä½•å›ç­”å¾—æ›´ç†æƒ³ï½<br>æ‹¿åˆ°å£å¤´Offeråå°±å›å®¶è¿‡æ¸…æ˜èŠ‚äº†ï½</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å…¶å®èƒ½å¤Ÿæ‹¿åˆ°è…¾è®¯å®ä¹ Offerå¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯å› ä¸ºè¿æ°”ï¼Œå¸Œæœ›å°èœé¸Ÿçš„æˆ‘å’Œè…¾è®¯çš„ç¼˜åˆ†ä¸€ç›´èµ°ä¸‹å»ï½å®ä¹ åŠ æ²¹ï¼ï¼<br>å•°å•°å—¦å—¦è¯´äº†å¾ˆå¤šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼</p>
]]></content>
      
        <categories>
            
            <category> é¢ç» </category>
            
        </categories>
        
        
        <tags>
            
            <tag> é¢ç» </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç®—æ³•ä¹‹æ’åº]]></title>
      <url>/2018/02/17/algorithm-sort/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ç®—æ³•çš„å­¦ä¹ æ€»æ˜¯æ–­æ–­ç»­ç»­çš„ï¼Œæ€»ç®—çœ‹å®Œäº†æ’åºç®—æ³•è¿™ä¸€ç« èŠ‚çš„å†…å®¹ï¼Œæ’åºæ€æƒ³å¤§æ¦‚éƒ½å·²ç»èƒ½ç†è§£äº†ï¼Œå¥ˆä½•ç¼–ç¨‹æ°´å¹³ææ€•ä¸æ˜¯å¾ˆé«˜ï¼Œéƒ¨åˆ†ç®—æ³•ä»æ—§ä¸èƒ½è‡ªå·±ç‹¬ç«‹çš„å»å®ç°ï½æ€•æ˜¯è¦ç»§ç»­å¢å¼ºè‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›äº†ï½<br>æ­¤ç¯‡åšæ–‡ä¸»è¦æ˜¯è®°å½•ä¸æ’åºç®—æ³•ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œå¦‚æœåœ¨æŸäº›åœ°æ–¹è¡¨è¿°ä¸æ­£ç¡®çš„ï¼Œè¿˜å¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºï¼Œå…±åŒè¿›æ­¥ï½</p>
</blockquote>
<h1 id="åŸºäºæ¯”è¾ƒæ€æƒ³çš„æ’åºç®—æ³•"><a href="#åŸºäºæ¯”è¾ƒæ€æƒ³çš„æ’åºç®—æ³•" class="headerlink" title="åŸºäºæ¯”è¾ƒæ€æƒ³çš„æ’åºç®—æ³•"></a>åŸºäºæ¯”è¾ƒæ€æƒ³çš„æ’åºç®—æ³•</h1><p>é¦–å…ˆä¸ºäº†å‡å°‘ä»£ç çš„é‡å¤æ€§ï¼ŒæŠ½ç¦»å‡ºå®ç°ä»£ç ä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„äº¤æ¢å‡½æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public static void swap(int[] arr, int index1, int index2) &#123;</span><br><span class="line">    int tmp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><a id="more"></a>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public int[] bubbleSort(int[] A, int n) &#123; //nè¡¨ç¤ºæ•°ç»„é•¿åº¦</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">for</span>(int i = n - 1; i &gt;= 0; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 0; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(A[j] &gt; A[j + 1])&#123;</span><br><span class="line">                swap(A, j, j + 1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šä½¿ç”¨<strong>ä¸¤å±‚åµŒå¥—å¾ªç¯</strong>æ¯”è¾ƒï¼Œå†…å±‚å¾ªç¯æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ ã€‚ä¸€æ¬¡å†…å¾ªç¯æ¯”è¾ƒç»“æŸåï¼Œæœ€å¤§çš„å…ƒç´ å°†ä¼šè¢«äº¤æ¢åˆ°<strong>n-1</strong>çš„ä½ç½®ä¸Šï¼Œç¼©å°èŒƒå›´ç»§ç»­æ‰§è¡Œå¤–å¾ªç¯ï¼Œä¾æ¬¡ä¼šå°†å‰©ä¸‹å…ƒç´ ä¸­ç›¸å¯¹æœ€å¤§çš„å…ƒç´ ç½®æ¢åˆ°<strong>n-2</strong>ã€<strong>n-3</strong> â€¦ <strong>1</strong>çš„ä½ç½®ä¸Šï¼Œæ•°ç»„æ’åºå®Œæˆã€‚<br>å†’æ³¡æ’åºå› ä¸ºä½¿ç”¨äº†ä¸¤å±‚åµŒå¥—å¾ªç¯ï¼Œæ‰€ä»¥å…¶<strong>æ—¶é—´å¤æ‚åº¦</strong>ä¸º<strong>O(N^2)</strong>ã€‚<br>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š<br>é¦–å…ˆè€ƒå¯Ÿ<strong>n-1</strong>èŒƒå›´<br><img src="/img/sort/bubble1.png" alt="bubble"><br>æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„å¤§å°ï¼Œå‘ç°6æ¯”3å¤§ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ <br><img src="/img/sort/bubble2.png" alt="bubble"><br><img src="/img/sort/bubble3.png" alt="bubble"><br>ç»§ç»­æ¯”è¾ƒç›¸é‚»å…ƒç´ <br><img src="/img/sort/bubble4.png" alt="bubble"><br><img src="/img/sort/bubble5.png" alt="bubble"><br>ç»è¿‡ä¸€è½®å¾ªç¯æ¯”è¾ƒç›¸é‚»å…ƒç´ åï¼Œæœ€å¤§çš„å…ƒç´ ä¼šè¢«äº¤æ¢åˆ°<strong>n-1</strong>ä½ç½®ä¸Š<br><img src="/img/sort/bubble6.png" alt="bubble"><br>æ¥ç€å°†èŒƒå›´ç¼©å°è‡³<strong>n-2</strong><br><img src="/img/sort/bubble7.png" alt="bubble"><br>é‡å¤ä¸Šè¿°æ¯”è¾ƒè¿‡ç¨‹ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚</p>
<h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public int[] selectionSort(int[] A, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; n - 1; i++)&#123;</span><br><span class="line">        index = i;</span><br><span class="line">        <span class="keyword">for</span>(int j = i + 1; j &lt; n; j++)&#123;</span><br><span class="line">            index = A[index] &gt; A[j]? j : index;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(A, i, index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šé€‰æ‹©æ’åºä½¿ç”¨<strong>ä¸¤å±‚åµŒå¥—å¾ªç¯</strong>æ¯”è¾ƒï¼Œå¤–å±‚å¾ªç¯è®°å½•ç»“æœå…ƒç´ éœ€è¦æ”¾ç½®çš„ä½ç½®ï¼Œå†…å±‚å¾ªç¯é€‰æ‹©å‰©ä¸‹å…ƒç´ ä¸­ç›¸å¯¹æœ€å°çš„å…ƒç´ ã€‚ç»è¿‡ä¸€æ¬¡å†…å¾ªç¯åé€‰æ‹©å‡ºæœ€å°çš„å…ƒç´ ä¸iä¸º0ä½ç½®ä¸Šçš„å…ƒç´ äº¤æ¢ï¼Œå³ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸€æ¬¡è¿›è¡Œä¸‹å»ï¼Œå‰©ä¸‹å…ƒç´ ä¸­ç›¸å¯¹è¾ƒå°çš„å…ƒç´ å°±æ”¾åœ¨äº†<strong>1</strong>,<strong>2</strong>â€¦<strong>n-1</strong>ä½ç½®ä¸Šï¼Œæ•°ç»„æ’åºå®Œæˆã€‚<br>é€‰æ‹©æ’åºå› ä¸ºä½¿ç”¨äº†ä¸¤å±‚åµŒå¥—å¾ªç¯ï¼Œæ‰€ä»¥å…¶<strong>æ—¶é—´å¤æ‚åº¦</strong>ä¹Ÿä¸º<strong>O(N^2)</strong>ã€‚<br>ä¸¾ä¸ªç®€å•çš„ğŸŒ°ï¼š<br>é¦–å…ˆè€ƒå¯Ÿ<strong>0ï½n-1</strong>èŒƒå›´<br><img src="/img/sort/select1.png" alt="select"><br>åœ¨<strong>0ï½n-1</strong>èŒƒå›´å†…é€‰å‡º<strong>æœ€å°çš„å…ƒç´ </strong>ï¼Œä¸æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢<br><img src="/img/sort/select2.png" alt="select"><br><img src="/img/sort/select3.png" alt="select"><br>ç»§ç»­è€ƒå¯Ÿ<strong>1ï½n-1</strong>èŒƒå›´ï¼Œåœ¨<strong>1ï½n-1</strong>èŒƒå›´å†…é€‰å‡º<strong>æœ€å°çš„å…ƒç´ </strong>ï¼Œä¸æ•°ç»„ä¸­ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢<br><img src="/img/sort/select4.png" alt="select"><br><img src="/img/sort/select5.png" alt="select"><br>é‡å¤ä¸Šè¿°æ¯”è¾ƒè¿‡ç¨‹ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚</p>
<h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> public int[] insertionSort(int[] A, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt; n; i++)&#123;</span><br><span class="line">        index = i;</span><br><span class="line">        <span class="keyword">while</span>(index &gt; 0)&#123;</span><br><span class="line">            <span class="keyword">if</span>(A[index] &lt; A[index - 1])&#123;</span><br><span class="line">                swap(A, index, index - 1);</span><br><span class="line">                index--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šä½¿ç”¨<strong>ä¸¤å±‚åµŒå¥—å¾ªç¯</strong>æ¯”è¾ƒï¼Œå°†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œå‘å‰æ¯”è¾ƒï¼Œå¦‚æœè¯¥å…ƒç´ å°äºå‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ä¸¤ä¸ªå…ƒç´ äº¤æ¢ä½ç½®<strong>indexâ€“</strong>ï¼Œç»§ç»­ä¸å‰ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼ŒçŸ¥é“<strong>index=0</strong>ï¼Œè¯¥å…ƒç´ æ”¾åœ¨å¤§å°åˆé€‚çš„ä½ç½®ä¸Šã€‚ä¾æ¬¡å¾ªç¯æ¯”è¾ƒæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç›´è‡³<strong>i=n-1</strong>ï¼Œæ•°ç»„æ’åºå®Œæˆã€‚<br>ä¸¾ä¸ªç®€å•çš„ğŸŒ°ï¼š<br>é¦–å…ˆè€ƒå¯Ÿæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¸ç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œ5æ¯”6å°ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ <br><img src="/img/sort/insert1.png" alt="insert"><br><img src="/img/sort/insert2.png" alt="insert"><br>æ¥ç€è€ƒå¯Ÿæ•°ç»„ä¸­çš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œå…ˆä¸ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå°äºåˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ ï¼Œæ¥ç€å†ä¸ç¬¬ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œå°äºåˆ™å†äº¤æ¢ä¸¤ä¸ªå…ƒç´ ã€‚<br><img src="/img/sort/insert3.png" alt="insert"><br><img src="/img/sort/insert4.png" alt="insert"><br><img src="/img/sort/insert5.png" alt="insert"><br>æ ¹æ®æ­¤è¿‡ç¨‹ä¾æ¬¡è€ƒå¯Ÿæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚<br>æ’å…¥æ’åº<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(N^2)</strong>ã€‚</p>
<h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">public int[] mergeSort(int[] A, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">if</span> (A == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">    process(A, 0, n - 1);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br><span class="line">public static void process(int[] arr, int left, int right) &#123;</span><br><span class="line">    <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    int mid = (left + right) / 2;</span><br><span class="line">    process(arr, left, mid);</span><br><span class="line">    process(arr, mid + 1, right);</span><br><span class="line">    merge(arr, left, mid, right);</span><br><span class="line">&#125;</span><br><span class="line">public static void merge(int[] arr, int left, int mid, int right) &#123;</span><br><span class="line">    int[] <span class="built_in">help</span> = new int[right - left + 1];</span><br><span class="line">    int l = left;</span><br><span class="line">    int r = mid + 1;</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= mid &amp;&amp; r &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[l] &lt;= arr[r]) &#123;</span><br><span class="line">            <span class="built_in">help</span>[index++] = arr[l++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">help</span>[index++] = arr[r++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= mid) &#123;</span><br><span class="line">        <span class="built_in">help</span>[index++] = arr[l++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (r &lt;= right) &#123;</span><br><span class="line">        <span class="built_in">help</span>[index++] = arr[r++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; help.length; i++) &#123;</span><br><span class="line">        arr[left + i] = <span class="built_in">help</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šé¦–å…ˆå°†æ•°ç»„åˆ’åˆ†ä¸º<strong>å•ä½é•¿åº¦ä¸º1çš„æœ‰åºåŒºé—´</strong>ï¼Œç„¶åæŠŠç›¸é‚»çš„é•¿åº¦ä¸º1çš„æœ‰åºåŒºé—´è¿›è¡Œ<strong>åˆå¹¶</strong>ï¼Œå¾—åˆ°æœ€å¤§é•¿åº¦ä¸º2çš„æœ‰åºåŒºé—´ï¼Œæ¥ä¸‹æ¥å†æŠŠç›¸é‚»é•¿åº¦çš„æœ‰åºåŒºé—´åˆå¹¶å¾—åˆ°é•¿åº¦ä¸º4çš„æœ‰åºåŒºé—´ï¼Œä¾æ¬¡è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œ<strong>ç›´åˆ°è®©æ•°ç»„ä¸­æ‰€æœ‰çš„æ•°åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºåŒºé—´</strong>ï¼Œæ•°ç»„æ’åºå®Œæ¯•ï¼Œè¿‡ç¨‹ç»“æŸã€‚<br>å½’å¹¶æ’åºçš„è¿‡ç¨‹ï¼š<br><img src="/img/sort/merge1.png" alt="merge"><br><img src="/img/sort/merge2.png" alt="merge"><br><img src="/img/sort/merge3.png" alt="merge"><br><img src="/img/sort/merge4.png" alt="merge"><br>æ ¹æ®æ­¤è¿‡ç¨‹ç›´åˆ°è®©æ•°ç»„ä¸­æ‰€æœ‰çš„æ•°åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºåŒºé—´ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚<br>å½’å¹¶æ’åº<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN)</strong>ã€‚</p>
<h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public int[] quickSort(int[] arr, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">if</span> (arr == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">    process(arr, 0, n - 1);</span><br><span class="line">    <span class="built_in">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line">public static void process(int[] arr, int left, int right)&#123;</span><br><span class="line">    <span class="keyword">if</span>(left &lt; right)&#123;</span><br><span class="line">        int random = left + (int) (Math.random() * (right - left + 1));</span><br><span class="line">        swap(arr, random, right);</span><br><span class="line">        int mid = partition(arr, left, right);</span><br><span class="line">        process(arr, left, mid - 1);</span><br><span class="line">        process(arr, mid + 1, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public static int partition(int[] arr, int left, int right)&#123;</span><br><span class="line">    int pivot = left - 1;</span><br><span class="line">    int index = left;</span><br><span class="line">    <span class="keyword">while</span> (index &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[index] &lt;= arr[right]) &#123;</span><br><span class="line">            swap(arr, ++pivot, index);</span><br><span class="line">        &#125;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> pivot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šéšæœºé€‰ä¸­ä¸€ä¸ª<strong>åˆ’åˆ†å€¼</strong>ï¼Œå°†å°äºç­‰äºåˆ’åˆ†å€¼çš„å…ƒç´ æ”¾åœ¨å…ƒç´ çš„å·¦è¾¹ï¼Œå¤§äºåˆ’åˆ†å€¼çš„å…ƒç´ æ”¾åœ¨å…ƒç´ çš„å³è¾¹ï¼Œå†å¯¹å·¦å³ä¸¤éƒ¨åˆ†åˆ†åˆ«<strong>é€’å½’åœ°</strong>è°ƒç”¨å¿«é€Ÿæ’åºçš„è¿‡ç¨‹ï¼Œæ•°ç»„æ’åºå®Œæ¯•ï¼Œè¿‡ç¨‹ç»“æŸã€‚<br>å¿«é€Ÿæ’åºçš„è¿‡ç¨‹ï¼š<br><img src="/img/sort/quick1.png" alt="quick"><br><img src="/img/sort/quick2.png" alt="quick"><br><img src="/img/sort/quick3.png" alt="quick"><br>ä¸€æ¬¡<strong>åˆ’åˆ†è¿‡ç¨‹</strong>ï¼Œå³é€‰æ‹©ä¸€ä¸ªåˆ’åˆ†å€¼ä¹‹åå°äºç­‰äºåˆ’åˆ†å€¼çš„æ•°æ˜¯å¦‚ä½•æ”¾åœ¨å…ƒç´ çš„å·¦è¾¹ï¼Œå¤§äºåˆ’åˆ†å€¼çš„æ•°å¦‚ä½•æ”¾åœ¨å…ƒç´ çš„å³è¾¹ï¼š<br>é¦–å…ˆä»¤åˆ’åˆ†å€¼æ”¾åœ¨æ•°ç»„æœ€åçš„ä½ç½®ï¼Œç„¶åæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå°äºç­‰äºçš„åŒºé—´ï¼ŒåŒºé—´çš„<strong>åˆå§‹é•¿åº¦ä¸º0</strong>ï¼Œæ”¾åœ¨æ•´ä¸ªæ•°ç»„çš„å·¦è¾¹<br><img src="/img/sort/quick4.png" alt="quick"><br>æ¥ä¸‹æ¥ä»å·¦åˆ°å³éå†æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåˆ’åˆ†å€¼ï¼Œåˆ™ç»§ç»­éå†ä¸‹ä¸€ä¸ªå€¼<br><img src="/img/sort/quick5.png" alt="quick"><br>å¦‚æœå½“å‰å…ƒç´ å°äºç­‰äºåˆ’åˆ†å€¼ï¼Œåˆ™æŠŠå½“å‰æ•°ä¸å°äºç­‰äºåŒºé—´çš„ä¸‹ä¸€ä¸ªæ•°è¿›è¡Œäº¤æ¢ï¼Œç„¶åä»¤å°äºç­‰äºåŒºé—´å³æ‰©ä¸€ä¸ªé•¿åº¦<br><img src="/img/sort/quick6.png" alt="quick"><br><img src="/img/sort/quick7.png" alt="quick"><br><img src="/img/sort/quick8.png" alt="quick"><br>åœ¨éå†å®Œæ‰€æœ‰å…ƒç´ ï¼Œç›´åˆ°æœ€åçš„å…ƒç´ æ—¶ï¼Œå°†æœ€åçš„å…ƒç´ å³åˆ’åˆ†å€¼ä¸å°äºç­‰äºåŒºé—´çš„ä¸‹ä¸€ä¸ªæ•°è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·å°±å®Œæˆäº†ä¸€æ¬¡å®Œæ•´çš„åˆ’åˆ†è¿‡ç¨‹ã€‚<br><img src="/img/sort/quick9.png" alt="quick"><br>å¿«é€Ÿæ’åº<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN)</strong>ã€‚</p>
<h2 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">public int[] heapSort(int[] arr, int n) &#123;</span><br><span class="line">        // write code here</span><br><span class="line">        <span class="keyword">for</span> (int i = 0; i &lt; n; i++) &#123;  </span><br><span class="line">        createMaxdHeap(arr, n - 1 - i);  </span><br><span class="line">        swap(arr, 0, n - 1 - i);    </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="built_in">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">public static void createMaxdHeap(int[] data, int lastIndex) &#123;  </span><br><span class="line">    <span class="keyword">for</span> (int i = (lastIndex - 1) / 2; i &gt;= 0; i--) &#123;  </span><br><span class="line">        // ä¿å­˜å½“å‰æ­£åœ¨åˆ¤æ–­çš„èŠ‚ç‚¹  </span><br><span class="line">        int k = i;  </span><br><span class="line">        // è‹¥å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å­˜åœ¨  </span><br><span class="line">        <span class="keyword">while</span> (2 * k + 1 &lt;= lastIndex) &#123;  </span><br><span class="line">            // biggerIndexæ€»æ˜¯è®°å½•è¾ƒå¤§èŠ‚ç‚¹çš„å€¼,å…ˆèµ‹å€¼ä¸ºå½“å‰åˆ¤æ–­èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹  </span><br><span class="line">            int biggerIndex = 2 * k + 1;  </span><br><span class="line">            <span class="keyword">if</span> (biggerIndex &lt; lastIndex) &#123;  </span><br><span class="line">                // è‹¥å³å­èŠ‚ç‚¹å­˜åœ¨ï¼Œå¦åˆ™æ­¤æ—¶biggerIndexåº”è¯¥ç­‰äº lastIndex  </span><br><span class="line">                <span class="keyword">if</span> (data[biggerIndex] &lt; data[biggerIndex + 1]) &#123;  </span><br><span class="line">                    // è‹¥å³å­èŠ‚ç‚¹å€¼æ¯”å·¦å­èŠ‚ç‚¹å€¼å¤§ï¼Œåˆ™biggerIndexè®°å½•çš„æ˜¯å³å­èŠ‚ç‚¹çš„å€¼  </span><br><span class="line">                    biggerIndex++;  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">if</span> (data[k] &lt; data[biggerIndex]) &#123;  </span><br><span class="line">                // è‹¥å½“å‰èŠ‚ç‚¹å€¼æ¯”å­èŠ‚ç‚¹æœ€å¤§å€¼å°ï¼Œåˆ™äº¤æ¢2è€…å¾—å€¼ï¼Œäº¤æ¢åå°†biggerIndexå€¼èµ‹å€¼ç»™k  </span><br><span class="line">                swap(data, k, biggerIndex);  </span><br><span class="line">                k = biggerIndex;  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                <span class="built_in">break</span>;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šé¦–å…ˆå°†æ•°ç»„ä¸­çš„nä¸ªæ•°å»ºæˆä¸€ä¸ªå¤§å°ä¸ºnçš„<strong>å¤§æ ¹å †</strong>ï¼Œå †é¡¶æ˜¯æ•´ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œå°†å †é¡¶å…ƒç´ ä¸<strong>å †çš„æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®</strong>ï¼Œç„¶åå°†æœ€å¤§å€¼è„±ç¦»å‡ºå †çš„æ•´ä¸ªç»“æ„ï¼Œæ”¾åœ¨æ•°ç»„æœ€åçš„ä½ç½®ï¼Œæ¥ä¸‹æ¥å°†<strong>n-1</strong>å¤§å°çš„å †è¿›è¡Œå¤§æ ¹å †çš„è°ƒæ•´ï¼Œè°ƒæ•´å‡ºn-1å¤§æ ¹å †çš„æœ€å¤§å€¼æ”¾åœ¨å †é¡¶ï¼Œå†æŠŠå †é¡¶ä½ç½®çš„å€¼ä¸æ•´ä¸ªå †çš„æœ€åå…ƒç´ äº¤æ¢ï¼Œå°†æœ€å¤§å€¼è„±ç¦»å‡ºå †çš„æ•´ä¸ªç»“æ„ï¼Œæ”¾åœ¨æ•°ç»„ç›¸å¯¹æœ€åçš„ä½ç½®ã€‚ä¾æ¬¡é‡å¤æ­¥éª¤ï¼Œ<strong>ç›´åˆ°å †çš„å¤§å°å‡ä¸º1</strong>ä¸ºæ­¢ï¼Œæ•´ä¸ªæ•°ç»„å°±å˜ä¸ºæœ‰åºæ•°ç»„ï¼Œè¿‡ç¨‹ç»“æŸã€‚<br>å †æ’åºçš„è¿‡ç¨‹ï¼š<br><img src="/img/sort/heap1.png" alt="heap"><br><img src="/img/sort/heap2.png" alt="heap"><br><img src="/img/sort/heap3.png" alt="heap"><br><img src="/img/sort/heap4.png" alt="heap"><br>å †æ’åº<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN)</strong>ã€‚</p>
<h2 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public int[] shellSort(int[] arr, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">if</span>(arr == null || n &lt; 2)&#123;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">    int feet = n / 2;</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">while</span>(feet &gt; 0)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = feet; i &lt; n; i++)&#123;</span><br><span class="line">            index = i;</span><br><span class="line">            <span class="keyword">while</span>(index &gt;= feet)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[index - feet] &gt; arr[index])&#123;</span><br><span class="line">                    swap(arr, index - feet, index);</span><br><span class="line">                    index -= feet;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        feet /= 2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šå¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ä¸ª<strong>æ”¹è‰¯ç®—æ³•</strong>ï¼Œæ’å…¥æ’åºæ­¥é•¿ä¸º1ï¼Œå¸Œå°”æ’åº<strong>æ­¥é•¿å¯è°ƒæ•´</strong>ã€‚<br>ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜ï¼š<br>åˆå§‹æ­¥é•¿ä¸º3æ—¶ï¼Œæ•°ç»„å‰3ä¸ªæ•°6 5 3æ˜¯ä¸éœ€è¦è€ƒè™‘çš„<br><img src="/img/sort/shell1.png" alt="shell"><br>ä»1å¼€å§‹ï¼Œ1å‘å‰è·³3ä½æ¥åˆ°äº†6çš„æ•°ä¸Šï¼Œ1å’Œ6è¿›è¡Œæ¯”è¾ƒå‘ç°1æ¯”6å°ï¼Œåˆ™ä¸¤ä¸ªå…ƒç´ äº¤æ¢ä½ç½®<br><img src="/img/sort/shell2.png" alt="shell"><br>æ¥ä¸‹æ¥1å°±æ¥åˆ°äº†ä½ç½®0ï¼Œå¾€å‰è·³3ä½ï¼Œåˆ™å·²ç»è¶Šç•Œï¼Œæ‰€ä»¥äº¤æ¢çš„è¿‡ç¨‹åœæ­¢ï¼Œç„¶åç»§ç»­è€ƒå¯Ÿä¸‹ä¸€ä½æ•°ï¼Œç›´åˆ°æ•°ç»„æœ«å°¾ï¼Œæ­¥é•¿ä¸º3çš„æ’å…¥æ’åºç»“æŸ<br><img src="/img/sort/shell3.png" alt="shell"><br><strong>è°ƒæ•´æ­¥é•¿</strong>ç»§ç»­è¿›è¡Œæ’å…¥æ’åºçš„è¿‡ç¨‹ï¼Œå¸Œå°”æ’åºæœ€ç»ˆéƒ½ä¼šä»¥æ­¥é•¿ä¸º1çš„æƒ…å†µç»“æŸ<br><img src="/img/sort/shell4.png" alt="shell"><br>å¸Œå°”æ’åºçš„å…³é”®æ˜¯<strong>æ­¥é•¿çš„é€‰æ‹©</strong>ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN)</strong>ã€‚</p>
<h1 id="åŸºäºæ¡¶æ’åºçš„æ’åºç®—æ³•"><a href="#åŸºäºæ¡¶æ’åºçš„æ’åºç®—æ³•" class="headerlink" title="åŸºäºæ¡¶æ’åºçš„æ’åºç®—æ³•"></a>åŸºäºæ¡¶æ’åºçš„æ’åºç®—æ³•</h1><h2 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> public int[] countingSort(int[] arr, int n)&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">    int min = arr[0];</span><br><span class="line">    int max = arr[0];</span><br><span class="line">    <span class="keyword">for</span> (int i = 1; i &lt; n; i++) &#123;</span><br><span class="line">        min = Math.min(arr[i], min);</span><br><span class="line">        max = Math.max(arr[i], max);</span><br><span class="line">    &#125;</span><br><span class="line">    int[] countArr = new int[max - min + 1];</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        countArr[arr[i] - min]++;</span><br><span class="line">    &#125;</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; countArr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (countArr[i]-- &gt; 0) &#123;</span><br><span class="line">            arr[index++] = i + min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> arr;//å°†æ’åºå¥½çš„æ•°ç»„è¿”å›ï¼Œå®Œæˆæ’åº  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ€æƒ³ï¼šæ ¹æ®æ•°ç»„ä¸­çš„å…ƒç´ <strong>å»ºæ¡¶</strong>ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ ä¾æ¬¡<strong>æ”¾å…¥å¯¹åº”çš„æ¡¶ä¸­</strong>ï¼Œå½“æ‰€æœ‰å…ƒç´ è¿›å…¥æ¡¶ä¹‹åï¼Œä»æœ€å°çš„æ¡¶<strong>ä¾æ¬¡å€’å‡º</strong>æ¡¶ä¸­çš„å…ƒç´ ï¼Œç›´åˆ°æœ€å¤§çš„æ¡¶å·ä¸ºæ­¢ï¼Œæ­¤æ—¶ï¼Œå…ƒç´ è¢«å€’å‡ºçš„é¡ºåºå°±æ˜¯æ•°ç»„æ’åºä¹‹åçš„é¡ºåºã€‚ä¸Šä¾‹å®ç°ä¸­ä¸ºäº†èŠ‚çœå†…å­˜çš„å¼€é”€ï¼Œè®°å½•äº†æ•°ç»„å…ƒç´ ä¸­çš„<strong>æœ€å¤§å€¼</strong>ä»¥åŠ<strong>æœ€å°å€¼</strong>ï¼Œå¹¶ä»¥æ­¤æ¥å»ºç«‹æœ€å¤§æ¡¶ä»¥åŠæœ€å°æ¡¶ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œè¦è€ƒè™‘å­˜åœ¨ç›¸ç­‰å…ƒç´ çš„æƒ…å†µï¼Œå› æ­¤è¦è®°å½•<strong>æ¯ä¸ªæ¡¶ä¸­çš„å…ƒç´ ä¸ªæ•°</strong>ã€‚<br>ä¸¾ä¸ªç®€å•çš„ğŸŒ°ï¼š<br>å¯¹å‘˜å·¥èº«é«˜è¿›è¡Œæ’åºï¼Œå› ä¸ºæˆå¹´äººçš„èº«é«˜åœ¨100cm-300cmä¹‹é—´ï¼Œæ‰€ä»¥å°†æ¡¶å®šä¹‰ä¸º100-300<br><img src="/img/sort/count1.png" alt="count"><br><img src="/img/sort/count2.png" alt="count"><br>å°†å‘˜å·¥èº«é«˜æ”¾å…¥ç›¸åº”çš„æ¡¶å·ä¸­<br><img src="/img/sort/count3.png" alt="count"><br>ä»100å¼€å§‹å€’å‡ºå…ƒç´ ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚<br><img src="/img/sort/count4.png" alt="count"><br>è®¡æ•°æ’åºçš„<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(N)</strong>ã€‚</p>
<h2 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public int[] radixSort(int[] array, int n)&#123;</span><br><span class="line">    <span class="keyword">if</span> (array == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">    int d = 10000;   </span><br><span class="line">    int m = 1;//ä»£è¡¨ä½æ•°å¯¹åº”çš„æ•°ï¼š1,10,100...</span><br><span class="line">    int k = 0;//ä¿å­˜æ¯ä¸€ä½æ’åºåçš„ç»“æœç”¨äºä¸‹ä¸€ä½çš„æ’åºè¾“å…¥n</span><br><span class="line">    int[][] bucket = new int[10][n];//æ’åºæ¡¶ç”¨äºä¿å­˜æ¯æ¬¡æ’åºåçš„ç»“æœï¼Œè¿™ä¸€ä½ä¸Šæ’åºç»“æœç›¸åŒçš„æ•°å­—æ”¾åœ¨åŒä¸€ä¸ªæ¡¶é‡Œ</span><br><span class="line">    int[] order = new int[n];//ç”¨äºä¿å­˜æ¯ä¸ªæ¡¶é‡Œæœ‰å¤šå°‘ä¸ªæ•°å­—</span><br><span class="line">    <span class="keyword">while</span>(m &lt; d)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int num : array) //å°†æ•°ç»„arrayé‡Œçš„æ¯ä¸ªæ•°å­—æ”¾åœ¨ç›¸åº”çš„æ¡¶é‡Œ</span><br><span class="line">        &#123;</span><br><span class="line">            int digit = (num / m) % 10;</span><br><span class="line">            bucket[digit][order[digit]++] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; n; i++)//å°†å‰ä¸€ä¸ªå¾ªç¯ç”Ÿæˆçš„æ¡¶é‡Œçš„æ•°æ®è¦†ç›–åˆ°åŸæ•°ç»„ä¸­ç”¨äºä¿å­˜è¿™ä¸€ä½çš„æ’åºç»“æœ</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(order[i] &gt; 0)//è¿™ä¸ªæ¡¶é‡Œæœ‰æ•°æ®ï¼Œä»ä¸Šåˆ°ä¸‹éå†è¿™ä¸ªæ¡¶å¹¶å°†æ•°æ®ä¿å­˜åˆ°åŸæ•°ç»„ä¸­</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(int j = 0;j &lt; order[i]; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    array[k++] = bucket[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            order[i] = 0;//å°†æ¡¶é‡Œè®¡æ•°å™¨ç½®0ï¼Œç”¨äºä¸‹ä¸€æ¬¡ä½æ’åº</span><br><span class="line">        &#125;</span><br><span class="line">        m *= 10;</span><br><span class="line">        k = 0;//å°†kç½®0ï¼Œç”¨äºä¸‹ä¸€è½®ä¿å­˜ä½æ’åºç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¾ä¸ªç®€å•çš„ğŸŒ°æ¥è¯´æ˜åŸºæ•°æ’åºçš„ä¸»è¦æ€æƒ³ï¼š<br><img src="/img/sort/radix1.png" alt="radix"><br>å‡†å¤‡0-9å·æ¡¶<br><img src="/img/sort/radix2.png" alt="radix"><br>æ¥ä¸‹æ¥æ ¹æ®æ¯ä¸€ä¸ªå…ƒç´ ä¸ªä½ä¸Šçš„æ•°å­—ï¼Œå°†å…ƒç´ æ”¾å…¥å¯¹åº”çš„æ¡¶å·ä¸­<br><img src="/img/sort/radix3.png" alt="radix"><br>æ‰€æœ‰å…ƒç´ è¿›æ¡¶åå†ä»9å·æ¡¶è‡³0å·æ¡¶ä¾æ¬¡å€’å‡ºæ¡¶å†…çš„å…ƒç´ ï¼Œç»„æˆäº†ä¸€ä¸ªæ–°åºåˆ—<br><img src="/img/sort/radix4.png" alt="radix"><br>æ ¹æ®æ¯ä¸€ä¸ªå…ƒç´ åä½ä¸Šçš„æ•°å­—ï¼Œå°†æ–°åºåˆ—ä¸­å…ƒç´ æ”¾å…¥å¯¹åº”çš„æ¡¶å·ä¸­<br><img src="/img/sort/radix5.png" alt="radix"><br>æ‰€æœ‰å…ƒç´ è¿›æ¡¶åå†ä»9å·æ¡¶è‡³0å·æ¡¶ä¾æ¬¡å€’å‡ºæ¡¶å†…çš„å…ƒç´ ï¼Œç»„æˆäº†ä¸€ä¸ªæ–°åºåˆ—<br><img src="/img/sort/radix6.png" alt="radix"><br>æ ¹æ®æ¯ä¸€ä¸ªå…ƒç´ ç™¾ä½ä¸Šçš„æ•°å­—ï¼Œå°†æ–°åºåˆ—ä¸­å…ƒç´ æ”¾å…¥å¯¹åº”çš„æ¡¶å·ä¸­<br><img src="/img/sort/radix7.png" alt="radix"><br>æ‰€æœ‰å…ƒç´ è¿›æ¡¶åå†ä»9å·æ¡¶è‡³0å·æ¡¶ä¾æ¬¡å€’å‡ºæ¡¶å†…çš„å…ƒç´ ï¼Œç»„æˆäº†ä¸€ä¸ªæ–°åºåˆ—<br><img src="/img/sort/radix8.png" alt="radix"><br>ä¾æ¬¡è¿­ä»£ä¸‹å»ï¼Œæœ€åæ ¹æ®æœ€é«˜ä½æ•°å€¼é€‰æ‹©è¿›å…¥å¯¹åº”çš„æ¡¶ä¸­ï¼Œæœ€åä¸€æ¬¡å€’å‡ºçš„åºåˆ—å°±æ˜¯æ•´ä¸ªæ•°ç»„æ’åºçš„ç»“æœï¼Œè¿‡ç¨‹ç»“æŸã€‚<br>åŸºæ•°æ’åºçš„<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(N)</strong></p>
<h1 id="æ’åºç®—æ³•çš„æ¯”è¾ƒ"><a href="#æ’åºç®—æ³•çš„æ¯”è¾ƒ" class="headerlink" title="æ’åºç®—æ³•çš„æ¯”è¾ƒ"></a>æ’åºç®—æ³•çš„æ¯”è¾ƒ</h1><p><img src="/img/sort/compare.png" alt="compare"><br><strong>ç¨³å®šæ€§</strong>ï¼šå‡å®šå¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„å…³é”®å­—çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¸å˜ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œå¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„ã€‚</p>
<h1 id="æ’åºç®—æ³•å…¸å‹æ¡ˆä¾‹"><a href="#æ’åºç®—æ³•å…¸å‹æ¡ˆä¾‹" class="headerlink" title="æ’åºç®—æ³•å…¸å‹æ¡ˆä¾‹"></a>æ’åºç®—æ³•å…¸å‹æ¡ˆä¾‹</h1><h2 id="å°èŒƒå›´æ’åº"><a href="#å°èŒƒå›´æ’åº" class="headerlink" title="å°èŒƒå›´æ’åº"></a>å°èŒƒå›´æ’åº</h2><p>å·²çŸ¥ä¸€ä¸ªå‡ ä¹æœ‰åºçš„æ•°ç»„ï¼Œå‡ ä¹æœ‰åºæ˜¯æŒ‡ï¼Œå¦‚æœæŠŠæ•°ç»„æ’å¥½é¡ºåºçš„è¯ï¼Œæ¯ä¸ªå…ƒç´ ç§»åŠ¨çš„è·ç¦»å¯ä»¥ä¸è¶…è¿‡kï¼Œå¹¶ä¸”kç›¸å¯¹äºæ•°ç»„æ¥è¯´æ¯”è¾ƒå°ã€‚è¯·é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ’åºç®—æ³•é’ˆå¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œæ’åºã€‚<br>é€‰æ‹©<strong>æ”¹è¿›åçš„å †æ’åºç®—æ³•</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">public int[] sortElement(int[] A, int n, int k) &#123;</span><br><span class="line">    <span class="keyword">if</span> (A == null || A.length == 0 || n &lt; k) &#123;</span><br><span class="line">        <span class="built_in">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    int[] heap = getKHeap(A, k);</span><br><span class="line">    <span class="keyword">for</span>(int i = k; i &lt; n; i++)&#123;</span><br><span class="line">        A[i - k] = heap[0];</span><br><span class="line">        heap[0] = A[i];</span><br><span class="line">        heapify(heap, 0, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(int i = n - k; i &lt; n; i++)&#123;</span><br><span class="line">        A[i] = heap[0];</span><br><span class="line">        heap[0] = heap[k - 1];</span><br><span class="line">        heapify(heap, 0, --k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">public int[] getKHeap(int[] A, int k)&#123;</span><br><span class="line">    int[] heap = new int[k];</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; k; i++)&#123;</span><br><span class="line">        heapInsert(heap, A[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> heap;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">public void heapInsert(int[]A, int value, int index)&#123;</span><br><span class="line">    A[index] = value;</span><br><span class="line">    <span class="keyword">while</span>(index != 0)&#123;</span><br><span class="line">        int parent = (index - 1) / 2;</span><br><span class="line">        <span class="keyword">if</span>(A[parent] &gt; A[index])&#123;</span><br><span class="line">            swap(A, parent, index);</span><br><span class="line">            index = parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">public  void heapify(int[] arr, int index, int heapSize) &#123;</span><br><span class="line">    int left = index * 2 + 1;</span><br><span class="line">    int right = index * 2 + 2;</span><br><span class="line">    int smallest = index;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; heapSize) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[left] &lt; arr[index]) &#123;</span><br><span class="line">            smallest = left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (right &lt; heapSize &amp;&amp; arr[right] &lt; arr[smallest]) &#123;</span><br><span class="line">            smallest = right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (smallest != index) &#123;</span><br><span class="line">            swap(arr, smallest, index);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        index = smallest;</span><br><span class="line">        left = index * 2 + 1;</span><br><span class="line">        right = index * 2 + 2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¯´æ˜ï¼š<br>æ•´ä¸ªæ•°ç»„çš„æœ€å°å€¼è‚¯å®šæ˜¯åœ¨0~k-1è¿™ä¸ªåŒºé—´å†…çš„<br><img src="/img/sort/li1-1.png" alt="li1"><br>å°†a[0]~a[k-1]å»ºç«‹å°æ ¹å †ï¼Œå°†æ ˆé¡¶å…ƒç´ æ”¾åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸Š<br><img src="/img/sort/li1-2.png" alt="li1"><br>ç„¶åå°†å…ƒç´ ç»„çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ”¾å…¥å°æ ¹å †ï¼Œå¹¶å¯¹å°æ ¹å †è¿›è¡Œè°ƒæ•´<br><img src="/img/sort/li1-3.png" alt="li1"><br>å°†æ ˆé¡¶å…ƒç´ æ”¾åœ¨æ•°ç»„çš„ç¬¬äºŒä¸ªä½ç½®ä¸Š<br><img src="/img/sort/li1-4.png" alt="li1"><br>ä¾æ¬¡é‡å¤æ­¥éª¤ï¼Œæ•°ç»„æ’åºå®Œæ¯•ã€‚<br><strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogK)</strong></p>
<h2 id="é‡å¤å€¼åˆ¤æ–­"><a href="#é‡å¤å€¼åˆ¤æ–­" class="headerlink" title="é‡å¤å€¼åˆ¤æ–­"></a>é‡å¤å€¼åˆ¤æ–­</h2><p>è¯·è®¾è®¡ä¸€ä¸ªé«˜æ•ˆç®—æ³•ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰é‡å¤å€¼ã€‚å¿…é¡»ä¿è¯é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br>å¦‚æœæ²¡æœ‰ç©ºé—´å¤æ‚åº¦çš„é™åˆ¶ï¼Œç”¨<strong>å“ˆå¸Œè¡¨</strong>å®ç°ï¼Œæ­¤é¢˜é‡‡ç”¨<strong>å…ˆæ’åºååˆ¤æ–­</strong>çš„æ–¹æ³•ï¼Œé‡‡ç”¨<strong>éé€’å½’çš„å †æ’åº</strong>å®ç°æ’åºã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">public boolean checkDuplicate(int[] a, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    a = heapSort(a, n);</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; n - 1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i] == a[i + 1])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">public int[] heapSort(int[] A, int n) &#123;</span><br><span class="line">        // write code here</span><br><span class="line">        <span class="keyword">for</span> (int i = 0; i &lt; n; i++) &#123;  </span><br><span class="line">        createMaxdHeap(A, n - 1 - i);  </span><br><span class="line">        swap(A, 0, n - 1 - i);    </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="built_in">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void createMaxdHeap(int[] data, int lastIndex) &#123;  </span><br><span class="line">    <span class="keyword">for</span> (int i = (lastIndex - 1) / 2; i &gt;= 0; i--) &#123;  </span><br><span class="line">        // ä¿å­˜å½“å‰æ­£åœ¨åˆ¤æ–­çš„èŠ‚ç‚¹  </span><br><span class="line">        int k = i;  </span><br><span class="line">        // è‹¥å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å­˜åœ¨  </span><br><span class="line">        <span class="keyword">while</span> (2 * k + 1 &lt;= lastIndex) &#123;  </span><br><span class="line">            // biggerIndexæ€»æ˜¯è®°å½•è¾ƒå¤§èŠ‚ç‚¹çš„å€¼,å…ˆèµ‹å€¼ä¸ºå½“å‰åˆ¤æ–­èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹  </span><br><span class="line">            int biggerIndex = 2 * k + 1;  </span><br><span class="line">            <span class="keyword">if</span> (biggerIndex &lt; lastIndex) &#123;  </span><br><span class="line">                // è‹¥å³å­èŠ‚ç‚¹å­˜åœ¨ï¼Œå¦åˆ™æ­¤æ—¶biggerIndexåº”è¯¥ç­‰äº lastIndex  </span><br><span class="line">                <span class="keyword">if</span> (data[biggerIndex] &lt; data[biggerIndex + 1]) &#123;  </span><br><span class="line">                    // è‹¥å³å­èŠ‚ç‚¹å€¼æ¯”å·¦å­èŠ‚ç‚¹å€¼å¤§ï¼Œåˆ™biggerIndexè®°å½•çš„æ˜¯å³å­èŠ‚ç‚¹çš„å€¼  </span><br><span class="line">                    biggerIndex++;  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">if</span> (data[k] &lt; data[biggerIndex]) &#123;  </span><br><span class="line">                // è‹¥å½“å‰èŠ‚ç‚¹å€¼æ¯”å­èŠ‚ç‚¹æœ€å¤§å€¼å°ï¼Œåˆ™äº¤æ¢2è€…å¾—å€¼ï¼Œäº¤æ¢åå°†biggerIndexå€¼èµ‹å€¼ç»™k  </span><br><span class="line">                swap(data, k, biggerIndex);  </span><br><span class="line">                k = biggerIndex;  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                <span class="built_in">break</span>;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æœ‰åºæ•°ç»„åˆå¹¶"><a href="#æœ‰åºæ•°ç»„åˆå¹¶" class="headerlink" title="æœ‰åºæ•°ç»„åˆå¹¶"></a>æœ‰åºæ•°ç»„åˆå¹¶</h2><p>æœ‰ä¸¤ä¸ªä»å°åˆ°å¤§æ’åºä»¥åçš„æ•°ç»„Aå’ŒBï¼Œå…¶ä¸­Açš„æœ«ç«¯æœ‰è¶³å¤Ÿçš„ç¼“å†²ç©ºå®¹çº³Bã€‚è¯·ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå°†Båˆå¹¶å…¥Aå¹¶æ’åºã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> public int[] mergeAB(int[] A, int[] B, int n, int m) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">while</span>(m != 0)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == 0)&#123;</span><br><span class="line">            A[m - 1] = B[m - 1];</span><br><span class="line">            m--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            A[m + n - 1] = A[n - 1] &gt; B[m - 1]? A[--n] : B[--m];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜ï¼š<br>é¦–å…ˆæ¯”è¾ƒæ•°ç»„Aå’Œæ•°ç»„Bæœ€åçš„å…ƒç´ <br><img src="/img/sort/li3-1.png" alt="li3"><br>å‘ç°6æ¯”5å¤§ï¼Œæ‰€ä»¥å°†6æ‹·è´è‡³æ•°ç»„Aæœ€åçš„ä½ç½®<br><img src="/img/sort/li3-2.png" alt="li3"><br>æ¥ç€æ¯”è¾ƒæ•°ç»„Aå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ 4å’Œæ•°ç»„Bæœ€åä¸€ä¸ªå…ƒç´ 5ï¼Œå‘ç°5æ¯”4å¤§ï¼Œåˆ™å°†5æ‹·è´è‡³æ•°ç»„Aå€’æ•°ç¬¬äºŒä¸ªä½ç½®<br><img src="/img/sort/li3-3.png" alt="li3"><br>ä¾æ¬¡æ¯”è¾ƒæ‰€æœ‰çš„æ•°ï¼Œç›´åˆ°æœ‰åºæ•°ç»„Bå®Œæˆæ‹·è´è‡³æ•°ç»„Aä¸­ä¸ºæ­¢ï¼Œé‚£ä¹ˆæ•°ç»„Aå°±æ˜¯æ•´ä¸ªåˆå¹¶åçš„ç»“æœã€‚<br>å…³é”®åœ¨äº<strong>ä»åå¾€å‰è¦†ç›–æ•°ç»„A</strong></p>
<h2 id="ä¸‰è‰²æ’åº"><a href="#ä¸‰è‰²æ’åº" class="headerlink" title="ä¸‰è‰²æ’åº"></a>ä¸‰è‰²æ’åº</h2><p>æœ‰ä¸€ä¸ªåªç”±0ï¼Œ1ï¼Œ2ä¸‰ç§å…ƒç´ æ„æˆçš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½¿ç”¨äº¤æ¢ã€åŸåœ°æ’åºè€Œä¸æ˜¯ä½¿ç”¨è®¡æ•°è¿›è¡Œæ’åºã€‚<br>æœ¬é¢˜ä¸»è¦è¿‡ç¨‹<strong>ä¸å¿«é€Ÿæ’åºåˆ’åˆ†è¿‡ç¨‹ç±»ä¼¼</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public int[] sortThreeColor(int[] A, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">if</span> (A == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    int left = -1;</span><br><span class="line">    int right = n;</span><br><span class="line">    int index = 0;</span><br><span class="line">    <span class="keyword">while</span>(index &lt; right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(A[index] == 0)&#123;</span><br><span class="line">            swap(A, ++left, index++);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(A[index] == 2)&#123;</span><br><span class="line">            swap(A, index, ++right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸¾ä¸ªğŸŒ°ï¼š<br>å› ä¸ºæ­¤è¿‡ç¨‹ä¸å¿«é€Ÿæ’åºåˆ’åˆ†è¿‡ç¨‹å¾ˆç±»ä¼¼ï¼Œè¿™é‡Œå°±ä¸åšè¯¦ç»†è¯´æ˜äº†<br><img src="/img/sort/li4-1.png" alt="li4"><br><img src="/img/sort/li4-2.png" alt="li4"><br><img src="/img/sort/li4-3.png" alt="li4"><br><img src="/img/sort/li4-4.png" alt="li4"><br><img src="/img/sort/li4-5.png" alt="li4"><br><img src="/img/sort/li4-6.png" alt="li4"><br><img src="/img/sort/li4-7.png" alt="li4"><br><img src="/img/sort/li4-8.png" alt="li4"></p>
<h2 id="æœ‰åºçŸ©é˜µæŸ¥æ‰¾"><a href="#æœ‰åºçŸ©é˜µæŸ¥æ‰¾" class="headerlink" title="æœ‰åºçŸ©é˜µæŸ¥æ‰¾"></a>æœ‰åºçŸ©é˜µæŸ¥æ‰¾</h2><p>ç°åœ¨æœ‰ä¸€ä¸ªè¡Œå’Œåˆ—éƒ½æ’å¥½åºçš„çŸ©é˜µï¼Œè¯·è®¾è®¡ä¸€ä¸ªé«˜æ•ˆç®—æ³•ï¼Œå¿«é€ŸæŸ¥æ‰¾çŸ©é˜µä¸­æ˜¯å¦å«æœ‰å€¼xã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public boolean findX(int[][] mat, int n, int m, int x) &#123;</span><br><span class="line">    int a = 0;</span><br><span class="line">    int b = m - 1;</span><br><span class="line">    <span class="keyword">while</span>(a &lt; n &amp;&amp; b &gt;= 0)&#123;</span><br><span class="line">        <span class="keyword">if</span> (mat[a][b] == x)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">true</span> ;</span><br><span class="line">        &#125;     </span><br><span class="line">        <span class="keyword">if</span> (mat[a][b] &lt; x)&#123;</span><br><span class="line">            a++ ;</span><br><span class="line">        &#125;     </span><br><span class="line">        <span class="keyword">if</span> (mat[a][b] &gt; x)</span><br><span class="line">        &#123;</span><br><span class="line">            b--;</span><br><span class="line">        &#125;                </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜ï¼š<br>ä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹<br><img src="/img/sort/li5-1.png" alt="li5"><br>å¦‚æœå½“å‰æ•°å¤§äºéœ€è¦æ‰¾çš„æ•°ï¼Œå› ä¸ºæ•´ä¸ªäºŒç»´æ•°ç»„ä¸­æ¯ä¸€åˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å½“å‰æ•°ä¸‹é¢çš„æ‰€æœ‰æ•°éƒ½æ¯”éœ€è¦æ‰¾çš„æ•°å¤§ï¼Œæ­¤æ—¶å‘å·¦ç§»åŠ¨<br><img src="/img/sort/li5-2.png" alt="li5"><br>å¦‚æœå½“å‰æ•°å°äºéœ€è¦æ‰¾çš„æ•°ï¼Œå› ä¸ºæ•´ä¸ªäºŒç»´æ•°ç»„ä¸­æ¯ä¸€è¡Œéƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å½“å‰æ•°å·¦è¾¹çš„æ‰€æœ‰æ•°éƒ½æ¯”éœ€è¦æ‰¾çš„æ•°å°ï¼Œæ­¤æ—¶å‘ä¸‹ç§»åŠ¨<br><img src="/img/sort/li5-3.png" alt="li5"><br><img src="/img/sort/li5-4.png" alt="li5"><br>æ¯ä¸€ä¸ªå½“å‰æ•°éƒ½æ ¹æ®ä»¥ä¸Šçš„é€»è¾‘è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœåœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­æ‰¾åˆ°äº†æˆ‘ä»¬éœ€è¦æ‰¾çš„æ•°ï¼Œè¿”å›<strong>true</strong>ï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸï¼Œå¦‚æœä¸€ç›´åˆ°è¶Šç•Œè¿˜æœªæ‰¾åˆ°ï¼Œåˆ™è¿”å›<strong>false</strong>ã€‚</p>
<h2 id="æœ€çŸ­å­æ•°ç»„"><a href="#æœ€çŸ­å­æ•°ç»„" class="headerlink" title="æœ€çŸ­å­æ•°ç»„"></a>æœ€çŸ­å­æ•°ç»„</h2><p>å¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œè¯·è®¾è®¡ä¸€ä¸ªé«˜æ•ˆç®—æ³•è®¡ç®—éœ€è¦æ’åºçš„æœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"> public int shortestSubsequence(int[] A, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    int max = A[0];</span><br><span class="line">    int min = A[n - 1];</span><br><span class="line">    int left = 0;</span><br><span class="line">    int right = 0;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(A[i] &gt; max)</span><br><span class="line">        &#123;</span><br><span class="line">            max = A[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(A[i] &lt; max)</span><br><span class="line">        &#123;</span><br><span class="line">            right = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(int i = n - 2; i &gt;= 0; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(A[i] &lt; min)</span><br><span class="line">        &#123;</span><br><span class="line">            min = A[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(A[i] &gt; min)</span><br><span class="line">        &#123;</span><br><span class="line">            left = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">return</span> ((right-left) == 0) ? 0 : ((right - left) + 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜ï¼š<br>é¦–å…ˆ<strong>ä»å·¦åˆ°å³</strong>éå†æ•´ä¸ªæ•°ç»„ï¼Œä½¿ç”¨å•ç‹¬çš„å˜é‡æ¥è®°å½•éå†è¿‡çš„å…ƒç´ çš„<strong>æœ€å¤§å€¼</strong>ï¼Œæˆ‘ä»¬åªå…³æ³¨äºä¸€ç§æƒ…å†µï¼š<strong>éå†è¿‡éƒ¨åˆ†çš„æœ€å¤§å€¼å¤§äºå½“å‰æ•°çš„æƒ…å†µ</strong>ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨çœŸå®çš„æ’åºä¹‹åï¼Œæœ€å¤§å€¼èµ·ç ä¼šåœ¨<strong>å½“å‰æ•°çš„ä½ç½®æˆ–è€…æ›´å³çš„ä½ç½®</strong>ã€‚ä»å·¦åˆ°å³éå†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªè®°å½•å‘ç”Ÿè¿™ç§æƒ…å†µçš„<strong>æœ€å³ä½ç½®</strong>ï¼›<br><img src="/img/sort/li7-1.png" alt="li7"><br>æ¥ä¸‹æ¥æ˜¯<strong>ä»å³å¾€å·¦</strong>éå†æ•´ä¸ªæ•°ç»„ï¼Œä½¿ç”¨å•ç‹¬çš„å˜é‡æ¥è®°å½•éå†è¿‡çš„å…ƒç´ çš„<strong>æœ€å°å€¼</strong>ï¼Œæˆ‘ä»¬ä¾ç„¶åªå…³æ³¨äºä¸€ç§æƒ…å†µï¼š<strong>éå†è¿‡éƒ¨åˆ†çš„æœ€å°å€¼å°äºå½“å‰æ•°çš„æƒ…å†µ</strong>ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨çœŸå®çš„æ’åºä¹‹åï¼Œæœ€å°å€¼èµ·ç ä¼šåœ¨<strong>å½“å‰æ•°çš„ä½ç½®æˆ–è€…æ›´å·¦çš„ä½ç½®</strong>ã€‚ä»å³åˆ°å·¦éå†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªè®°å½•å‘ç”Ÿè¿™ç§æƒ…å†µçš„<strong>æœ€å·¦ä½ç½®</strong>ï¼›<br><img src="/img/sort/li7-2.png" alt="li7"><br><strong>æœ€å·¦ä½ç½®å’Œæœ€å³ä½ç½®ä¸­é—´çš„èŒƒå›´å°±æ˜¯éœ€è¦æ’åºçš„æœ€çŸ­å­æ•°ç»„</strong><br><img src="/img/sort/li7-3.png" alt="li7"></p>
<h2 id="ç›¸é‚»ä¸¤æ•°æœ€å¤§å·®å€¼"><a href="#ç›¸é‚»ä¸¤æ•°æœ€å¤§å·®å€¼" class="headerlink" title="ç›¸é‚»ä¸¤æ•°æœ€å¤§å·®å€¼"></a>ç›¸é‚»ä¸¤æ•°æœ€å¤§å·®å€¼</h2><p>æœ‰ä¸€ä¸ªæ•´å½¢æ•°ç»„Aï¼Œè¯·è®¾è®¡ä¸€ä¸ªå¤æ‚åº¦ä¸ºO(n)çš„ç®—æ³•ï¼Œç®—å‡ºæ’åºåç›¸é‚»ä¸¤æ•°çš„æœ€å¤§å·®å€¼ã€‚<br><strong>æ¥è‡ªæ¡¶æ’åºæ€æƒ³</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public int maxGap(int[] nums, int n) &#123;</span><br><span class="line">    // write code here</span><br><span class="line">    <span class="keyword">if</span> (nums == null || n &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> 0;</span><br><span class="line">    &#125;</span><br><span class="line">n		int min = Integer.MAX_VALUE;</span><br><span class="line">    int max = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        min = Math.min(min, nums[i]);</span><br><span class="line">        max = Math.max(max, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (min == max) &#123;</span><br><span class="line">        <span class="built_in">return</span> 0;</span><br><span class="line">    &#125;</span><br><span class="line">    boolean[] hasNum = new boolean[len + 1];</span><br><span class="line">    int[] maxs = new int[len + 1];</span><br><span class="line">    int[] mins = new int[len + 1];</span><br><span class="line">    int bid = 0;</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        bid = bucket(nums[i], n, min, max); // ç®—å‡ºæ¡¶å·</span><br><span class="line">        mins[bid] = hasNum[bid] ? Math.min(mins[bid], nums[i]) : nums[i];</span><br><span class="line">        maxs[bid] = hasNum[bid] ? Math.max(maxs[bid], nums[i]) : nums[i];</span><br><span class="line">        hasNum[bid] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    int res = 0;</span><br><span class="line">    int lastMax = 0;</span><br><span class="line">    int i = 0;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hasNum[i++]) &#123; // æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ç©ºçš„æ¡¶</span><br><span class="line">            lastMax = maxs[i - 1];</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hasNum[i]) &#123;</span><br><span class="line">            res = Math.max(res, mins[i] - lastMax);</span><br><span class="line">            lastMax = maxs[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">public int bucket(long num, long len, long min, long max) &#123;</span><br><span class="line">    <span class="built_in">return</span> (int) ((num - min) * len / (max - min));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>é¦–å…ˆéå†æ•°ç»„ï¼Œæ‰¾åˆ°æ•°ç»„çš„<strong>æœ€å°å€¼</strong>å’Œ<strong>æœ€å¤§å€¼</strong>ï¼Œåœ¨æœ€å°å€¼å’Œæœ€å¤§å€¼èŒƒå›´ä¸Šç­‰é‡åœ°åˆ†æˆ<strong>nä¸ªåŒºé—´</strong>ï¼ˆnä¸ºæ•´ä¸ªæ•°ç»„çš„é•¿åº¦ï¼‰</li>
<li>æ¯ä¸ªåŒºé—´åˆ†åˆ«å¯¹åº”ä¸€ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ•°æ ¹æ®è‡ªå·±çš„å¯¹åº”åŒºé—´è¿›å…¥ç›¸åº”çš„æ¡¶ï¼Œå°†æœ€å¤§å€¼å•ç‹¬æ”¾åœ¨<strong>n+1</strong>å·æ¡¶ä¸­ï¼Œæ¡¶çš„æ•°é‡ä¸€å…±æœ‰n+1ä¸ªï¼Œè€Œæ•°ç»„å…ƒç´ åªæœ‰nä¸ªï¼Œæ‰€ä»¥åœ¨ä¸­é—´å¿…ç„¶ä¼šå‡ºç°ç©ºæ¡¶</li>
<li>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çŸ¥é“ï¼Œåœ¨åŒä¸€ä¸ªæ¡¶ä¸­ç›¸é‚»å…ƒç´ çš„å·®å€¼ä¸ä¼šå¤§äºæ¡¶åŒºé—´ï¼Œè€Œæ¥è‡ª<strong>ç©ºæ¡¶ä¸¤ä¾§çš„ç›¸é‚»æ•°çš„æœ€å¤§å·®å€¼è‚¯å®šå¤§äºæ¡¶åŒºé—´</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬<strong>åªéœ€è€ƒè™‘æ¡¶é—´ç›¸é‚»æ•°çš„å·®å€¼</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>åä¸€ä¸ªæ¡¶çš„æœ€å°å€¼å‡å»å‰ä¸€ä¸ªæ¡¶çš„æœ€å¤§å€¼</strong></li>
<li>æ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦è€ƒè™‘æ¯ä¸€ä¸ªæ¡¶ä¸­çš„æœ€å°å€¼ä¸ä¸Šä¸€ä¸ªéç©ºæ¡¶çš„æœ€å¤§å€¼çš„å·®å€¼ï¼Œå¹¶è®°å½•ä¸‹å…¶ä¸­çš„æœ€å¤§å·®å€¼ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªæ•°ç»„åœ¨æ’åºä¹‹åç›¸é‚»ä¸¤æ•°çš„æœ€å¤§å·®å€¼ã€‚</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ’åºç®—æ³•åˆ°è¿™é‡Œç®—æ˜¯å‘Šä¸€æ®µè½äº†ï¼Œæœ€åçš„æ’åºæ¡ˆä¾‹å¾ˆæ˜¯ç»å…¸ï¼Œæˆ‘ç¢°åˆ°è¿‡å¥½å‡ æ¬¡ï¼Œæ’åºç®—æ³•æ˜¯ç®—æ³•ä¸­é‡è¦çš„ä¸€éƒ¨åˆ†çŸ¥è¯†ç‚¹ï¼Œå¸Œæœ›è‡ªå·±ä»¥åèƒ½å¤Ÿå°†æ‰€æœ‰çš„æ’åºç®—æ³•è‡ªä¸»ç¼–ç¨‹å®ç°ï½ç»§ç»­åŠ æ²¹ï½</p>
]]></content>
      
        <categories>
            
            <category> ç®—æ³• </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ç®—æ³• æ’åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹è®¾è®¡æ¨¡å¼]]></title>
      <url>/2018/02/06/js-structural-pattern/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ç»§ä¸Šç¯‡åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ä¹‹åï¼Œæ­¤ç¯‡åšæ–‡ä¸»è¦è®°å½•ç»“æ„å‹è®¾è®¡æ¨¡å¼çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå¦‚æœåœ¨æŸäº›åœ°æ–¹è¡¨è¿°ä¸æ­£ç¡®çš„ï¼Œè¿˜å¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºï¼Œå…±åŒè¿›æ­¥ï½</p>
</blockquote>
<h1 id="ç»“æ„å‹è®¾è®¡æ¨¡å¼"><a href="#ç»“æ„å‹è®¾è®¡æ¨¡å¼" class="headerlink" title="ç»“æ„å‹è®¾è®¡æ¨¡å¼"></a>ç»“æ„å‹è®¾è®¡æ¨¡å¼</h1><p>ç»“æ„å‹è®¾è®¡æ¨¡å¼æ˜¯ä¸€ç±»å…³æ³¨äºå¦‚ä½•å°†ç±»æˆ–å¯¹è±¡ç»„åˆæˆæ›´å¤§ã€æ›´å¤æ‚çš„ç»“æ„çš„è®¾è®¡æ¨¡å¼ï¼Œä¸»è¦åº”ç”¨äºå¯¹è±¡çš„ç»„åˆã€‚åŒ…æ‹¬<strong>å¤–è§‚æ¨¡å¼</strong>ã€<strong>é€‚é…å™¨æ¨¡å¼</strong>ã€<strong>ä»£ç†æ¨¡å¼</strong>ã€<strong>è£…é¥°è€…æ¨¡å¼</strong>ã€<strong>æ¡¥æ¥æ¨¡å¼</strong>ã€<strong>ç»„åˆæ¨¡å¼</strong>ä»¥åŠ<strong>äº«å…ƒæ¨¡å¼</strong>ã€‚</p>
<h2 id="å¤–è§‚æ¨¡å¼"><a href="#å¤–è§‚æ¨¡å¼" class="headerlink" title="å¤–è§‚æ¨¡å¼"></a>å¤–è§‚æ¨¡å¼</h2><p><strong>å¤–è§‚æ¨¡å¼</strong>ï¼Œä¸ºä¸€ç»„å¤æ‚çš„å­ç³»ç»Ÿæ¥å£æä¾›ä¸€ä¸ªæ›´é«˜çº§çš„<strong>ç»Ÿä¸€æ¥å£</strong>ï¼Œé€šè¿‡è¿™ä¸ªæ¥å£ä½¿å¾—å¯¹å­ç³»ç»Ÿæ¥å£çš„è®¿é—®æ›´åŠ å®¹æ˜“ã€‚<br><a id="more"></a><br><img src="/img/structual/å¤–è§‚æ¨¡å¼.png" alt="å¤–è§‚æ¨¡å¼"></p>
<ul>
<li><p>å¤–è§‚æ¨¡å¼<strong>ç®€åŒ–åº•å±‚æ¥å£å¤æ‚æ€§</strong>ï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥ç®€åŒ–æˆ‘ä»¬äº‹ä»¶çš„ç»‘å®š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> addEvent(dom, <span class="built_in">type</span>, fn)&#123;</span><br><span class="line">    <span class="keyword">if</span>(dom.addEventListener)&#123;</span><br><span class="line">        dom.addEventListener(<span class="built_in">type</span>, fn, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(dom.attachEvent)&#123;</span><br><span class="line">        dom.attachEvent(<span class="string">'on'</span> + <span class="built_in">type</span>, fn);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        dom[<span class="string">'on'</span> + <span class="built_in">type</span>] = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥å®ç°<strong>å°å‹ä»£ç åº“</strong>ï¼Œé€šè¿‡ä½¿ç”¨å¤–è§‚æ¨¡å¼æ¥å°è£…å¤šä¸ªåŠŸèƒ½ï¼Œç®€åŒ–åº•å±‚æ“ä½œæ–¹æ³•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var A = &#123;</span><br><span class="line">    g: <span class="keyword">function</span>(id)&#123;</span><br><span class="line">        <span class="built_in">return</span> document.getElementById(id);</span><br><span class="line">    &#125;,</span><br><span class="line">    css: <span class="keyword">function</span>(id, key, value)&#123;</span><br><span class="line">        document.getElementById(id).style[key] = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    attr: <span class="keyword">function</span>(id, key, value)&#123;</span><br><span class="line">        document.getElementById(id)[key] = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    html: <span class="keyword">function</span>(id, html)&#123;</span><br><span class="line">        document.getElementById(id).innerHTML = html;</span><br><span class="line">    &#125;,</span><br><span class="line">    on: <span class="keyword">function</span>(id, <span class="built_in">type</span>, fn)&#123;</span><br><span class="line">        document.getElementById(id)[<span class="string">'on'</span> + <span class="built_in">type</span>] = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Test</span><br><span class="line">A.css(<span class="string">'box'</span>, <span class="string">'background'</span>, <span class="string">'red'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å½“ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿæä¾›ä¸€ç³»åˆ—å¤æ‚çš„æ¥å£æ–¹æ³•æ—¶ï¼Œä¸ºç³»ç»Ÿçš„ç®¡ç†æ–¹ä¾¿ä¼šé€ æˆæ¥å£æ–¹æ³•çš„ä½¿ç”¨æå…¶å¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å¤–è§‚æ¨¡å¼å°è£…éšè—å…¶å¤æ‚æ€§ï¼Œå¹¶ç®€åŒ–å…¶ä½¿ç”¨ã€‚</p>
<h2 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h2><p><strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼Œå°†ä¸€ä¸ªç±»ï¼ˆå¯¹è±¡ï¼‰çš„æ¥å£ï¼ˆæ–¹æ³•æˆ–è€…å±æ€§ï¼‰è½¬åŒ–æˆå¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä»¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚</p>
<ul>
<li><p>é€‚é…å¼‚ç±»æ¡†æ¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//å®šä¹‰æ¡†æ¶</span><br><span class="line">var A = A || &#123;&#125;;</span><br><span class="line">A.g = <span class="keyword">function</span>(id)&#123;</span><br><span class="line">    <span class="built_in">return</span> document.getElementById(id);</span><br><span class="line">&#125;</span><br><span class="line">A.on = <span class="keyword">function</span>(id, <span class="built_in">type</span>, fn)&#123;</span><br><span class="line">    var dom = typeof id === <span class="string">'string'</span>? this.g(id) : id;</span><br><span class="line">    <span class="keyword">if</span>(dom.addEventListener)&#123;</span><br><span class="line">        dom.addEventListener(<span class="built_in">type</span>, fn, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(dom.attachEvent)&#123;</span><br><span class="line">        dom.attachEvent(<span class="string">'on'</span> + <span class="built_in">type</span>, fn);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        dom[<span class="string">'on'</span> + <span class="built_in">type</span>] = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//é€‚é…JQuery</span><br><span class="line">A.g = <span class="keyword">function</span>(id)&#123;</span><br><span class="line">    <span class="built_in">return</span> $(id).get(0);</span><br><span class="line">&#125;</span><br><span class="line">A.on = <span class="keyword">function</span>(id, <span class="built_in">type</span>, fn)&#123;</span><br><span class="line">    var dom = typeof id === <span class="string">'string'</span>? $(<span class="string">'#'</span> + id) : $(id);</span><br><span class="line">    dom.on(<span class="built_in">type</span>, fn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‚æ•°é€‚é…å™¨ï¼Œç”¨é€‚é…å™¨æ¥é€‚é…ä¼ å…¥çš„å‚æ•°å¯¹è±¡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// é€‚é…å‚æ•°</span><br><span class="line"><span class="keyword">function</span> doSomeThing(obj)&#123;</span><br><span class="line">    var _adapter = &#123;</span><br><span class="line">        name: <span class="string">'qiuqiu'</span>,</span><br><span class="line">        title: <span class="string">'js'</span>,</span><br><span class="line">        age: <span class="string">'20'</span>,</span><br><span class="line">        color: <span class="string">'pink'</span>,</span><br><span class="line">        size: 100,</span><br><span class="line">        prize: 50</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(var i <span class="keyword">in</span> _adapter)&#123;</span><br><span class="line">        _adapter[i] = obj[i] || _adapter[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®é€‚é…ï¼Œå°†æ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡å½¢å¼</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// æ•°æ®é€‚é…</span><br><span class="line"><span class="keyword">function</span> arrToObjAdapter(arr)&#123;</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        name: arr[0],</span><br><span class="line">        <span class="built_in">type</span>: arr[1],</span><br><span class="line">        title: arr[2],</span><br><span class="line">        data: arr[3]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨JavaSciptä¸­ï¼Œé€‚é…å™¨æ¨¡å¼<strong>ä¸ä»…ä»…å¯ä»¥é€‚é…ä¸¤ä¸ªç±»æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥ç”¨äºé€‚é…ä¸¤ä¸ªä»£ç åº“ï¼Œé€‚é…å‰åç«¯æ•°æ®ç­‰</strong>ã€‚</p>
<h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h2><p><strong>ä»£ç†æ¨¡å¼</strong>ï¼Œç”±äºä¸€ä¸ªå¯¹è±¡ä¸èƒ½ç›´æ¥å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ä»£ç†å¯¹è±¡åœ¨è¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚<br><img src="/img/structual/proxy.png" alt="proxy"><br>åœ¨JavaScriptä¸­ï¼Œä»£ç†æ¨¡å¼å¾€å¾€ç”¨äºè§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜ã€‚</p>
<h2 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h2><p><strong>è£…é¥°è€…æ¨¡å¼</strong>ï¼Œåœ¨ä¸æ”¹å˜åŸå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¯¹å…¶è¿›è¡ŒåŒ…è£…æ‹“å±•ï¼ˆæ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•ï¼‰ä½¿åŸæœ‰å¯¹è±¡å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„æ›´å¤æ‚éœ€æ±‚ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// è£…é¥°è€…æ¨¡å¼</span><br><span class="line">// è£…é¥°è€…</span><br><span class="line">var decorator = <span class="keyword">function</span>(input, fn)&#123;</span><br><span class="line">    var input = document.getElementById(input);</span><br><span class="line">    <span class="keyword">if</span>(typeof input.onclick === <span class="string">'function'</span>)&#123;</span><br><span class="line">        var oldClickFn = input.onclick;</span><br><span class="line">        input.onclick = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            oldClickFn();</span><br><span class="line">            fn();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        input.onclick = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">decorator(<span class="string">'tel-input'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    document.getElementById(<span class="string">'tel_demo_text'</span>).style.display = <span class="string">'none'</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>é€‚é…å™¨æ–¹æ³•æ˜¯å¯¹åŸæœ‰å¯¹è±¡é€‚é…ï¼Œæ·»åŠ çš„æ–¹æ³•ä¸åŸæœ‰æ–¹æ³•åŠŸèƒ½å¤§è‡´ç›¸ä¼¼ï¼Œè£…é¥°è€…æ¨¡å¼æä¾›çš„æ–¹æ³•ä¸åŸæ¥çš„æ–¹æ³•åŠŸèƒ½æ˜¯<strong>æœ‰ä¸€å®šåŒºåˆ«</strong>çš„ï¼Œåœ¨è£…é¥°è€…æ¨¡å¼ä¸­ï¼Œ<strong>ä¸éœ€è¦äº†è§£å¯¹è±¡åŸæœ‰çš„åŠŸèƒ½</strong>å°±å¯ä»¥å¯¹åŠŸèƒ½è¿›è¡Œæ‹“å±•ã€‚<br>è£…é¥°è€…æ¨¡å¼å¯¹å¯¹è±¡çš„æ‹“å±•æ˜¯ä¸€ç§<strong>è‰¯æ€§æ‹“å±•</strong>ï¼Œä¸ç”¨äº†è§£å…¶å…·ä½“å®ç°ï¼Œåªæ˜¯åœ¨å¤–éƒ¨è¿›è¡Œäº†ä¸€æ¬¡å°è£…ï¼Œè¿™åˆæ˜¯å¯¹åŸæœ‰åŠŸèƒ½<strong>å®Œæ•´æ€§</strong>çš„ä¸€ç§ä¿æŠ¤ã€‚</p>
<h2 id="æ¡¥æ¥æ¨¡å¼"><a href="#æ¡¥æ¥æ¨¡å¼" class="headerlink" title="æ¡¥æ¥æ¨¡å¼"></a>æ¡¥æ¥æ¨¡å¼</h2><p><strong>æ¡¥æ¥æ¨¡å¼</strong>ï¼Œåœ¨ç³»ç»Ÿæ²¿ç€å¤šä¸ªç»´åº¦å˜åŒ–çš„åŒæ—¶ï¼Œåˆä¸å¢åŠ å…¶å¤æ‚åº¦å¹¶å·²è¾¾åˆ°è§£è€¦ã€‚<br><img src="/img/structual/bridge-1.png" alt="bridge-1"><br><img src="/img/structual/æ¡¥æ¥æ¨¡å¼1.png" alt="æ¡¥æ¥æ¨¡å¼"><br>å¤šç»´åº¦ï¼š<br><img src="/img/structual/æ¡¥æ¥æ¨¡å¼.png" alt="æ¡¥æ¥æ¨¡å¼"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// æ¡¥æ¥æ¨¡å¼</span><br><span class="line">// è¿åŠ¨å•å…ƒ</span><br><span class="line"><span class="keyword">function</span> Speed(x, y)&#123;</span><br><span class="line">    this.x = x;</span><br><span class="line">    this.y = y;</span><br><span class="line">&#125;</span><br><span class="line">Speed.prototype.run = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">"è¿åŠ¨èµ·æ¥"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç€è‰²å•å…ƒ</span><br><span class="line"><span class="keyword">function</span> Color(cl)&#123;</span><br><span class="line">    this.color = cl;</span><br><span class="line">&#125;</span><br><span class="line">Color.prototype.draw = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">"ç»˜åˆ¶è‰²å½©"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¯´è¯å•å…ƒ</span><br><span class="line"><span class="keyword">function</span> Speak(wd)&#123;</span><br><span class="line">    this.word = wd;</span><br><span class="line">&#125;</span><br><span class="line">Speak.prototype.say = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">"ä¹¦å†™å­—ä½“"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Ball(x, y, c) &#123;</span><br><span class="line">    this.speed = new Speed(x, y);</span><br><span class="line">    this.color = new Color(c);</span><br><span class="line">&#125;</span><br><span class="line">Ball.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.speed.run();</span><br><span class="line">    this.color.draw();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> People(x, y, f)&#123;</span><br><span class="line">    this.speed = new Speed(x, y);</span><br><span class="line">    this.speak = new Speak(f);</span><br><span class="line">&#125;</span><br><span class="line">People.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.speed.run();</span><br><span class="line">    this.speak.say();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var ball = new Ball(2, 5, <span class="string">'red'</span>);</span><br><span class="line">ball.init();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/structual/bridge.png" alt="bridge"><br>æ¡¥æ¥æ¨¡å¼<strong>å…ˆæŠ½è±¡æå–å…±ç”¨éƒ¨åˆ†</strong>ï¼Œç„¶åå°†å®ç°ä¸æŠ½è±¡é€šè¿‡æ¡¥æ¥æ–¹æ³•é“¾æ¥åœ¨ä¸€èµ·ï¼Œæ¥å®ç°è§£è€¦çš„ä½œç”¨ã€‚å¦‚æˆ‘ä»¬åˆ›å»ºå®ä½“<strong>Ball</strong>æ—¶ï¼Œå°†éœ€è¦çš„æ¯ä¸ªæŠ½è±¡åŠ¨ä½œå•å…ƒ<strong>Speed</strong>å’Œ<strong>Color</strong>é€šè¿‡æ¡¥æ¥ï¼Œé“¾æ¥åœ¨ä¸€èµ·è¿ä½œï¼Œè¿™æ ·å®ƒä»¬ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“å¹¶ä¸”è¯¥æ–¹å¼é™ä½äº†å®ƒä»¬ä¹‹é—´çš„è€¦åˆã€‚<br>æ¡¥æ¥æ¨¡å¼æœ€ä¸»è¦çš„ç‰¹ç‚¹æ˜¯å°†<strong>å®ç°å±‚</strong>ï¼ˆå¦‚å…ƒç´ ç»‘å®šçš„äº‹ä»¶ï¼‰ä¸<strong>æŠ½è±¡å±‚</strong>ï¼ˆå¦‚ä¿®é¥°é¡µé¢UIé€»è¾‘ï¼‰è§£è€¦åˆ†ç¦»ï¼Œä½¿ä¸¤éƒ¨åˆ†å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚</p>
<h2 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title="ç»„åˆæ¨¡å¼"></a>ç»„åˆæ¨¡å¼</h2><p><strong>ç»„åˆæ¨¡å¼</strong>ï¼Œåˆç§°ä¸ºéƒ¨åˆ†-æ•´ä½“æ¨¡å¼ï¼Œå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚<br><img src="/img/structual/ç»„åˆæ¨¡å¼.png" alt="ç»„åˆæ¨¡å¼"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">// ç»„åˆæ¨¡å¼</span><br><span class="line">// å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼šå¯„ç”Ÿå¼ç»§æ‰¿ï¼‹æ„é€ å‡½æ•°ç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> inheritObject(o)&#123;</span><br><span class="line">    // å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">    // è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    // è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¤„ç†çš„ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯ç±»çš„åŸå‹</span><br><span class="line"><span class="keyword">function</span> inheritPrototype(subClass, superClass)&#123;</span><br><span class="line">    // å¤åˆ¶ä¸€ä»½çˆ¶ç±»çš„åŸå‹å‰¯æœ¬ä¿å­˜åœ¨å˜é‡ä¸­</span><br><span class="line">    var p = new inheritObject(superClass.prototype);</span><br><span class="line">    // ä¿®æ­£å› ä¸ºé‡å†™å­ç±»ç±»å‹å¯¼è‡´å­ç±»çš„constructorå±æ€§è¢«ä¿®æ”¹</span><br><span class="line">    p.constructor = subClass;</span><br><span class="line">    // è®¾ç½®å­ç±»çš„åŸå‹</span><br><span class="line">    subClass.prototype = p;</span><br><span class="line">&#125;</span><br><span class="line">// è™šæ‹Ÿçˆ¶ç±»</span><br><span class="line">var News = <span class="function"><span class="title">function</span></span> ()&#123;</span><br><span class="line">    this.children = [];</span><br><span class="line">    this.element = null;</span><br><span class="line">&#125;</span><br><span class="line">News.prototype = &#123;</span><br><span class="line">    init: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        throw new Error(<span class="string">"è¯·é‡å†™ä½ çš„æ–¹æ³•"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    add: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        throw new Error(<span class="string">"è¯·é‡å†™ä½ çš„æ–¹æ³•"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    getElement: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        throw new Error(<span class="string">"è¯·é‡å†™ä½ çš„æ–¹æ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// å®¹å™¨ç±»</span><br><span class="line">var Container = <span class="keyword">function</span>(iid, parent)&#123;</span><br><span class="line">    News.call(this);</span><br><span class="line">    this.id = id;</span><br><span class="line">    this.parent = parent;</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(Container, News);</span><br><span class="line">Container.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.element = document.createElement(<span class="string">'ul'</span>);</span><br><span class="line">    this.element.id = this.id;</span><br><span class="line">    this.element.className = <span class="string">'new-container'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Container.prototype.add = <span class="keyword">function</span>(child)&#123;</span><br><span class="line">    this.children.push(child);</span><br><span class="line">    // æ’å…¥å½“å‰ç»„ä»¶å…ƒç´ æ ‘ä¸­</span><br><span class="line">    this.element.appendChild(child.getElement());</span><br><span class="line">    <span class="built_in">return</span> this;</span><br><span class="line">&#125;</span><br><span class="line">Container.prototype.getElement = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.element;</span><br><span class="line">&#125;</span><br><span class="line">Container.prototype.show = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.parent.appendChild(this.element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var Item = <span class="keyword">function</span>(classname)&#123;</span><br><span class="line">    News.call(this);</span><br><span class="line">    this.classname = classname || <span class="string">''</span>;</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(Item, News);</span><br><span class="line">Item.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.element = document.createElement(<span class="string">'li'</span>);</span><br><span class="line">    this.element.className = this.classname;</span><br><span class="line">&#125;</span><br><span class="line">Item.prototype.add = <span class="keyword">function</span>(child)&#123;</span><br><span class="line">    this.children.push(child);</span><br><span class="line">    // æ’å…¥å½“å‰ç»„ä»¶å…ƒç´ æ ‘ä¸­</span><br><span class="line">    this.element.appendChild(child.getElement());</span><br><span class="line">    <span class="built_in">return</span> this;</span><br><span class="line">&#125;</span><br><span class="line">Item.prototype.getElement = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¶å­èŠ‚ç‚¹ç±»</span><br><span class="line">var ImageNews = <span class="keyword">function</span> (url, href, classname) &#123;</span><br><span class="line">    News.call(this);</span><br><span class="line">    this.url = url || <span class="string">''</span>;</span><br><span class="line">    this.href = href || <span class="string">'#'</span>;</span><br><span class="line">    this.classname = classname || <span class="string">''</span>;</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(ImageNews, News);</span><br><span class="line">ImageNews.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.element = document.createElement(<span class="string">'a'</span>);</span><br><span class="line">    var img = new Image();</span><br><span class="line">    img.src = this.url;</span><br><span class="line">    this.element.appendChild(img);</span><br><span class="line">    this.element.className = <span class="string">'image-news'</span> + this.classname;</span><br><span class="line">    this.element.href = this.href;</span><br><span class="line">&#125;</span><br><span class="line">ImageNews.prototype.add = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">ImageNews.prototype.getElement = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var IconNews = <span class="keyword">function</span> (text, href, <span class="built_in">type</span>) &#123;</span><br><span class="line">    News.call(this);</span><br><span class="line">    this.text = text || <span class="string">''</span>;</span><br><span class="line">    this.href = href || <span class="string">'#'</span>;</span><br><span class="line">    this.type = <span class="built_in">type</span> || <span class="string">'video'</span>;</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(IconNews, News);</span><br><span class="line">IconNews.prototype.init = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.element = document.createElement(<span class="string">'a'</span>);</span><br><span class="line">    this.element.innerHTML = this.text;</span><br><span class="line">    this.element.className = <span class="string">'icon'</span> + this.type;</span><br><span class="line">    this.element.href = this.href;</span><br><span class="line">&#125;</span><br><span class="line">IconNews.prototype.add = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">IconNews.prototype.getElement = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var news1 = new Container(<span class="string">'news'</span>, document.body);</span><br><span class="line">news1.add(</span><br><span class="line">    new Item(<span class="string">'normal'</span>).add(</span><br><span class="line">        new IconNews(<span class="string">'lalala'</span>, <span class="string">'#'</span>, <span class="string">'video'</span>)</span><br><span class="line">    )</span><br><span class="line">).add(</span><br><span class="line">    new Item(<span class="string">'normal'</span>).add(</span><br><span class="line">        new IconNews(<span class="string">'aiaia'</span>, <span class="string">'#'</span>, <span class="string">'live'</span>)</span><br><span class="line">    )</span><br><span class="line">).add(</span><br><span class="line">    new Item(<span class="string">'normal'</span>).add(</span><br><span class="line">        new ImageNews(<span class="string">'img/test1.png'</span>, <span class="string">'#'</span>, <span class="string">'small'</span>)</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>ç»„åˆæ¨¡å¼çš„çº¦æŸè¦æ±‚æ˜¯<strong>æ¥å£çš„ç»Ÿä¸€</strong>ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®©æ‰€æœ‰çš„æ–°é—»éƒ½ç»§æ‰¿äº†ä¸€ä¸ªæ–°é—»è™šæ‹Ÿçˆ¶ç±»<strong>News</strong>ï¼Œå…¶ä¸­åœ¨è™šæ‹Ÿç±»çš„æ„é€ å‡½æ•°ä¸­å®šä¹‰äº†ä¸¤ä¸ªç‰¹æƒå˜é‡ï¼Œæ˜¯å› ä¸ºåé¢çš„æ‰€æœ‰ç»§æ‰¿å­ç±»éƒ½è¦å£°æ˜è¿™ä¸¤ä¸ªå˜é‡ï¼Œä¸ºäº†ç®€åŒ–å­ç±»æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¿™äº›å…±æœ‰çš„å˜é‡<strong>æå‰å£°æ˜åœ¨çˆ¶ç±»ä¸­</strong>ï¼Œç›¸å½“äºJavaè¯­è¨€ä¸­<strong>protected</strong>å…³é”®å­—çš„ä½œç”¨ã€‚<br>ç»„åˆæ¨¡å¼èƒ½å¤Ÿç»™æˆ‘ä»¬æä¾›ä¸€ä¸ª<strong>æ¸…æ™°çš„ç»„æˆç»“æ„</strong>ï¼Œç»„åˆå¯¹è±¡ç±»<strong>é€šè¿‡ç»§æ‰¿åŒä¸€ä¸ªçˆ¶ç±»ä½¿å…¶å…·æœ‰ç»Ÿä¸€çš„æ–¹æ³•</strong>ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿äº†æˆ‘ä»¬ç»Ÿä¸€ç®¡ç†ä¸ä½¿ç”¨ã€‚</p>
<h2 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h2><p><strong>äº«å…ƒæ¨¡å¼</strong>ï¼Œè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡çš„ç»†ç²’åº¦çš„å¯¹è±¡ï¼Œé¿å…å¯¹è±¡é—´æ‹¥æœ‰ç›¸åŒå†…å®¹é€ æˆå¤šä½™çš„å¼€é”€ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">// äº«å…ƒæ¨¡å¼</span><br><span class="line">// é€šç”¨äº«å…ƒç±»</span><br><span class="line">var FlyWeight = &#123;</span><br><span class="line">    moveX: <span class="keyword">function</span>(x)&#123;</span><br><span class="line">        this.x = x;</span><br><span class="line">    &#125;,</span><br><span class="line">    moveY: <span class="keyword">function</span>(y)&#123;</span><br><span class="line">        this.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var Player = <span class="keyword">function</span>(x, y, c)&#123;</span><br><span class="line">    this.x = x;</span><br><span class="line">    this.y = y;</span><br><span class="line">    this.c = c;</span><br><span class="line">&#125;</span><br><span class="line">Player.prototype = FlyWeight;</span><br><span class="line">Player.prototype.changeC = <span class="keyword">function</span>(c)&#123;</span><br><span class="line">    this.c = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var Spirit = <span class="keyword">function</span>(x, y, r)&#123;</span><br><span class="line">    this.x = x;</span><br><span class="line">    this.y = y;</span><br><span class="line">    this.r = r;</span><br><span class="line">&#125;</span><br><span class="line">Spirit.prototype = FlyWeight;</span><br><span class="line">Spirit.prototype.changeR = <span class="keyword">function</span>(r)&#123;</span><br><span class="line">    this.r = r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var player = new Player(5, 6, <span class="string">'red'</span>);</span><br><span class="line">console.log(player);</span><br><span class="line">player.moveX(6);</span><br><span class="line">player.moveY(8);</span><br><span class="line">player.changeC(<span class="string">'green'</span>);</span><br><span class="line">console.log(player)</span><br><span class="line"></span><br><span class="line">var spirit = new Spirit(2, 3, 4);</span><br><span class="line">console.log(spirit);</span><br><span class="line">spirit.moveX(3);</span><br><span class="line">spirit.moveY(4);</span><br><span class="line">spirit.changeR(5);</span><br><span class="line">console.log(spirit)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/structual/flyWeight.png" alt="flyWeight"><br>æˆ‘ä»¬å°†äººç‰©ç±»<strong>Player</strong>ä»¥åŠç²¾çµç±»<strong>Spirit</strong>ä¸­çš„å†…éƒ¨æ–¹æ³•ï¼ˆç§»åŠ¨æ–¹æ³•ï¼‰æå–å‡ºæ¥ï¼Œå®ç°å…¬æœ‰ï¼Œå‡å°‘å…¶å®ƒç±»é‡å†™æ—¶é€ æˆçš„ä¸å¿…è¦çš„å¼€é”€ã€‚<br>äº«å…ƒæ¨¡å¼ä¸»è¦æ˜¯<strong>å¯¹å…¶æ•°æ®ã€æ–¹æ³•å…±äº«åˆ†ç¦»</strong>ï¼Œå®ƒå°†æ•°æ®å’Œæ–¹æ³•åˆ†æˆ<strong>å†…éƒ¨æ•°æ®</strong>ã€<strong>å†…éƒ¨æ–¹æ³•</strong>å’Œ<strong>å¤–éƒ¨æ•°æ®</strong>ã€<strong>å¤–éƒ¨æ–¹æ³•</strong>ã€‚å†…éƒ¨æ–¹æ³•ä¸å†…éƒ¨æ•°æ®æŒ‡çš„æ˜¯ç›¸ä¼¼æˆ–è€…å…±æœ‰çš„æ•°æ®å’Œæ–¹æ³•ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JavaScriptè®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹è®¾è®¡æ¨¡å¼åˆ°æ­¤ä¹Ÿå°±å‘Šä¸€æ®µè½äº†ï¼Œå› ä¸ºå…¶ä¸­æœ‰éƒ¨åˆ†è®¾è®¡æ¨¡å¼ä¹‹å‰å› ä¸ºæ—¶é—´ä¸è¶³æœªæ›¾æ·±å…¥å­¦ä¹ ï¼Œæ‰€ä»¥å¯èƒ½æœ‰äº›ç†è§£çš„ä¸å¤Ÿé€å½»ï¼Œå¦‚æœæœ‰å­˜åœ¨æè¿°ä¸å½“çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï½å…±åŒè¿›æ­¥ï½</p>
<p>ä¸‹ä¸€ç¯‡æˆ‘å°†è®°å½•JavaScriptè®¾è®¡æ¨¡å¼ä¸­è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼çš„å­¦ä¹ è¿‡ç¨‹ï½åŠ æ²¹åŠ æ²¹ï½</p>
]]></content>
      
        <categories>
            
            <category> JavaScript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> JavaScriptä¹‹è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹è®¾è®¡æ¨¡å¼]]></title>
      <url>/2018/01/31/js-creational-pattern/</url>
      <content type="html"><![CDATA[<blockquote>
<p>è¿™æ®µæ—¶é—´æ²‰è¿·äºå­¦ä¹ JavaScriptçš„è®¾è®¡æ¨¡å¼ï¼Œäºæ˜¯æƒ³ç€ä¸ä¹‹å‰æ‰€å­¦çš„è®¾è®¡æ¨¡å¼è”ç³»èµ·æ¥ï¼Œå¯¹æ¯”å­¦ä¹ ã€‚å› ä¸ºä¹‹å‰æœ‰äº†Javaè®¾è®¡æ¨¡å¼çš„éƒ¨åˆ†åŸºç¡€ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ JavaScriptè®¾è®¡æ¨¡å¼æ—¶ä¼šè¿›è¡Œä¸€äº›ç®€å•çš„æ¯”è¾ƒè®°å¿†ï¼Œä¸»è¦çš„å†…å®¹å®‰æ’æ˜¯æ¨¡å¼çš„å®šä¹‰ã€æ¨¡å¼å¯¹åº”çš„ç±»å›¾ä»¥åŠæ¨¡å¼çš„ç®€å•å®ç°ã€‚æ­¤ç¯‡åšæ–‡ä¸»è¦è®°å½•åˆ›å»ºå‹è®¾è®¡æ¨¡å¼çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå¦‚æœåœ¨æŸäº›åœ°æ–¹è¡¨è¿°ä¸æ­£ç¡®çš„ï¼Œè¿˜å¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºï¼Œå…±åŒè¿›æ­¥ï½</p>
</blockquote>
<h1 id="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼"><a href="#åˆ›å»ºå‹è®¾è®¡æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼"></a>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼</h1><p>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼æ˜¯ä¸€ç±»å¤„ç†å¯¹è±¡åˆ›å»ºçš„è®¾è®¡æ¨¡å¼ï¼Œä¸»è¦åº”ç”¨äºåˆ›å»ºå¯¹è±¡ã€‚åŒ…æ‹¬<strong>ç®€å•å·¥å‚æ¨¡å¼</strong>ã€<strong>å·¥å‚æ–¹æ³•æ¨¡å¼</strong>ã€<strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong>ã€<strong>å»ºé€ è€…æ¨¡å¼</strong>ã€<strong>åŸå‹æ¨¡å¼</strong>ä»¥åŠ<strong>å•ä¾‹æ¨¡å¼</strong>ã€‚</p>
<h2 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h2><p><strong>ç®€å•å·¥å‚æ¨¡å¼</strong>ï¼Œåˆå«é™æ€å·¥å‚æ–¹æ³•ï¼Œç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºæŸä¸€ç§äº§å“å¯¹è±¡ç±»çš„å®ä¾‹ã€‚</p>
<a id="more"></a>
<p>Javaè¯­è¨€ç®€å•å·¥å‚æ¨¡å¼çš„ç±»å›¾è¡¨è¾¾ä¸ºï¼š<br><img src="/img/simple-factory-class.png" alt="simple-factory-class"><br>æˆ‘ä»¬å¯ä»¥ä»¿ç…§Javaè¯­è¨€çš„ç±»å›¾ç»˜åˆ¶ç±»å›¾ä¸ºï¼š<br><img src="/img/ç®€å•å·¥å‚æ¨¡å¼.png" alt="ç®€å•å·¥å‚æ¨¡å¼"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">// ç®€å•å·¥å‚æ¨¡å¼</span><br><span class="line">var Ball = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">Ball.prototype = &#123;</span><br><span class="line">    getMember: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        throw new Error(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    getBallSize: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var Basketball = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.intro = <span class="string">"ç¯®çƒç››è¡Œäºç¾å›½"</span>;</span><br><span class="line">&#125;</span><br><span class="line">Basketball.prototype = new Ball();</span><br><span class="line">Basketball.prototype = &#123;</span><br><span class="line">    getMember: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"æ¯ä¸ªé˜Ÿä¼éœ€è¦5åé˜Ÿå‘˜"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    getBallSize: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"ç¯®çƒå¾ˆå¤§"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var Football = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.intro = <span class="string">"è¶³çƒåœ¨ä¸–ç•ŒèŒƒå›´å†…æµè¡Œ"</span>;</span><br><span class="line">&#125;</span><br><span class="line">Football.prototype = new Ball();</span><br><span class="line">Football.prototype = &#123;</span><br><span class="line">    getMember: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"æ¯ä¸ªé˜Ÿä¼éœ€è¦11åé˜Ÿå‘˜"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    getBallSize: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"è¶³çƒå¾ˆå¤§"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var Tennis = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.intro = <span class="string">"æ¯å¹´æœ‰å¾ˆå¤šç½‘çƒç³»åˆ—èµ›"</span>;</span><br><span class="line">&#125;</span><br><span class="line">Tennis.prototype = new Ball();</span><br><span class="line">Tennis.prototype = &#123;</span><br><span class="line">    getMember: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"æ¯ä¸ªé˜Ÿä¼éœ€è¦1åé˜Ÿå‘˜"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    getBallSize: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"ç½‘çƒå¾ˆå°"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¿åŠ¨å·¥å‚</span><br><span class="line">var SportsFactory = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">SportsFactory.prototype = &#123;</span><br><span class="line">    getSport: <span class="keyword">function</span>(name)&#123;</span><br><span class="line">        switch(name)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'NBA'</span>:</span><br><span class="line">                <span class="built_in">return</span> new Basketball();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'wordCup'</span>:</span><br><span class="line">                <span class="built_in">return</span> new Football();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'FrenchOpen'</span>:</span><br><span class="line">                <span class="built_in">return</span> new Tennis();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var factory = new SportsFactory();</span><br><span class="line">var footnall = factory.getSport(<span class="string">"wordCup"</span>);</span><br><span class="line">console.log(footnall);</span><br><span class="line">console.log(footnall.intro);</span><br><span class="line">footnall.getMember();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/simple-factory.png" alt="simple-factory"></p>
<p>ç®€å•å·¥å‚æ¨¡å¼æœ€ä¸»è¦çš„æ˜¯æ‰€åˆ›å»ºçš„å·¥å‚å¯¹è±¡<strong>SportsFactory</strong>ï¼Œå·¥å‚å‡½æ•°getSport()æ ¹æ®<strong>ä¼ å…¥å‚æ•°çš„ä¸åŒè¿”å›ä¸åŒç±»çš„å®ä¾‹</strong>ã€‚åœ¨æ­¤ä¾‹ä¸­Footballã€Basketballã€Tenniséƒ½ç»§æ‰¿äº†<strong>æŠ½è±¡ç±»Ball</strong>ï¼ŒBallä¸­å®šä¹‰äº†ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•getMember()å’ŒgetBallSize()ï¼Œåœ¨å…·ä½“ç±»ä¸­é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè‹¥å­ç±»ä¸ºé‡å†™çˆ¶ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š<br><img src="/img/simple-error.png" alt="simple-error"></p>
<p>å½“ç„¶å› ä¸ºJavaScriptçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä¸éœ€è¦Ballç±»ï¼Œåœ¨Javaè¯­è¨€ä¸­å¼•å…¥æŠ½è±¡ç±»ï¼Œä¸»è¦æ˜¯åœ¨å®¢æˆ·ç«¯ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨çˆ¶ç±»å¯¹è±¡æ¥æ›¿ä»£å…·ä½“çš„å­ç±»å¯¹è±¡ï¼ˆé‡Œæ°ä»£æ¢åŸåˆ™ï¼‰ï¼Œå¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ball ball; </span><br><span class="line">ball = factory.getSport(<span class="string">"wordCup"</span>);</span><br></pre></td></tr></table></figure></p>
<p>åœ¨JavaScriptè¯­è¨€ä¸­ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä»£æ›¿å¤šä¸ªç±»<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// å¯„ç”Ÿæ–¹å¼</span><br><span class="line">// ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ä»£æ›¿å¤šä¸ªç±»ï¼Œæå–ç›¸ä¼¼</span><br><span class="line"><span class="keyword">function</span> createSports(<span class="built_in">type</span>, intro, member, size)&#123;</span><br><span class="line">    var o = new Object();</span><br><span class="line">    o.intro = intro;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'football'</span>)&#123;</span><br><span class="line">        console.log(<span class="string">"foolball"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'basketball'</span>)&#123;</span><br><span class="line">        console.log(<span class="string">"basketball"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'tennis'</span>)&#123;</span><br><span class="line">        console.log(<span class="string">"tennis"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    o.getMember = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(member);</span><br><span class="line">    &#125;</span><br><span class="line">    o.getBallSize = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(size);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line">// Test</span><br><span class="line">var basketball = createSports(<span class="string">"basketball"</span>, <span class="string">"This is a Basketball"</span>, <span class="string">"5"</span>, <span class="string">"big"</span>);</span><br><span class="line">console.log(basketball);</span><br><span class="line">console.log(basketball.intro);</span><br><span class="line">basketball.getMember();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/simple-factory2.png" alt="simple-factory2"></p>
<p>è¿™ç§æ–¹å¼å°†ç›¸ä¼¼çš„éƒ¨åˆ†æå‡ºï¼Œä¸ç›¸ä¼¼çš„éƒ¨åˆ†è¿›è¡Œé’ˆå¯¹æ€§çš„å¤„ç†ã€‚</p>
<p>è¿™ä¸¤ç§æ–¹å¼å­˜åœ¨ä¸€å®šçš„å·®å¼‚ï¼Œç¬¬ä¸€ç§æ–¹å¼æ˜¯<strong>é€šè¿‡ç±»å®ä¾‹åŒ–å¯¹è±¡åˆ›å»º</strong>çš„ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯<strong>é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ç„¶ååŒ…è£…å¢å¼ºå…¶å±æ€§å’ŒåŠŸèƒ½æ¥å®ç°</strong>çš„ã€‚é€‰æ‹©å“ªç§å·¥å‚æ–¹å¼æ¥å®ç°ä½ çš„éœ€æ±‚è¿˜è¦çœ‹ä½ æ˜¯å¦‚ä½•åˆ†æä½ çš„éœ€æ±‚çš„ã€‚</p>
<h2 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h2><p><strong>å·¥å‚æ–¹æ³•æ¨¡å¼</strong>ï¼Œé€šè¿‡å¯¹äº§å“ç±»çš„æŠ½è±¡ä½¿å…¶åˆ›å»ºä¸šåŠ¡ä¸»è¦è´Ÿè´£ç”¨äºåˆ›å»ºå¤šç±»äº§å“çš„å®ä¾‹ã€‚<br>Javaè¯­è¨€å·¥å‚æ–¹æ³•æ¨¡å¼ç±»å›¾è¡¨ç¤ºä¸ºï¼š<br><img src="/img/å·¥å‚æ–¹æ³•æ¨¡å¼.png" alt="å·¥å‚æ–¹æ³•æ¨¡å¼"><br>å·¥å‚æ–¹æ³•æ¨¡å¼<strong>è®©å­ç±»å†³å®šå°†å“ªä¸€ç§äº§å“å®ä¾‹åŒ–ï¼Œè®©ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»</strong>ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">// å·¥å‚æ–¹æ³•æ¨¡å¼</span><br><span class="line">// ä½¿ç”¨å®‰å…¨æ¨¡å¼åˆ›å»ºå·¥å‚ç±»</span><br><span class="line">var Factory = <span class="keyword">function</span>(<span class="built_in">type</span>, content)&#123;</span><br><span class="line">    <span class="keyword">if</span>(this instanceof Factory)&#123;</span><br><span class="line">        var s = new this[<span class="built_in">type</span>](content);</span><br><span class="line">        <span class="built_in">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">return</span> new Factory(<span class="built_in">type</span>, content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// å·¥å‚åŸå‹ä¸­è®¾ç½®åˆ›å»ºæ‰€æœ‰ç±»å‹æ•°æ®å¯¹è±¡çš„åŸºç±»</span><br><span class="line">Factory.prototype = &#123;</span><br><span class="line">    Java: <span class="keyword">function</span>(content)&#123;</span><br><span class="line">        // å…·ä½“åˆ›å»ºäº§å“çš„è¿‡ç¨‹</span><br><span class="line">        console.log(content);</span><br><span class="line">    &#125;,</span><br><span class="line">    JavaScript: <span class="keyword">function</span>(content)&#123;</span><br><span class="line">        console.log(content);</span><br><span class="line">    &#125;,</span><br><span class="line">    UI: <span class="keyword">function</span>(content)&#123;</span><br><span class="line">        console.log(content);</span><br><span class="line">    &#125;,</span><br><span class="line">    PHP: <span class="keyword">function</span>(content)&#123;</span><br><span class="line">        console.log(content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var data = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'JavaScript'</span>,</span><br><span class="line">        content: <span class="string">'javascript'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'Java'</span>,</span><br><span class="line">        content: <span class="string">'java'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'UI'</span>,</span><br><span class="line">        content: <span class="string">'UI'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'PHP'</span>,</span><br><span class="line">        content: <span class="string">'PHP'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'JavaScript'</span>,</span><br><span class="line">        content: <span class="string">'other javascript'</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var d of data)&#123;</span><br><span class="line">    Factory(d.type, d.content)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/factory-method.png" alt="factory-method"></p>
<p>åœ¨å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼æ—¶ï¼Œé‡‡ç”¨äº†<strong>å®‰å…¨æ¨¡å¼</strong>åˆ›å»ºå·¥å‚ç±»ï¼Œå®‰å…¨æ¨¡å¼å¯ä»¥é¿å…ç”¨æˆ·ä½¿ç”¨ç±»æ—¶ç¼ºå°‘<strong>new</strong>å…³é”®è¯è€Œå¯¼è‡´çš„é”™è¯¯ã€‚<br>JavaScriptä¸­ä½¿ç”¨å®‰å…¨æ¨¡å¼åˆ›å»ºå·¥å‚ç±»ï¼Œåœ¨å·¥å‚åŸå‹ä¸­åˆ›å»ºæ‰€æœ‰ç±»å‹æ•°æ®å¯¹è±¡çš„åŸºç±»ï¼Œé€šè¿‡ä½¿ç”¨æ—¶å‘å·¥å‚ç±»ä¼ é€’<strong>æ•°æ®ç±»å‹</strong>å’Œ<strong>æ•°æ®å†…å®¹</strong>ä¸¤ä¸ªå‚æ•°ï¼Œæ¥åŠ¨æ€çš„å®ä¾‹åŒ–ç›¸åº”çš„äº§å“ç±»ã€‚<br>ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼å¯ä»¥é¿å…ä½¿ç”¨è€…å’Œå¯¹è±¡ç±»ä¹‹é—´çš„è€¦åˆã€‚</p>
<h2 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h2><p><strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong>ï¼Œé€šè¿‡å¯¹ç±»çš„å·¥å‚æŠ½è±¡ä½¿å…¶ä¸šåŠ¡ç”¨äºå¯¹<strong>äº§å“ç±»ç°‡</strong>çš„åˆ›å»ºï¼Œè€Œä¸è´Ÿè´£åˆ›å»ºæŸä¸€ç±»äº§å“çš„å®ä¾‹ã€‚<br>JavaScriptè¯­è¨€è™½ç„¶ä¿ç•™<strong>abstract</strong>å…³é”®å­—ï¼Œä½†ç›®å‰æ¥è¯´è¿˜ä¸èƒ½åƒJavaè¯­è¨€é‚£æ ·è½»æ¾åœ°åˆ›å»ºã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç±»çš„æ–¹æ³•ä¸­æ‰‹åŠ¨åœ°æŠ›å‡ºé”™è¯¯æ¥æ¨¡æ‹ŸæŠ½è±¡ç±»ã€‚<br><img src="/img/æŠ½è±¡å·¥å‚æ¨¡å¼.png" alt="æŠ½è±¡å·¥å‚æ¨¡å¼"><br>æŠ½è±¡å·¥å‚æ¨¡å¼æ¶‰åŠçš„å¯¹è±¡æ¯”è¾ƒå¤šï¼Œä½¿ç”¨UMLç±»å›¾å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br><img src="/img/æŠ½è±¡å·¥å‚æ¨¡å¼2.png" alt="æŠ½è±¡å·¥å‚æ¨¡å¼2"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">// æŠ½è±¡å·¥å‚æ¨¡å¼</span><br><span class="line">var Vehicle = <span class="keyword">function</span>(subType, superType)&#123;</span><br><span class="line">    // åˆ¤æ–­æŠ½è±¡äº§å“ç±»ä¸­æ˜¯å¦æœ‰è¯¥æŠ½è±¡ç±»</span><br><span class="line">    <span class="keyword">if</span>(typeof Vehicle[superType] === <span class="string">'function'</span>)&#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">        // ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">        F.prototype = new Vehicle[superType]();</span><br><span class="line">        // å°†å­ç±»constructorå±æ€§æŒ‡å‘å­ç±»</span><br><span class="line">        subType.constructor = subType;</span><br><span class="line">        // å­ç±»åŸå‹ç»§æ‰¿çˆ¶ç±»</span><br><span class="line">        subType.prototype = new F();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        throw new Error(<span class="string">"æœªåˆ›å»ºè¯¥æŠ½è±¡ç±»"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å°æ±½è½¦æŠ½è±¡ç±»</span><br><span class="line">Vehicle.Car =  <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.type = <span class="string">'car'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle.Car.prototype = &#123;</span><br><span class="line">    getPrice: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> new Error(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…¬å…±æ±½è½¦æŠ½è±¡ç±»</span><br><span class="line">Vehicle.Bus =  <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.type = <span class="string">'bus'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle.Bus.prototype = &#123;</span><br><span class="line">    getPrice: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> new Error(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ±½è½¦å…·ä½“ç±»â€”â€”å®é©¬æ±½è½¦</span><br><span class="line">var BMWCar = <span class="keyword">function</span>(price)&#123;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle(BMWCar, <span class="string">'Car'</span>);</span><br><span class="line">BMWCar.prototype.getPrice = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ±½è½¦å…·ä½“ç±»â€”â€”å…°åšåŸºå°¼æ±½è½¦</span><br><span class="line">var LamborghiniCar = <span class="keyword">function</span>(price)&#123;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle(LamborghiniCar, <span class="string">'Car'</span>);</span><br><span class="line">LamborghiniCar.prototype.getPrice = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…¬å…±æ±½è½¦å…·ä½“ç±»â€”â€”å®é©¬å…¬å…±æ±½è½¦</span><br><span class="line">var BMWBus = <span class="keyword">function</span>(price)&#123;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle(BMWBus, <span class="string">'Bus'</span>);</span><br><span class="line">BMWBus.prototype.getPrice = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…¬å…±æ±½è½¦å…·ä½“ç±»â€”â€”å…°åšåŸºå°¼å…¬å…±æ±½è½¦</span><br><span class="line">var LamborghiniBus = <span class="keyword">function</span>(price)&#123;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Vehicle(LamborghiniBus, <span class="string">'Bus'</span>);</span><br><span class="line">LamborghiniBus.prototype.getPrice = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> this.price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŠ½è±¡å·¥å‚</span><br><span class="line">var VehicleFactory = <span class="keyword">function</span>(subType, superType)&#123;</span><br><span class="line">    // åˆ¤æ–­æŠ½è±¡å·¥å‚ä¸­æ˜¯å¦æœ‰è¯¥æŠ½è±¡ç±»</span><br><span class="line">    <span class="keyword">if</span>(typeof VehicleFactory[superType] === <span class="string">'function'</span>)&#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">        // ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">        F.prototype = new VehicleFactory[superType]();</span><br><span class="line">        // å°†å­ç±»constructorå±æ€§æŒ‡å‘å­ç±»</span><br><span class="line">        subType.constructor = subType;</span><br><span class="line">        // å­ç±»åŸå‹ç»§æ‰¿çˆ¶ç±»</span><br><span class="line">        subType.prototype = new F();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        throw new Error(<span class="string">"æœªåˆ›å»ºè¯¥æŠ½è±¡ç±»"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®é©¬å·¥å‚</span><br><span class="line">VehicleFactory.BMW = <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">    this.factory = <span class="string">'å®é©¬'</span></span><br><span class="line">&#125;</span><br><span class="line">VehicleFactory.BMW.prototype = &#123;</span><br><span class="line">    create: <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">        <span class="built_in">return</span> new Error(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…°åšåŸºå°¼å·¥å‚</span><br><span class="line">VehicleFactory.Lamborghini = <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">    this.factory = <span class="string">'å…°åšåŸºå°¼'</span></span><br><span class="line">&#125;</span><br><span class="line">VehicleFactory.Lamborghini.prototype = &#123;</span><br><span class="line">    create: <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">        <span class="built_in">return</span> new Error(<span class="string">"æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…·ä½“å·¥å‚â€”â€”å®é©¬å·¥å‚</span><br><span class="line">var BMWFactory = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">VehicleFactory(BMWFactory, <span class="string">'BMW'</span>);</span><br><span class="line">BMWFactory.prototype = &#123;</span><br><span class="line">    create: <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">        console.log(<span class="string">"å®é©¬å·¥å‚ç”Ÿäº§"</span> + <span class="built_in">type</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…·ä½“å·¥å‚â€”â€”å…°åšåŸºå°¼å·¥å‚</span><br><span class="line">var LamborghiniFactory = <span class="function"><span class="title">function</span></span>()&#123;&#125;</span><br><span class="line">VehicleFactory(LamborghiniFactory, <span class="string">'Lamborghini'</span>);</span><br><span class="line">LamborghiniFactory.prototype = &#123;</span><br><span class="line">    create: <span class="keyword">function</span>(<span class="built_in">type</span>)&#123;</span><br><span class="line">        console.log(<span class="string">"å…°åšåŸºå°¼å·¥å‚ç”Ÿäº§"</span> + <span class="built_in">type</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var testCar = new BMWCar(10000);</span><br><span class="line">var testBus = new BMWBus(100);</span><br><span class="line">var testBMW = new BMWFactory();</span><br><span class="line">testBMW.create(testCar.type);</span><br><span class="line">testBMW.create(testBus.type)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/abstract-factory.png" alt="abstract-factory"><br>é¦–å…ˆå®šä¹‰äº†æŠ½è±¡æ±½è½¦ç±»<strong>Car</strong>å’ŒæŠ½è±¡å…¬å…±æ±½è½¦ç±»<strong>Bus</strong>ï¼Œåˆ›å»ºäº†<strong>Car</strong>æŠ½è±¡æ±½è½¦çš„å…·ä½“äº§å“æ±½è½¦å­ç±»å®é©¬æ±½è½¦å­ç±»<strong>BMWCar</strong>å’Œå…°åšåŸºå°¼æ±½è½¦å­ç±»<strong>LamborghiniCar</strong>ï¼Œ<strong>Bus</strong>æŠ½è±¡å…¬å…±æ±½è½¦çš„å…·ä½“äº§å“å…¬å…±æ±½è½¦å­ç±»å®é©¬å…¬å…±æ±½è½¦å­ç±»<strong>BMWBus</strong>å’Œå…°åšåŸºå°¼å…¬å…±æ±½è½¦å­ç±»<strong>LamborghiniBus</strong>ï¼Œç„¶åå®šä¹‰äº†æŠ½è±¡å·¥å‚ç±»<strong>VehicleFactory</strong>ï¼Œåˆ›å»ºäº†å…·ä½“å·¥å‚å­ç±»å®é©¬å·¥å‚<strong>BMWFactory</strong>å’Œå…°åšåŸºå°¼å·¥å‚<strong>VehicleFactory</strong>ã€‚<br>ä¸€ä¸ªå·¥å‚è´Ÿè´£åˆ›å»ºä¸€ä¸ªäº§å“æ—ä¸­çš„äº§å“ï¼Œ<strong>BMWCar</strong>å’Œ<strong>LamborghiniCar</strong>åŒå±äº<strong>Car</strong>çš„äº§å“ç­‰çº§ç»“æ„ä¸­ï¼Œä¸€ä¸ªå·¥å‚ç­‰çº§ç»“æ„å¯ä»¥åˆ›å»ºå‡ºåˆ†å±äºä¸åŒäº§å“ç­‰çº§ç»“æ„çš„ä¸€ä¸ªäº§å“æ—ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œ</p>
<h2 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h2><p><strong>å»ºé€ è€…æ¨¡å¼</strong>ï¼Œå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„<strong>æ„å»ºå±‚</strong>ä¸å…¶<strong>è¡¨ç¤ºå±‚</strong>ç›¸äº’åˆ†ç¦»ï¼ŒåŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯é‡‡ç”¨ä¸åŒçš„è¡¨ç¤ºã€‚<br>å»ºé€ è€…æ¨¡å¼å…³æ³¨çš„æ˜¯<strong>å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚</strong>ï¼Œä½¿ç”¨UMLç±»å›¾è¡¨ç¤ºç±»ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹ï¼š<br><img src="/img/å»ºé€ è€…æ¨¡å¼.png" alt="å»ºé€ è€…æ¨¡å¼"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">// å»ºé€ è€…æ¨¡å¼â€”â€”å…³å¿ƒå¯¹è±¡åˆ›å»ºçš„æ•´ä¸ªè¿‡ç¨‹</span><br><span class="line">// åº”è˜è€…ç±»</span><br><span class="line">var Human = <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    this.skill = param &amp;&amp; param.skill || <span class="string">'ä¿å¯†'</span>;</span><br><span class="line">    this.hobby = param &amp;&amp; param.hobby || <span class="string">'ä¿å¯†'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Human.prototype = &#123;</span><br><span class="line">    getSkill: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> this.skill;</span><br><span class="line">    &#125;,</span><br><span class="line">    getHobby: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> this.hobby;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®ä¾‹åŒ–å§“åç±»</span><br><span class="line">var Named = <span class="keyword">function</span>(name)&#123;</span><br><span class="line">    var that = this;</span><br><span class="line">    (<span class="keyword">function</span>(name, that)&#123;</span><br><span class="line">        that.wholeName = name;</span><br><span class="line">        <span class="keyword">if</span>(name.indexOf(<span class="string">' '</span> &gt; -1))&#123;</span><br><span class="line">            that.firstName = name.slice(0, name.indexOf(<span class="string">' '</span>));</span><br><span class="line">            that.secondName = name.slice(name.indexOf(<span class="string">' '</span>) + 1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(name, that);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®ä¾‹åŒ–èŒä½ç±»</span><br><span class="line">var Work = <span class="keyword">function</span>(work)&#123;</span><br><span class="line">    var that = this;</span><br><span class="line">    (<span class="keyword">function</span>(work, that)&#123;</span><br><span class="line">        switch(work)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'code'</span>:</span><br><span class="line">                that.work = <span class="string">'å·¥ç¨‹å¸ˆ'</span>;</span><br><span class="line">                that.workDescript = <span class="string">'æ¯å¤©æ²‰é†‰äºç¼–ç¨‹'</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'UE'</span>:</span><br><span class="line">                that.work = <span class="string">'è®¾è®¡å¸ˆ'</span>;</span><br><span class="line">                that.workDescript = <span class="string">'è®¾è®¡æ›´ä¼¼ä¸€ç§è‰ºæœ¯'</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'teach'</span>:</span><br><span class="line">                that.work = <span class="string">'æ•™å¸ˆ'</span>;</span><br><span class="line">                that.workDescript = <span class="string">'åˆ†äº«ä¹Ÿæ˜¯ä¸€ç§å¿«ä¹'</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            default:</span><br><span class="line">                that.work = work;</span><br><span class="line">                that.workDescript = <span class="string">'not know'</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(work, that);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Work.prototype = &#123;</span><br><span class="line">    changeWork: <span class="keyword">function</span>(work)&#123;</span><br><span class="line">        this.work = work;</span><br><span class="line">    &#125;,</span><br><span class="line">    changeDescript: <span class="keyword">function</span>(setence)&#123;</span><br><span class="line">        this.workDescript = setence;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åº”è˜è€…å»ºé€ è€…</span><br><span class="line">var Person = <span class="keyword">function</span>(name, work)&#123;</span><br><span class="line">    var _person = new Human();</span><br><span class="line">    _person.name = new Named(name);</span><br><span class="line">    _person.work = new Work(work);</span><br><span class="line">    <span class="built_in">return</span> _person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var person = new Person(<span class="string">'xiao ming'</span>, <span class="string">'code'</span>);</span><br><span class="line">console.log(person.skill);</span><br><span class="line">console.log(person.name.firstName);</span><br><span class="line">console.log(person.name.secondName);</span><br><span class="line">console.log(person.work.work);</span><br><span class="line">console.log(person.work.workDescript);</span><br><span class="line">person.work.changeDescript(<span class="string">'æ›´æ”¹èŒä½æè¿°ï¼'</span>);</span><br><span class="line">console.log(person.work.workDescript);</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/builder.png" alt="builder"><br>åœ¨äº‹ä¾‹ä»£ç ä¸­åº”è˜è€…<strong>Human</strong>ç±»å……å½“UMLç±»å›¾ä¸­çš„<strong>Product</strong>ç±»ï¼Œåº”è˜è€…å»ºé€ è€…<strong>Person</strong>ç±»å……å½“UMLç±»å›¾ä¸­çš„<strong>ConcreteBUilder</strong>ç±»ï¼Œæµ‹è¯•ä»£ç éƒ¨åˆ†å¯ä»¥çœ‹ä½œæ˜¯UMLç±»å›¾ä¸­çš„<strong>Director</strong>ç±»ï¼Œå®ä¾‹åŒ–èŒä½ç±»<strong>Work</strong>å’Œå®ä¾‹åŒ–å§“åç±»<strong>Named</strong>æ˜¯Humançš„<strong>åˆ›å»ºè¿‡ç¨‹</strong>ã€‚<br>å»ºé€ è€…æ¨¡å¼å¯ä»¥çœ‹ä½œæ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„ä¿¡æ¯åè¿”å›æ–°å¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>
<h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h2><p><strong>åŸå‹æ¨¡å¼</strong>ï¼Œç”¨åŸå‹å®ä¾‹æŒ‡å‘åˆ›å»ºå¯¹è±¡çš„ç±»ï¼Œä½¿ç”¨äºåˆ›å»ºæ–°çš„å¯¹è±¡çš„ç±»å…±äº«åŸå‹å¯¹è±¡çš„å±æ€§ä»¥åŠæ–¹æ³•ã€‚<br>åŸå‹æ¨¡å¼åœ¨äºé€šè¿‡å¤åˆ¶è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå¯ä»¥<strong>å¤åˆ¶åŸå‹å¯¹è±¡çš„å±æ€§åŠæ–¹æ³•</strong>æ¥åˆ›å»ºã€‚<br>ä¸‹ä¾‹ä»£ç å®ç°äº†ä½¿ç”¨åŸå‹æ¨¡å¼æ¥å¤åˆ¶å¤šä¸ªåŸå‹å¯¹è±¡æ¥å¯¹æ–°å¯¹è±¡çš„åˆ›å»º<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// å¯¹è±¡å¤åˆ¶æ–¹æ³•</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">prototypeExtend</span></span>()&#123;</span><br><span class="line">    var F = <span class="function"><span class="title">function</span></span>()&#123;&#125;,</span><br><span class="line">        args = arguments,</span><br><span class="line">        len = args.length,</span><br><span class="line">        i = 0;</span><br><span class="line">    <span class="keyword">for</span>(; i &lt; len; i++)&#123;</span><br><span class="line">        // éå†æ¯ä¸ªæ¨¡ç‰ˆå¯¹è±¡ä¸­çš„å±æ€§</span><br><span class="line">        <span class="keyword">for</span>(var j <span class="keyword">in</span> args[i])&#123;</span><br><span class="line">            // å°†å±æ€§å¤åˆ¶åˆ°ç¼“å­˜ç±»åŸå‹ä¸­</span><br><span class="line">            F.prototype[j] = args[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var penguin = prototypeExtend(</span><br><span class="line">    &#123;</span><br><span class="line">        speed: 20,</span><br><span class="line">        swim: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            console.log(<span class="string">"æ¸¸æ³³é€Ÿåº¦ï¼š"</span> + this.speed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        run: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            console.log(<span class="string">"å¥”è·‘é€Ÿåº¦ï¼š"</span> + this.speed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        jump: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            console.log(<span class="string">"è·³è·ƒåŠ¨ä½œ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">penguin.swim();</span><br><span class="line">penguin.run(10);</span><br><span class="line">penguin.jump();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/prototype.png" alt="prototype"></p>
<h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p><strong>å•ä¾‹æ¨¡å¼</strong>ï¼Œåˆç§°ä¸ºå•ä½“æ¨¡å¼ï¼Œæ˜¯åªå…è®¸å®ä¾‹åŒ–ä¸€æ¬¡çš„å¯¹è±¡ç±»ã€‚</p>
<ul>
<li><p>ç”¨é€”ä¸€ï¼š å®šä¹‰<strong>å‘½åç©ºé—´</strong>ï¼Œä¸‹ä¾‹ä»£ç ä¸­Qiuå³ä¸ºå‘½åç©ºé—´ï¼Œä½¿ç”¨å…¶ä¸­æ–¹æ³•æ—¶éœ€<strong>Qiu.xx()</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// å•ä¾‹æ¨¡å¼</span><br><span class="line">var Qiu = &#123;</span><br><span class="line">    g: <span class="keyword">function</span>(id)&#123;</span><br><span class="line">        <span class="built_in">return</span> document.getElementById(id);</span><br><span class="line">    &#125;,</span><br><span class="line">    css: <span class="keyword">function</span>(id, key, value)&#123;</span><br><span class="line">        this.g(id).style[key] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨é€”äºŒï¼š ç®¡ç†<strong>é™æ€å˜é‡</strong>â€”â€”åªèƒ½è®¿é—®ä¸èƒ½ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var Conf = (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    // ç§æœ‰å˜é‡</span><br><span class="line">    var conf = &#123;</span><br><span class="line">        MAX_NUM: 100,</span><br><span class="line">        MIN_NUM: 1,</span><br><span class="line">        COUNT: 1000</span><br><span class="line">    &#125;</span><br><span class="line">    // è¿”å›å–å€¼å™¨å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        get: <span class="keyword">function</span>(name)&#123;</span><br><span class="line">            <span class="built_in">return</span> conf[name]? conf[name]: null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">var count = Conf.get(<span class="string">'COUNT'</span>);</span><br><span class="line">console.log(count);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/img/singleton-count.png" alt="singleton-count"></p>
<ul>
<li>ç”¨é€”ä¸‰ï¼š <strong>æƒ°æ€§å•ä¾‹</strong><br><img src="/img/å•ä¾‹æ¨¡å¼.png" alt="å•ä¾‹æ¨¡å¼"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// æƒ°æ€§å•ä¾‹</span><br><span class="line">var LazySingle = (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var _instance = null;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">Single</span></span>()&#123;</span><br><span class="line">        // å®šä¹‰ç§æœ‰å±æ€§å’Œæ–¹æ³•</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">            publicMethod: <span class="function"><span class="title">function</span></span>()&#123;&#125;,</span><br><span class="line">            publicProperty: <span class="string">'1.0'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // è·å–å•ä¾‹å¯¹è±¡æ¥å£</span><br><span class="line">    <span class="built_in">return</span> <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="keyword">if</span>(!_instance)&#123;</span><br><span class="line">            _instance = Single();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> _instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">console.log(LazySingle().publicProperty);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/img/lazysingleton.png" alt="lazysingleton"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JavaScriptè®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹è®¾è®¡æ¨¡å¼åˆ°æ­¤ä¹Ÿå°±å‘Šä¸€æ®µè½äº†ï¼Œå› ä¸ºå…¶ä¸­æœ‰éƒ¨åˆ†è®¾è®¡æ¨¡å¼ä¹‹å‰å› ä¸ºæ—¶é—´ä¸è¶³æœªæ›¾æ·±å…¥å­¦ä¹ ï¼Œæ‰€ä»¥å¯èƒ½æœ‰äº›ç†è§£çš„ä¸å¤Ÿé€å½»ï¼Œå¦‚æœæœ‰å­˜åœ¨æè¿°ä¸å½“çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï½å…±åŒè¿›æ­¥ï½</p>
<p>ä¸‹ä¸€ç¯‡æˆ‘å°†è®°å½•JavaScriptè®¾è®¡æ¨¡å¼ä¸­ç»“æ„å‹è®¾è®¡æ¨¡å¼çš„å­¦ä¹ è¿‡ç¨‹ï½åŠ æ²¹åŠ æ²¹ï½</p>
]]></content>
      
        <categories>
            
            <category> JavaScript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> JavaScriptä¹‹è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[JavaScriptä¹‹ç»§æ‰¿]]></title>
      <url>/2018/01/30/js-herit/</url>
      <content type="html"><![CDATA[<blockquote>
<p>è¿™æ®µæ—¶é—´ä¸»è¦å­¦ä¹ äº†JavaScriptçš„çŸ¥è¯†ï¼Œä¸å¾—ä¸æ„Ÿæ…¨jsè¯­è¨€çš„å¼ºå¤§ä¸çµæ´»ã€‚æ­¤æ¬¡ä¸»è¦æ˜¯å¯¹JavaScriptä¸­çš„ç»§æ‰¿è¿›è¡Œå­¦ä¹ è®°å½•ä¸æ€»ç»“ï¼Œä½†å…ä¸äº†æ¶‰åŠåˆ°é¢å‘å¯¹è±¡ç¼–ç¨‹ã€å°è£…ä»¥åŠå¤šæ€çš„ç›¸åº”çŸ¥è¯†ã€‚æ¥ä¸‹æ¥æˆ‘å°†å…ˆä»‹ç»ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä»¥åŠä¸ºä»€ä¹ˆè¦é‡‡ç”¨é¢å‘å¯¹è±¡æ¥è¿›è¡Œç¼–ç¨‹ï¼Œæ¥ç€ä»‹ç»ä¸€ä¸‹é¢å‘å¯¹è±¡ä¸­çš„é‡è¦ç‰¹æ€§â€”â€”å°è£…ï¼Œç„¶åä»‹ç»jså®ç°ç»§æ‰¿çš„å…­ç§æ–¹æ³•ï¼Œæœ€åç®€å•ä»‹ç»ä¸€ä¸‹jså®ç°å¤šæ€çš„æ–¹å¼ã€‚æ­¤ç¯‡åšæ–‡ä¸»è¦ç›®çš„æ˜¯æƒ³å°†æ­¤æ¬¡çš„å­¦ä¹ è¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„æ·±å…¥å­¦ä¹ ï¼Œå¦‚æœåœ¨ç†è§£ä¸Šæœ‰åå·®çš„è¯ï¼Œè¿˜è¯·å¤§å®¶ä¸åèµæ•™ï½</p>
</blockquote>
<h2 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h2><h3 id="ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><p>é¢å‘å¯¹è±¡ç¼–ç¨‹é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯å°†ä½ çš„éœ€æ±‚æŠ½è±¡æˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åé’ˆå¯¹è¿™ä¸ªå¯¹è±¡åˆ†æå…¶ç‰¹å¾ï¼ˆå±æ€§ï¼‰å’ŒåŠ¨ä½œï¼ˆæ–¹æ³•ï¼‰ã€‚<br> åœ¨Javaè¯­è¨€ä¸­é€šè¿‡classå…³é”®å­—å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œä½†åœ¨JavaScriptè¯­è¨€ä¸­å› ä¸ºæ²¡æœ‰é€šè¿‡classå®ç°ç±»å°è£…çš„æ–¹æ³•ï¼Œæ‰€ä»¥é€šå¸¸æ˜¯é€šè¿‡ä¸€äº›ç‰¹æ€§æ¨¡ä»¿å®ç°çš„ï¼Œä½†è¿™ä¹Ÿå¸¦æ¥äº†æé«˜çš„çµæ´»æ€§ï¼Œä½¿æˆ‘ä»¬ç¼–å†™çš„ä»£ç æ›´è‡ªç”±ã€‚<br><a id="more"></a></p>
<h3 id="ä¸ºä»€ä¹ˆè¦å¼•å…¥é¢å‘å¯¹è±¡çš„æ€æƒ³"><a href="#ä¸ºä»€ä¹ˆè¦å¼•å…¥é¢å‘å¯¹è±¡çš„æ€æƒ³" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å¼•å…¥é¢å‘å¯¹è±¡çš„æ€æƒ³"></a>ä¸ºä»€ä¹ˆè¦å¼•å…¥é¢å‘å¯¹è±¡çš„æ€æƒ³</h3><p>ç”±äºé¢å‘å¯¹è±¡æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€æ€§çš„ç‰¹æ€§ï¼Œå¯ä»¥è®¾è®¡å‡ºä½è€¦åˆçš„ç³»ç»Ÿï¼Œä½¿ç³»ç»Ÿæ›´åŠ çµæ´»ã€æ›´åŠ æ˜“äºç»´æŠ¤ï¼Œä»£ç å¤ç”¨æ€§å¼ºï¼Œèƒ½å¤Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿ƒè¿›å›¢é˜Ÿçš„ååŒåˆä½œã€‚</p>
<h2 id="å‰ç½®è¦ç‚¹"><a href="#å‰ç½®è¦ç‚¹" class="headerlink" title="å‰ç½®è¦ç‚¹"></a>å‰ç½®è¦ç‚¹</h2><p>åœ¨JavaScriptä¸­åˆ›å»ºä¸€ä¸ªç±»å¾ˆå®¹æ˜“ï¼Œé¦–å…ˆå£°æ˜ä¸€ä¸ªå‡½æ•°ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œç„¶ååœ¨å‡½æ•°ï¼ˆç±»ï¼‰çš„å†…éƒ¨é€šè¿‡å¯¹<strong>this</strong>å˜é‡æ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•æ¥å®ç°å¯¹ç±»æ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var Book = <span class="keyword">function</span>(id, bookName, price)&#123;</span><br><span class="line">    this.id = id;</span><br><span class="line">    this.bookName = bookName;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å› ä¸ºç±»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªåŸå‹<strong>prototype</strong>ç”¨äºæŒ‡å‘å…¶ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ç±»çš„åŸå‹ä¸Šæ·»åŠ å±æ€§æˆ–æ–¹æ³•ã€‚ä½†é€šè¿‡thiså®šä¹‰çš„å±æ€§å’Œæ–¹æ³•æ˜¯è¯¥å¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€ŒprototypeæŒ‡å‘çš„æ˜¯å…¶ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Book.prototype.display = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //å±•ç¤ºè¿™æœ¬ä¹¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ–<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Book.prototype = &#123;</span><br><span class="line">    display: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        //å±•ç¤ºè¿™æœ¬ä¹¦</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½†ä¸¤ç§æ–¹å¼ä¸è¦æ··ç”¨ã€‚<br>å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æˆ–è€…å¯¹è±¡æ—¶éƒ½ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªåŸå‹å¯¹è±¡prototypeï¼Œåœ¨prototypeä¸­åˆä¼šåƒåˆ›å»ºthisä¸€æ ·åˆ›å»ºä¸€ä¸ª<strong>constructor</strong>å±æ€§ï¼ŒæŒ‡å‘æ‹¥æœ‰æ•´ä¸ªåŸå‹å¯¹è±¡çš„å‡½æ•°æˆ–å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ğŸŒ°ä¸­çš„Bookå¯¹è±¡ã€‚</p>
<h2 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h2><p>å°è£…ï¼ˆEncapsulationï¼‰æ˜¯é¢å‘å¯¹è±¡æ–¹æ³•çš„é‡è¦ç‰¹æ€§ï¼Œå°±æ˜¯æŠŠå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ç»“åˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ•´ä½“ï¼Œå¹¶å°½å¯èƒ½éšè—å¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚</p>
<ul>
<li>ç”±äºJavaScriptçš„å‡½æ•°çº§ä½œç”¨åŸŸï¼Œå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ä»¥åŠæ–¹æ³•åœ¨å¤–ç•Œæ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œé€šè¿‡æ­¤ç‰¹æ€§å³å¯åˆ›å»ºç±»çš„<strong>ç§æœ‰å˜é‡</strong>ä»¥åŠ<strong>ç§æœ‰æ–¹æ³•</strong>ã€‚</li>
<li>åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡<strong>this</strong>åˆ›å»ºçš„å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ¯ä¸ªå¯¹è±¡è‡ªèº«éƒ½æ‹¥æœ‰ä¸€ä»½å¹¶ä¸”å¯ä»¥åœ¨å¤–éƒ¨è®¿é—®åˆ°ï¼Œå› æ­¤å¯ä»¥é€šè¿‡<strong>this</strong>åˆ›å»ºå¯¹è±¡çš„<strong>å…¬æœ‰å±æ€§</strong>å’Œ<strong>å…¬æœ‰æ–¹æ³•</strong>ã€‚</li>
<li>é€šè¿‡<strong>this</strong>åˆ›å»ºçš„æ–¹æ³•ï¼Œä¸ä½†å¯ä»¥è®¿é—®è¿™äº›å¯¹è±¡çš„å…¬æœ‰å±æ€§å’Œå…¬æœ‰æ–¹æ³•ï¼Œè¿˜å¯ä»¥è®¿é—®åˆ°å…¶ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼Œæ‰€ä»¥åˆç§°è¿™äº›æ–¹æ³•ä¸º<strong>ç‰¹æƒæ–¹æ³•</strong></li>
<li>ç±»å¤–é¢é€šè¿‡ç‚¹è¯­æ³•å®šä¹‰çš„å±æ€§ä»¥åŠæ–¹æ³•è¢«ç§°ä¸º<strong>ç±»çš„é™æ€å…¬æœ‰å±æ€§</strong>å’Œ<strong>ç±»çš„é™æ€å…¬æœ‰æ–¹æ³•</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var Book = <span class="keyword">function</span>(id, name, price)&#123;</span><br><span class="line">    // ç§æœ‰å±æ€§</span><br><span class="line">    var num = 1;</span><br><span class="line">    // ç§æœ‰æ–¹æ³•</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">checkId</span></span>()&#123;&#125;</span><br><span class="line">    // ç‰¹æƒæ–¹æ³•</span><br><span class="line">    this.getName = <span class="function"><span class="title">function</span></span>()&#123;&#125;;</span><br><span class="line">    this.getPrice = <span class="function"><span class="title">function</span></span>()&#123;&#125;;</span><br><span class="line">    this.setName = <span class="function"><span class="title">function</span></span>()&#123;&#125;;</span><br><span class="line">    this.setPrice = <span class="function"><span class="title">function</span></span>()&#123;&#125;;</span><br><span class="line">    // å¯¹è±¡å…¬æœ‰å±æ€§</span><br><span class="line">    this.id = id;</span><br><span class="line">    // å¯¹è±¡å…¬æœ‰æ–¹æ³•</span><br><span class="line">    this.copy = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(num)</span><br><span class="line">    &#125;;</span><br><span class="line">    // æ„é€ å™¨</span><br><span class="line">    this.setName(name);</span><br><span class="line">    this.setPrice(price);</span><br><span class="line">&#125;</span><br><span class="line">// ç±»é™æ€å…¬æœ‰å±æ€§ï¼ˆå¯¹è±¡ä¸èƒ½è®¿é—®ï¼‰</span><br><span class="line">Book.isChinese = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">// ç±»é™æ€å…¬æœ‰æ–¹æ³•ï¼ˆå¯¹è±¡ä¸èƒ½è®¿é—®ï¼‰</span><br><span class="line">Book.resetTime = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">'new time'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var book = new Book(11, <span class="string">'JavaScript è®¾è®¡æ¨¡å¼'</span>, 50);</span><br><span class="line">console.log(book.num);</span><br><span class="line">book.copy();</span><br><span class="line">console.log(book.id);</span><br><span class="line">console.log(book.isJSBook);</span><br><span class="line">console.log(book.isChinese);</span><br><span class="line">console.log(Book.isChinese);</span><br><span class="line">Book.resetTime();</span><br></pre></td></tr></table></figure></p>
<p>è¿è¡Œç»“æœä¸ºï¼š<br><img src="/img/encapsulate.png" alt="encapsulate"></p>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p><strong>ç»§æ‰¿</strong>æ˜¯ä»å·²æœ‰çš„ç±»ä¸­æ´¾ç”Ÿå‡ºæ–°çš„ç±»ï¼Œæ–°çš„ç±»èƒ½å¸æ”¶å·²æœ‰ç±»çš„æ•°æ®å±æ€§å’Œè¡Œä¸ºï¼Œå¹¶èƒ½æ‰©å±•æ–°çš„èƒ½åŠ›ã€‚<br>JavaScriptä¸­å¹¶æ²¡æœ‰å®ç°ç»§æ‰¿çš„ç°æœ‰æœºåˆ¶ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ä¼šä»‹ç»JavaScriptä¸­å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹æ³•ã€‚</p>
<h3 id="æ–¹æ³•ä¸€ï¼š-ç±»å¼ç»§æ‰¿"><a href="#æ–¹æ³•ä¸€ï¼š-ç±»å¼ç»§æ‰¿" class="headerlink" title="æ–¹æ³•ä¸€ï¼š ç±»å¼ç»§æ‰¿"></a>æ–¹æ³•ä¸€ï¼š ç±»å¼ç»§æ‰¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// ç±»å¼ç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">SuperClass</span></span>()&#123;</span><br><span class="line">    this.superValue = <span class="literal">true</span>;</span><br><span class="line">    this.book = [<span class="string">'JavaScrpt'</span>, <span class="string">'html'</span>, <span class="string">'css'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.getSuperValue = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.superValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">SubClass</span></span>()&#123;</span><br><span class="line">    this.subValue = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç»§æ‰¿çˆ¶ç±»</span><br><span class="line">SubClass.prototype = new SuperClass();</span><br><span class="line"></span><br><span class="line">//ç»§æ‰¿ä¹‹åå†æ·»åŠ å­ç±»å…¬æœ‰æ–¹æ³•</span><br><span class="line">SubClass.prototype.getSubValue = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.subValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var instance = new SubClass();</span><br><span class="line">console.log(instance.getSubValue());</span><br><span class="line">console.log(instance.getSuperValue());</span><br></pre></td></tr></table></figure>
<p><img src="/img/class-inherit.png" alt="class-inherit"></p>
<p>ç±»å¼ç»§æ‰¿ä¸­å®ç°ç»§æ‰¿çš„ä¸»è¦æ–¹æ³•æ˜¯<strong>SubClass.prototype = new SuperClass();</strong>SubClassçš„åŸå‹è¢«èµ‹äºˆäº†SuperClassçš„å®ä¾‹ï¼Œå› è€ŒSubClassçš„åŸå‹ç»§æ‰¿äº†SuperClassã€‚<br>ç±»å¼ç»§æ‰¿å­˜åœ¨ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>ç”±äºå­ç±»é€šè¿‡å…¶åŸå‹prototypeå¯¹çˆ¶ç±»å®ä¾‹åŒ–ï¼Œç»§æ‰¿äº†çˆ¶ç±»ã€‚æ‰€ä»¥è¯´çˆ¶ç±»ä¸­çš„å…¬æœ‰å±æ€§è¦æ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±ä¼šåœ¨å­ç±»ä¸­è¢«æ‰€æœ‰å®ä¾‹å…±ç”¨ï¼Œå› æ­¤ä¸€ä¸ªå­ç±»çš„å®ä¾‹æ›´æ”¹å­ç±»åŸå‹ä»çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ç»§æ‰¿æ¥çš„å…¬æœ‰å±æ€§å°±ä¼šç›´æ¥å½±å“åˆ°å…¶ä»–å­ç±»ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var instance1 = new SubClass();</span><br><span class="line">var instance2 = new SubClass();</span><br><span class="line">console.log(instance2.book);</span><br><span class="line">instance1.book.push(<span class="string">'è®¾è®¡æ¨¡å¼'</span>);</span><br><span class="line">console.log(instance2.book);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/img/class-dis.png" alt="class-dis"></p>
<ul>
<li>ç”±äºå­ç±»å®ç°çš„ç»§æ‰¿æ˜¯é å…¶åŸå‹prototypeå¯¹çˆ¶ç±»çš„å®ä¾‹åŒ–å®ç°çš„ï¼Œå› æ­¤åœ¨åˆ›å»ºçˆ¶ç±»çš„æ—¶å€™ï¼Œæ˜¯æ— æ³•å‘çˆ¶ç±»ä¼ é€’å‚æ•°çš„ï¼Œå› è€Œåœ¨å®ä¾‹åŒ–çˆ¶ç±»çš„æ—¶å€™ä¹Ÿæ— æ³•å¯¹çˆ¶ç±»æ„é€ å‡½æ•°å†…çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
</ul>
<p>å› ä¸ºç±»å¼ç»§æ‰¿å­˜åœ¨çš„ä¸¤ä¸ªç¼ºç‚¹ï¼Œæ‰€ä»¥å¼•å‡ºäº†ç¬¬äºŒç§ç»§æ‰¿æ–¹æ³•â€”â€”æ„é€ å‡½æ•°ç»§æ‰¿</p>
<h3 id="æ–¹æ³•äºŒï¼š-æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#æ–¹æ³•äºŒï¼š-æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="æ–¹æ³•äºŒï¼š æ„é€ å‡½æ•°ç»§æ‰¿"></a>æ–¹æ³•äºŒï¼š æ„é€ å‡½æ•°ç»§æ‰¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// æ„é€ å‡½æ•°ç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> SuperClass(id)&#123;</span><br><span class="line">    this.id = id;</span><br><span class="line">    this.books = [<span class="string">'JavaScrpt'</span>, <span class="string">'html'</span>, <span class="string">'css'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.showBooks = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(this.books);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> SubClass(id)&#123;</span><br><span class="line">    // æ„é€ å‡½æ•°ç»§æ‰¿ï¼Œä½¿ç”¨callæ¥æ›´æ”¹å‡½æ•°çš„ä½œç”¨ç¯å¢ƒ</span><br><span class="line">    SuperClass.call(this, id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var instance1 = new SubClass(10);</span><br><span class="line">var instance2 = new SubClass(20);</span><br><span class="line"></span><br><span class="line">instance1.books.push(<span class="string">"Java"</span>);</span><br><span class="line">console.log(instance1.id);</span><br><span class="line">console.log(instance1.books);</span><br><span class="line">console.log(instance2.id)</span><br><span class="line">console.log(instance2.books);</span><br></pre></td></tr></table></figure>
<p><img src="/img/construct-inherit.png" alt="construct-inherit"></p>
<p><strong>SuperClass.call(this, id);</strong>è¿™æ¡è¯­å¥æ˜¯æ„é€ å‡½æ•°ç»§æ‰¿çš„ç²¾åï¼Œcallæ–¹æ³•å¯ä»¥æ›´æ”¹å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒï¼Œå› æ­¤åœ¨å­ç±»ä¸­ï¼Œå¯¹SuperClassè°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±æ˜¯å°†å­ç±»ä¸­çš„å˜é‡åœ¨çˆ¶ç±»ä¸­æ‰§è¡Œä¸€éï¼Œç”±äºçˆ¶ç±»ä¸­æ˜¯ç»™<strong>this</strong>ç»‘å®šå±æ€§çš„ï¼Œå› æ­¤å­ç±»è‡ªç„¶å°±ç»§æ‰¿äº†çˆ¶ç±»çš„å…¬æœ‰å±æ€§ã€‚<br>ç”±äºæ„é€ å‡½æ•°ç»§æ‰¿æ²¡æœ‰æ¶‰åŠåŸå‹prototypeï¼Œæ‰€ä»¥çˆ¶ç±»çš„åŸå‹æ–¹æ³•è‡ªç„¶ä¸ä¼šè¢«å­ç±»ç»§æ‰¿ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">instance1.showBooks();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/constructor-dis.png" alt="constructor-dis"></p>
<p>å› è€Œå¼•å‡ºäº†ç¬¬ä¸‰ç§ç»§æ‰¿æ–¹æ³•â€”â€”ç»„åˆç»§æ‰¿</p>
<h3 id="æ–¹æ³•ä¸‰ï¼š-ç»„åˆç»§æ‰¿"><a href="#æ–¹æ³•ä¸‰ï¼š-ç»„åˆç»§æ‰¿" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š ç»„åˆç»§æ‰¿"></a>æ–¹æ³•ä¸‰ï¼š ç»„åˆç»§æ‰¿</h3><p>ç»„åˆç»§æ‰¿æ˜¯å°†<strong>ç±»å¼ç»§æ‰¿</strong>å’Œ<strong>æ„é€ å‡½æ•°ç»§æ‰¿</strong>ç»„åˆèµ·æ¥å®ç°ç»§æ‰¿çš„ä¸€ç§æ–¹å¼ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// ç»„åˆç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> SuperClass(name)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.books = [<span class="string">'JavaScrpt'</span>, <span class="string">'html'</span>, <span class="string">'css'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype= &#123;</span><br><span class="line">    getName: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(this.name);</span><br><span class="line">    &#125;,</span><br><span class="line">    showBooks: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(this.books);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> SubClass(name, time)&#123;</span><br><span class="line">    // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span><br><span class="line">    SuperClass.call(this, name);</span><br><span class="line"></span><br><span class="line">    this.time = time;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SubClass.prototype = new SuperClass();</span><br><span class="line"></span><br><span class="line">SubClass.prototype.getTime = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(this.time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var instance1 = new SubClass(<span class="string">'js book'</span>, 2010);// è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span><br><span class="line">instance1.books.push(<span class="string">"Java"</span>);</span><br><span class="line">instance1.showBooks();</span><br><span class="line">instance1.getName();</span><br><span class="line">instance1.getTime();</span><br><span class="line"></span><br><span class="line">var instance2 = new SubClass(<span class="string">'css book'</span>, 2021);</span><br><span class="line">instance2.showBooks();</span><br><span class="line">instance2.getName();</span><br><span class="line">instance2.getTime();</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/combine-inherit.png" alt="combine-inherit"></p>
<p>ç»„åˆç»§æ‰¿è§£å†³äº†ç±»å¼ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿å­˜åœ¨çš„é—®é¢˜ï¼Œä½†ä»ç„¶ä¸æ˜¯å®Œç¾çš„ç»§æ‰¿æ–¹æ³•ï¼Œå› ä¸ºåœ¨ç»„åˆç»§æ‰¿ä¸­<strong>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°</strong>ï¼Œåœ¨ä½¿ç”¨æ„é€ å‡½æ•°ç»§æ‰¿æ—¶æ‰§è¡Œäº†ä¸€éçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œåœ¨å®ç°å­ç±»åŸå‹çš„ç±»å¼ç»§æ‰¿æ—¶åˆè°ƒç”¨äº†ä¸€éçˆ¶ç±»æ„é€ å‡½æ•°ã€‚</p>
<p>æœ€å®Œç¾çš„ç»§æ‰¿æ–¹æ³•æ˜¯â€”â€”å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œåœ¨å­¦ä¹ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åŸå‹å¼ç»§æ‰¿ã€å¯„ç”Ÿå¼ç»§æ‰¿æ–¹æ³•çš„å®ç°ã€‚</p>
<h3 id="æ–¹æ³•å››ï¼š-åŸå‹å¼ç»§æ‰¿"><a href="#æ–¹æ³•å››ï¼š-åŸå‹å¼ç»§æ‰¿" class="headerlink" title="æ–¹æ³•å››ï¼š åŸå‹å¼ç»§æ‰¿"></a>æ–¹æ³•å››ï¼š åŸå‹å¼ç»§æ‰¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// åŸå‹å¼ç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> inheritObject(o)&#123;</span><br><span class="line">    // å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">    // è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    // è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var book = &#123;</span><br><span class="line">    name: <span class="string">"js book"</span>,</span><br><span class="line">    alikeBook: [<span class="string">"css book"</span>, <span class="string">"html book"</span>]</span><br><span class="line">&#125;</span><br><span class="line">var newBook = inheritObject(book);</span><br><span class="line">newBook.name = <span class="string">"ajax book"</span>;</span><br><span class="line">newBook.alikeBook.push(<span class="string">"xml book"</span>);</span><br><span class="line"></span><br><span class="line">var otherBook = inheritObject(book);</span><br><span class="line">otherBook.name = <span class="string">"flash book"</span>;</span><br><span class="line">otherBook.alikeBook.push(<span class="string">"as book"</span>);</span><br><span class="line"></span><br><span class="line">// å­˜åœ¨åŒç±»å¼ç»§æ‰¿ä¸€æ ·çš„é—®é¢˜ï¼šå…±äº«å±æ€§</span><br><span class="line">console.log(newBook.name);</span><br><span class="line">console.log(newBook.alikeBook);</span><br><span class="line">console.log(otherBook.name);</span><br><span class="line">console.log(otherBook.alikeBook);</span><br><span class="line">console.log(book.name);</span><br><span class="line">console.log(book.alikeBook);</span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype-inherit.png" alt="prototype-inherit"></p>
<p>åŸå‹å¼ç»§æ‰¿å¼•å…¥ä¸€ä¸ª<strong>è¿‡æ¸¡å¯¹è±¡</strong>ï¼Œé€šè¿‡è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡ï¼Œè¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹æ¥å®ç°ç»§æ‰¿ã€‚<br>åŸå‹å¼ç»§æ‰¿æ˜¯å¯¹<strong>ç±»å¼ç»§æ‰¿çš„ä¸€æ¬¡å°è£…</strong>ï¼Œæ‰€ä»¥ç±»å¼ç»§æ‰¿çš„é—®é¢˜åœ¨åŸå‹å¼ç»§æ‰¿ä¸­ä¹Ÿä¼šå‡ºç°ã€‚</p>
<h3 id="æ–¹æ³•äº”ï¼š-å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#æ–¹æ³•äº”ï¼š-å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="æ–¹æ³•äº”ï¼š å¯„ç”Ÿå¼ç»§æ‰¿"></a>æ–¹æ³•äº”ï¼š å¯„ç”Ÿå¼ç»§æ‰¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// å¯„ç”Ÿå¼ç»§æ‰¿â€”â€”å¯¹åŸå‹ç»§æ‰¿çš„ç¬¬äºŒæ¬¡å°è£…</span><br><span class="line"><span class="keyword">function</span> inheritObject(o)&#123;</span><br><span class="line">    // å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">    // è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    // è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var book = &#123;</span><br><span class="line">    name: <span class="string">"js book"</span>,</span><br><span class="line">    alikeBook: [<span class="string">"css book"</span>, <span class="string">"html book"</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// äºŒæ¬¡å°è£… ä¼˜ç‚¹ï¼šå¯¹ç»§æ‰¿çš„å¯¹è±¡è¿›è¡Œäº†æ‹“å±•</span><br><span class="line"><span class="keyword">function</span> createBook(obj)&#123;</span><br><span class="line">    var o = new inheritObject(obj);</span><br><span class="line">    // æ‹“å±•æ–°å¯¹è±¡</span><br><span class="line">    o.getName = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(this.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    // è¿”å›æ‹“å±•åçš„æ–°å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line">var newBook = createBook(book);</span><br><span class="line">var otherBook = createBook(book);</span><br><span class="line">newBook.getName();</span><br><span class="line">console.log(newBook.alikeBook);</span><br><span class="line">newBook.alikeBook.push(<span class="string">'Java'</span>);</span><br><span class="line">console.log(otherBook.alikeBook);</span><br></pre></td></tr></table></figure>
<p><img src="/img/parastic-inherit.png" alt="parastic-inherit"></p>
<p>å¯„ç”Ÿå¼ç»§æ‰¿æ˜¯å¯¹<strong>åŸå‹å¼ç»§æ‰¿çš„ç¬¬äºŒæ¬¡å°è£…</strong>ï¼Œå¹¶ä¸”åœ¨è¿™ç¬¬äºŒæ¬¡å°è£…è¿‡ç¨‹ä¸­å¯¹ç»§æ‰¿çš„å¯¹è±¡è¿›è¡Œäº†æ‹“å±•ã€‚<br>ä»ç„¶å­˜åœ¨å±æ€§å…±äº«çš„é—®é¢˜ã€‚</p>
<h3 id="æ–¹æ³•å…­ï¼š-ç»ˆæç»§æ‰¿è€…â€”â€”å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#æ–¹æ³•å…­ï¼š-ç»ˆæç»§æ‰¿è€…â€”â€”å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="æ–¹æ³•å…­ï¼š ç»ˆæç»§æ‰¿è€…â€”â€”å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>æ–¹æ³•å…­ï¼š ç»ˆæç»§æ‰¿è€…â€”â€”å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼šå¯„ç”Ÿå¼ç»§æ‰¿ï¼‹æ„é€ å‡½æ•°ç»§æ‰¿</span><br><span class="line"><span class="keyword">function</span> inheritObject(o)&#123;</span><br><span class="line">    // å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>()&#123;&#125;;</span><br><span class="line">    // è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    // è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡</span><br><span class="line">    <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¤„ç†çš„ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯ç±»çš„åŸå‹</span><br><span class="line"><span class="keyword">function</span> inheritPrototype(subClass, superClass)&#123;</span><br><span class="line">    // å¤åˆ¶ä¸€ä»½çˆ¶ç±»çš„åŸå‹å‰¯æœ¬ä¿å­˜åœ¨å˜é‡ä¸­</span><br><span class="line">    var p = new inheritObject(superClass.prototype);</span><br><span class="line">    // ä¿®æ­£å› ä¸ºé‡å†™å­ç±»ç±»å‹å¯¼è‡´å­ç±»çš„constructorå±æ€§è¢«ä¿®æ”¹</span><br><span class="line">    p.constructor = subClass;</span><br><span class="line">    // è®¾ç½®å­ç±»çš„åŸå‹</span><br><span class="line">    subClass.prototype = p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> SuperClass(name)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"yellow"</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.getName = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> SubClass(name, time)&#123;</span><br><span class="line">    SuperClass.call(this, name);</span><br><span class="line">    this.time = time;</span><br><span class="line">&#125;</span><br><span class="line">inheritObject(SubClass, SuperClass);</span><br><span class="line"></span><br><span class="line">SubClass.prototype.getTime = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(this.time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">var instance1 = new SubClass(<span class="string">'js book'</span>, 2014);</span><br><span class="line">var instance2 = new SubClass(<span class="string">'css book'</span>, 2020);</span><br><span class="line">instance1.colors.push(<span class="string">"grown"</span>);</span><br><span class="line">console.log(instance1.colors);</span><br><span class="line">console.log(instance2.colors);</span><br><span class="line">instance1.getTime();</span><br><span class="line">instance2.getTime();</span><br></pre></td></tr></table></figure>
<p><img src="/img/parastic-combine.png" alt="parastic-combine"></p>
<p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å°†<strong>å¯„ç”Ÿå¼ç»§æ‰¿</strong>å’Œ<strong>æ„é€ å‡½æ•°ç»§æ‰¿</strong>ç»„åˆåœ¨ä¸€èµ·çš„ç»§æ‰¿æ–¹æ³•ã€‚</p>
<p>é€šè¿‡å¯„ç”Ÿå¼ç»§æ‰¿é‡æ–°ç»§æ‰¿<strong>çˆ¶ç±»çš„åŸå‹</strong>ã€‚æˆ‘ä»¬ç»§æ‰¿çš„ä»…ä»…æ˜¯çˆ¶ç±»çš„åŸå‹ï¼Œä¸å†éœ€è¦è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚å› ä¸ºåœ¨æ„é€ å‡½æ•°ç»§æ‰¿ä¸­æˆ‘ä»¬å·²ç»è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„å°±æ˜¯çˆ¶ç±»çš„åŸå‹å¯¹è±¡çš„ä¸€ä¸ª<strong>å‰¯æœ¬</strong>ï¼Œè€Œè¿™ä¸ªå‰¯æœ¬æˆ‘ä»¬é€šè¿‡<strong>åŸå‹ç»§æ‰¿</strong>ï¼Œå³<strong>inheritObject()æ–¹æ³•</strong>ä¾¿å¯å¾—åˆ°ã€‚å› ä¸ºå¯¹çˆ¶ç±»åŸå‹å¯¹è±¡å¤åˆ¶å¾—åˆ°çš„å¤åˆ¶å¯¹è±¡pä¸­çš„<strong>constructor</strong>æŒ‡å‘çš„ä¸æ˜¯<strong>subClasså­ç±»å¯¹è±¡</strong>ï¼Œå› æ­¤å¯„ç”Ÿå¼ç»§æ‰¿ä¸­è¦å¯¹å¤åˆ¶å¯¹è±¡påšä¸€æ¬¡å¢å¼ºï¼Œä¿®å¤<strong>constructoræŒ‡å‘ä¸æ­£ç¡®çš„é—®é¢˜</strong>ï¼Œæœ€åå°†å¾—åˆ°çš„å¤åˆ¶å¯¹è±¡pèµ‹å€¼ç»™å­ç±»çš„åŸå‹ï¼Œè¿™æ ·ï¼Œå­ç±»çš„åŸå‹å°±ç»§æ‰¿äº†çˆ¶ç±»çš„åŸå‹å¹¶ä¸”æ²¡æœ‰æ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</p>
<p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯JavaScriptå®ç°ç»§æ‰¿çš„<strong>ç»ˆæç»§æ‰¿æ–¹å¼</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿å¯ä»¥è§£å†³ç±»å¼ç»§æ‰¿å…±äº«å±æ€§çš„é—®é¢˜ã€æ„é€ å‡½æ•°ç»§æ‰¿æ— æ³•ç»§æ‰¿åŸå‹prototypeä¸Šçš„å±æ€§çš„é—®é¢˜ä»¥åŠç»„åˆç»§æ‰¿è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°çš„é—®é¢˜ã€‚ä½†æ˜¯å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ä¹Ÿæ¯”è¾ƒä¸å¥½ç†è§£ï¼Œæˆ‘å·²ç»åœ¨ä»£ç éƒ¨åˆ†éƒ½å†™ä¸Šäº†æ³¨é‡Šï¼Œä¾›å¤§å®¶å‚è€ƒç†è§£ï½</p>
<h2 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h2><p>å½“å‰æµè¡Œçš„ç”¨äºç»§æ‰¿å•å¯¹è±¡å±æ€§çš„extendsæ–¹æ³•ï¼Œæ˜¯é€šè¿‡å¯¹å¯¹è±¡ä¸­<strong>å±æ€§çš„å¤åˆ¶</strong>æ¥å®ç°çš„ã€‚<br>JavaScriptä¹Ÿå¯ä»¥ä½¿ç”¨å±æ€§å¤åˆ¶çš„æ–¹å¼æ¥å®ç°å¤šç»§æ‰¿ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// å¤šç»§æ‰¿â€”â€”å¯¹å¯¹è±¡ä¸­çš„å±æ€§çš„ä¸€ä¸ªå¤åˆ¶è¿‡ç¨‹</span><br><span class="line">Object.prototype.mix = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var i = 0,</span><br><span class="line">        len = arguments.length,</span><br><span class="line">        arg;</span><br><span class="line">    <span class="keyword">for</span>(; i &lt; len; i++)&#123;</span><br><span class="line">        arg = arguments[i];</span><br><span class="line">        <span class="keyword">for</span>(var property <span class="keyword">in</span> arg)&#123;</span><br><span class="line">            this[property] = arg[property];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><p>å¤šæ€é€šä¿—æ¥è¯´å°±æ˜¯<strong>åŒä¸€ä¸ªæ–¹æ³•å¤šç§è°ƒç”¨æ–¹å¼</strong>ã€‚åœ¨JavaScriptä¸­é€šè¿‡å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œåˆ¤æ–­æ¥å®ç°å¤šç§è°ƒç”¨æ–¹å¼ã€‚å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// å¤šæ€</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">add</span></span>()&#123;</span><br><span class="line">    var arg = arguments,</span><br><span class="line">        len = arg.length;</span><br><span class="line">    switch(len)&#123;</span><br><span class="line">        <span class="keyword">case</span> 0:</span><br><span class="line">            <span class="built_in">return</span> 10;</span><br><span class="line">        <span class="keyword">case</span> 1:</span><br><span class="line">            <span class="built_in">return</span> 10 + arg[0];</span><br><span class="line">        <span class="keyword">case</span> 2:</span><br><span class="line">            <span class="built_in">return</span> arg[0] + arg[1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Test</span><br><span class="line">console.log(add());</span><br><span class="line">console.log(add(5));</span><br><span class="line">console.log(add(1, 7));</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/polymorphism.png" alt="polymorphism"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>å°è£…ã€ç»§æ‰¿</strong>ä¸<strong>å¤šæ€</strong>æ˜¯é¢å‘å¯¹è±¡ä¸­çš„é‡è¦ç‰¹æ€§ï¼Œä»JavaScriptçš„è§’åº¦ä¸Šå®ç°è¿™ä¸‰ä¸ªç‰¹æ€§ï¼Œè®©æˆ‘æ„Ÿå—åˆ°JavaScriptçš„çµæ´»ä¸å¼ºå¤§ã€‚å› ä¸ºæœ¬å­¦æœŸä¸Šäº†ä¼Ÿå¸…çš„è®¾è®¡æ¨¡å¼çš„è¯¾ï¼Œå¯¹è®¾è®¡æ¨¡å¼é¢‡æœ‰å…´è¶£ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ä¼šå­¦ä¹ <strong>JavaScriptä¸­çš„è®¾è®¡æ¨¡å¼</strong>ï¼Œå¹¶å°†å­¦ä¹ è¿‡ç¨‹è®°å½•ä¸‹æ¥ï½</p>
]]></content>
      
        <categories>
            
            <category> JavaScript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> JavaScriptä¹‹ç»§æ‰¿ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[webpackï¼Œä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„æ¨¡å—æ‰“åŒ…å™¨ï¼ˆäºŒï¼‰â€”â€”èµ„æºç®¡ç†æ¨¡å—]]></title>
      <url>/2017/11/20/webpack-guide/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ç»§ä¸Šä¸€ç¯‡åšæ–‡<a href="http://qiuruolin.cn/2017/11/03/webpack/" target="_blank" rel="noopener">webpackï¼Œä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„æ¨¡å—æ‰“åŒ…å™¨ï¼ˆä¸€ï¼‰â€”â€”æ¦‚å¿µç¯‡</a>å®Œæˆä¹‹åï¼Œæ—¶éš”ä¸€æ®µæ—¶é—´æ²¡æœ‰å­¦ä¹ webpackäº†ï¼Œä¸»è¦æ˜¯æœ€è¿‘æœ‰ç‚¹å°å¿™è€½æäº†ã€‚æ­¤ç¯‡åšæ–‡ä¸»è¦æ˜¯ä½œä¸ºwebpackçš„å­¦ä¹ æŒ‡å—ï¼Œç†è§£å’ŒæŒæ¡webpackæä¾›çš„å„ç§å·¥å…·å’Œç‰¹æ€§ï¼Œä¸»è¦ç›®çš„æ˜¯æƒ³å°†æ­¤æ¬¡çš„å­¦ä¹ è¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„æ·±å…¥å­¦ä¹ ï¼Œå¦‚æœåœ¨ç†è§£ä¸Šæœ‰åå·®çš„è¯ï¼Œè¿˜è¯·å¤§å®¶ä¸åèµæ•™ï½</p>
</blockquote>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é¦–å…ˆéœ€è¦ä½ ä¸‹è½½å®‰è£…<strong>node.js</strong> <a href="http://nodejs.cn/download/" target="_blank" rel="noopener">è¿˜æ²¡æœ‰ä¸‹è½½å®‰è£…ï¼Ÿæˆ³è¿™é‡Œè¿›å…¥Node.jsä¸­æ–‡ç½‘è¿›è¡Œä¸‹è½½å®‰è£…</a>ï¼Œåœ¨ä½¿ç”¨webpackçš„è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦å¤§é‡çš„ä½¿ç”¨nodeä¸­çš„<strong>npm</strong>åŒ…ç®¡ç†å·¥å…·ï¼Œnpmä¸»è¦çš„ä½¿ç”¨åœºæ™¯æœ‰ï¼š</p>
<ul>
<li>ç”¨æˆ·å¯ä»¥åœ¨npmæœåŠ¡å™¨ä¸Šä¸‹è½½åˆ«äººç¼–å†™çš„ç¬¬ä¸‰æ–¹åŒ…åˆ°æœ¬åœ°ä½¿ç”¨;</li>
<li>ç”¨æˆ·å¯ä»¥åœ¨npmæœåŠ¡å™¨ä¸Šä¸‹è½½å¹¶å®‰è£…åˆ«äººç¼–å†™çš„å‘½ä»¤è¡Œç¨‹åºåˆ°æœ¬åœ°ä½¿ç”¨;</li>
<li>è¿˜å¯ä»¥å°†è‡ªå·±ç¼–å†™çš„åŒ…æˆ–å‘½ä»¤è¡Œç¨‹åºä¸Šä¼ åˆ°npmæœåŠ¡å™¨ä¾›ä»–äººä½¿ç”¨ã€‚</li>
</ul>
<a id="more"></a>
<p>è¿™é‡Œå»ºè®®å¤§å®¶å¯ä»¥ä¸‹è½½å®‰è£…ä¸€ä¸‹cnpmæ·˜å®npmé•œåƒï¼Œå› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œä½¿ç”¨cnpmçš„è¯å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜æˆ‘ä»¬æ¨¡å—çš„ä¸‹è½½å®‰è£…é€Ÿåº¦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p>
<h3 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --global webpack</span><br></pre></td></tr></table></figure>
<p>å…¨å±€å®‰è£…å°†ä½¿webpackåœ¨å…¨å±€ç¯å¢ƒä¸‹å¯ç”¨ï¼Œä½†ä¸æ¨èå…¨å±€å®‰è£… webpackã€‚è¿™ä¼šå°†ä½ é¡¹ç›®ä¸­çš„ webpack é”å®šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ä¸åŒçš„ webpack ç‰ˆæœ¬çš„é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å»ºå¤±è´¥ã€‚</p>
<h3 id="æœ¬åœ°å®‰è£…"><a href="#æœ¬åœ°å®‰è£…" class="headerlink" title="æœ¬åœ°å®‰è£…"></a>æœ¬åœ°å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œæˆ‘ä»¬å»ºè®®æœ¬åœ°å®‰è£…ã€‚è¿™å¯ä»¥ä½¿æˆ‘ä»¬åœ¨å¼•å…¥ç ´åå¼å˜æ›´çš„ä¾èµ–æ—¶ï¼Œæ›´å®¹æ˜“åˆ†åˆ«å‡çº§é¡¹ç›®ã€‚é€šå¸¸ï¼Œwebpack é€šè¿‡è¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ª npm scriptsï¼Œä¼šåœ¨æœ¬åœ° node_modules ç›®å½•ä¸­æŸ¥æ‰¾å®‰è£…çš„ webpackã€‚</p>
<h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><p>ä¸ºäº†åç»­æ›´å¥½çš„è¿›è¡ŒçŸ¥è¯†ç‚¹çš„æ¼”ç¤ºï¼Œæˆ‘ä»¬å…ˆè¿›è¡Œç®€å•çš„é¡¹ç›®å‡†å¤‡ã€‚æˆ‘åœ¨å¸¸ç”¨çš„å·¥ä½œç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªåä¸º<strong>webpack-blog</strong>çš„æ–‡ä»¶å¤¹ã€‚å‘½ä»¤è¡Œè¿›å…¥<strong>webpack-blog</strong>çš„å·¥ä½œç›®å½•æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//åˆå§‹åŒ–å¹¶åˆ›å»ºpackage.jsonæ–‡ä»¶</span><br><span class="line">$ npm init </span><br><span class="line">//åœ¨é¡¹ç›®ä¸­å®‰è£…webpackä¾èµ–åŒ…</span><br><span class="line">$ cnpm install --save-dev webpack</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºåä¸º<strong>webpack.config.js</strong>çš„æ–‡ä»¶ä»¥åŠæˆ‘ä»¬çš„å…¥å£æ–‡ä»¶<strong>/src/main.js</strong>æ–‡ä»¶ï¼Œ<strong>webpack.config.js</strong>æ˜¯æˆ‘ä»¬è¿™æ¬¡ä¸»è¦çš„æ–‡ä»¶ï¼Œæ˜¯webpackçš„é…ç½®æ–‡ä»¶ã€‚<br>æ„å»ºå¥½å·¥ä½œç›®å½•åï¼Œæˆ‘ä»¬æ¥æ ¹æ®ä¸Šä¸€èŠ‚ç®€è¿°è¿‡çš„webpackæ ¸å¿ƒçŸ¥è¯†æ¥ç®€å•ä½¿ç”¨ä¸€ä¸‹webpackã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨srcç›®å½•ä¸‹çš„<strong>main.js</strong>æ–‡ä»¶ä¸­ç¼–å†™ç®€å•çš„jsä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(<span class="string">"Welcome to your first webpack test!"</span>);</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥åˆ°<strong>webpack.config.js</strong>æ–‡ä»¶ï¼Œå¹¶è®¾ç½®webpackæ‰“åŒ…æ‰€éœ€çš„å…¥å£èµ·ç‚¹ä»¥åŠè¾“å‡ºæ–‡ä»¶é…ç½®ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var path = require(<span class="string">'path'</span>);</span><br><span class="line">var webpack = require(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'webpack.bundle.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç®€å•ä»‹ç»ä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼Œ<strong>entry</strong>æ˜¯æ¨¡å—æ‰“åŒ…çš„å…¥å£èµ·ç‚¹ï¼Œå®ƒæŒ‡ç¤ºwebpackæ ¹æ®<strong>src</strong>ç›®å½•ä¸‹çš„<strong>main.js</strong>æ–‡ä»¶æ¥æ„å»ºå·¥ç¨‹çš„ä¾èµ–å›¾ï¼›<strong>require()</strong>æ˜¯node.jsä¸­å¸¸ç”¨çš„ä¸€ä¸ªå¯¼å…¥æ¨¡å—çš„æ“ä½œï¼Œ<strong>path.resolve()</strong>æ˜¯è·å–ç»å¯¹è·¯å¾„çš„æ–¹æ³•ï¼Œ<strong>__dirname</strong> ç”¨äºè·å–å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„å®Œæ•´ç›®å½•åã€‚æ­¤ä»£ç ç”¨äºæŸ¥æ‰¾<strong>dist</strong>æ–‡ä»¶å¤¹ï¼Œå¦‚æœç›®å½•ä¸‹æ²¡æœ‰<strong>dist</strong>æ–‡ä»¶å¤¹åˆ™æ–°å»ºï¼Œå¹¶å°†é€šè¿‡æ‰“åŒ…åˆ›å»ºåçš„<strong>webpack.bundle.js</strong>æ–‡ä»¶æ”¾å…¥<strong>dist</strong>æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br></pre></td></tr></table></figure></p>
<p>å‘½ä»¤ï¼Œå¯¹å·¥ç¨‹è¿›è¡Œæ‰“åŒ…æ„å»ºï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹çœ‹åˆ°æ–°å»ºçš„distæ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ªæ–°å»ºçš„<strong>webpack.bundle.js</strong>æ–‡ä»¶ï¼Œæœ‰ç‚¹ç»•ï½</p>
<p>æœ€åï¼Œæˆ‘ä»¬åœ¨<strong>src</strong>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸º<strong>index.html</strong>çš„æ–‡ä»¶ï¼Œå¹¶ä»¥<strong>script</strong>æ ‡ç­¾çš„å½¢å¼å¼•å…¥ç”Ÿæˆçš„<strong>webpack.bundle.js</strong>æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€index.htmlï¼Œä½ ä¼šå‘ç°é¡µé¢ä¸Šç©ºç©ºå¦‚ä¹Ÿï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ï½åˆ«ç€æ€¥ï¼Œæ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œä½ å¯ä»¥çœ‹åˆ°åœ¨æ§åˆ¶å°ä¸­è¾“å‡ºäº†<strong>â€œWelcome to your first webpack test!â€</strong>ï¼Œæˆ‘ä»¬å¯¹webpackçš„ç¬¬ä¸€æ¬¡ç®€å•åº”ç”¨å°±æˆåŠŸå•¦ã€‚</p>
<p>å½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªè¶…ç®€å•çš„ä¾‹å­ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å¯¹è¿™ä¸ªä¾‹å­è¿›è¡Œæ‰©å……ï¼Œè¿›è€Œå±•ç¤ºwebpackå¼ºå¤§çš„åŠŸèƒ½ã€‚</p>
<h2 id="ç®¡ç†èµ„æº"><a href="#ç®¡ç†èµ„æº" class="headerlink" title="ç®¡ç†èµ„æº"></a>ç®¡ç†èµ„æº</h2><h3 id="åŠ è½½CSS"><a href="#åŠ è½½CSS" class="headerlink" title="åŠ è½½CSS"></a>åŠ è½½CSS</h3><p>ä¸ºäº†ä» JavaScript æ¨¡å—ä¸­ import ä¸€ä¸ª CSS æ–‡ä»¶ï¼Œä½ éœ€è¦åœ¨ module é…ç½®ä¸­ å®‰è£…å¹¶æ·»åŠ  style-loader å’Œ css-loaderï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev style-loader css-loader</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåå¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­çš„<strong>devDependencies</strong>é¡¹ä¸­çœ‹åˆ°æ–°å®‰è£…çš„<strong>style-loader</strong>å’Œ<strong>css-loader</strong>æ¨¡å—ã€‚<br>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­é…ç½®æ¨¡å—çš„ä½¿ç”¨è§„åˆ™ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">test</span>: /\.css$/,</span><br><span class="line">            use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç®€å•ä»‹ç»ä»¥ä¸Šä»£ç ï¼Œ<strong>test</strong>ç”¨äºè¯†åˆ«å‡ºåº”è¯¥è¢«å¯¹åº”çš„loaderè¿›è¡Œè½¬æ¢çš„æ–‡ä»¶ï¼Œä»¥ä¸Šä»£ç è¡¨ç¤ºloaderéœ€è¦è¯†åˆ«<strong>.css</strong>ä¸ºåç¼€çš„æ–‡ä»¶ï¼Œ<strong>use</strong>å±æ€§è½¬æ¢è¿™äº›æ–‡ä»¶ï¼Œä»è€Œä½¿å…¶èƒ½å¤Ÿè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ï¼ˆå¹¶ä¸”æœ€ç»ˆæ·»åŠ åˆ° bundle ä¸­ï¼‰ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°è¯•ä¸€ä¸‹åœ¨é¡¹ç›®<strong>src</strong>ç›®å½•ä¸‹æ·»åŠ <strong>style.css</strong>æ–‡ä»¶ï¼Œå¹¶å°†å…¶å¯¼å…¥æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶<strong>main.js</strong>ä¸­<br>æˆ‘ä»¬ä¿®æ”¹<strong>main,js</strong>æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œä»¥ä¾¿äºåœ¨é¡µé¢ä¸­æ›´ç›´è§‚åœ°çœ‹åˆ°æ•ˆæœã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var element = document.createElement(<span class="string">'div'</span>);</span><br><span class="line">element.setAttribute(<span class="string">"class"</span>, <span class="string">"hello"</span>);</span><br><span class="line">element.innerHTML = <span class="string">"Welcome to your first webpack test!"</span>;</span><br><span class="line">document.body.appendChild(element);</span><br></pre></td></tr></table></figure></p>
<p>æ­¤æ—¶ç»è¿‡<strong>$ webpack</strong>å‘½ä»¤æ‰“åŒ…åï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€<strong>index.html</strong>æ–‡ä»¶å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢ç»“æ„ä¸º<br><img src="/img/main_html.png" alt="main_html"><br>é¡µé¢æ•ˆæœä¸ºï¼š<br><img src="/img/main_result.png" alt="main_result"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨åˆ›å»ºçš„<strong>style.css</strong>æ–‡ä»¶ä¸­å†™å…¥ç®€å•çš„æ ·å¼æ¥éªŒè¯webpackåŠ è½½CSSçš„åŠŸèƒ½<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.hello&#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨<strong>main.js</strong>æ–‡ä»¶ä¸­å¼•å…¥<strong>style.css</strong>æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">'./style.css'</span>;</span><br></pre></td></tr></table></figure></p>
<p>å†æ¬¡ä½¿ç”¨<strong>$ webpack</strong>å‘½ä»¤æ‰“åŒ…åï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<strong>index.html</strong>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Welcome to your first webpack test!è¾“å‡ºä¸ºçº¢è‰²ã€‚<br><img src="/img/main_red.png" alt="main_red"></p>
<p>æŸ¥çœ‹é¡µé¢çš„headæ ‡ç­¾ï¼Œå¯ä»¥å‘ç°é¡µé¢å·²ç»åŒ…å«äº†æˆ‘ä»¬åœ¨<strong>main.js</strong>æ–‡ä»¶ä¸­å¯¼å…¥çš„<strong>style.css</strong>æ–‡ä»¶ã€‚<br><img src="/img/main_head.png" alt="main_head"></p>
<h3 id="åŠ è½½å›¾ç‰‡"><a href="#åŠ è½½å›¾ç‰‡" class="headerlink" title="åŠ è½½å›¾ç‰‡"></a>åŠ è½½å›¾ç‰‡</h3><p>ä½¿ç”¨ file-loaderï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†é¡µé¢ä¸­éœ€è¦çš„èƒŒæ™¯å›¾ç‰‡æˆ–è€…å›¾æ ‡æ··åˆåˆ° CSS ä¸­ï¼Œé¦–å…ˆè¿˜æ˜¯è¦å®‰è£…æ¨¡å—ä¾èµ–åŒ…ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev file-loader</span><br></pre></td></tr></table></figure></p>
<p>åŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­é…ç½®åº”ç”¨è§„åˆ™ï¼š<br><img src="/img/file-loader.png" alt="file-loader"></p>
<p>æ­¤æ®µè§„åˆ™è¡¨æ˜ç¨‹åºå¯ä»¥åŠ è½½ä»¥<strong>.png .svg .jpg .gif</strong>ä¸ºåç¼€åçš„æ–‡ä»¶ã€‚<br>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨<strong>style.css</strong>æ–‡ä»¶ä¸­æ·»åŠ <strong>background</strong>æ ·å¼æ¥å¼•å…¥å›¾ç‰‡ï¼Œä¸ºäº†è®©èƒŒæ™¯å›¾ç‰‡å®Œæ•´åœ°æ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬ä¸º<strong>hello</strong>è¿™ä¸ªdivè®¾ç½®äº†300pxçš„é«˜åº¦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.hello&#123;</span><br><span class="line">	height: 300px;</span><br><span class="line">    color: red;</span><br><span class="line">    background: url(<span class="string">'./logo.png'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é‡æ–°æ‰§è¡Œ<strong>$ webpack</strong>å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é¡µé¢æ•ˆæœä¸ºï¼š<br><img src="/img/main-logo-re.png" alt="main-logo-re"></p>
<p>å›¾ç‰‡ç¨€ç¼ºï¼Œå°±æ‹¿äº†ä¸€å¼ ä¹‹å‰å·¥ç¨‹ä¸­ç°æœ‰çš„vueæ¡†æ¶çš„logoæ¥ç”¨ï½<br>å¦‚æœä½ æ£€æŸ¥imgå…ƒç´ ï¼Œä½ å°†çœ‹åˆ°å®é™…çš„æ–‡ä»¶åå·²æ›´æ”¹ä¸ºåƒ 82b9c7a5a3f405032b1db71a25f67021.png ä¸€æ ·ã€‚è¿™æ„å‘³ç€ webpack åœ¨ src æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°æˆ‘ä»¬çš„æ–‡ä»¶ï¼Œå¹¶æˆåŠŸå¤„ç†è¿‡å®ƒäº†ï¼</p>
<h3 id="åŠ è½½å­—ä½“"><a href="#åŠ è½½å­—ä½“" class="headerlink" title="åŠ è½½å­—ä½“"></a>åŠ è½½å­—ä½“</h3><p> åŠ è½½å­—ä½“ä¸åŠ è½½å›¾ç‰‡ç›¸åŒï¼Œä¹Ÿä½¿ç”¨çš„æ˜¯<strong>file-loader</strong>æ¥åŠ è½½å­—ä½“æ–‡ä»¶ï¼ŒåŠ è½½å­—ä½“ä½¿ç”¨çš„æ­£åˆ™è§„åˆ™å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span>: /\.(woff|woff2|eot|ttf|otf)$/</span><br></pre></td></tr></table></figure></p>
<p>ä¸åŠ è½½å›¾ç‰‡æ–‡ä»¶ç›¸åŒï¼ŒåŠ è½½å­—ä½“éœ€è¦åœ¨<strong>css</strong>æ–‡ä»¶ä¸­å¼•å…¥å­—ä½“æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª @font-face å£°æ˜å¼•å…¥ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š<br><img src="/img/font-loader.png" alt="font-loader"></p>
<h3 id="åŠ è½½æ•°æ®"><a href="#åŠ è½½æ•°æ®" class="headerlink" title="åŠ è½½æ•°æ®"></a>åŠ è½½æ•°æ®</h3><p>åœ¨æˆ‘ä»¬å®é™…è¿ç”¨ä¸­ï¼Œä¸ä»…ä»…è¦åŠ è½½å›¾ç‰‡åŠå­—ä½“æ–‡ä»¶ï¼Œè¿˜å¯èƒ½éœ€è¦åŠ è½½æœ‰ç”¨çš„èµ„æºè¿˜æœ‰æ•°æ®ï¼Œå¦‚ JSON æ–‡ä»¶ï¼ŒCSVã€TSV å’Œ XMLã€‚JSON æ”¯æŒå®é™…ä¸Šæ˜¯å†…ç½®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ import Data from â€˜./data.jsonâ€™ é»˜è®¤å°†æ­£å¸¸è¿è¡Œã€‚è€Œè¦å¯¼å…¥ CSVã€TSV å’Œ XMLç±»å‹çš„æ•°æ®ï¼Œå°±éœ€è¦æˆ‘ä»¬å®‰è£…<strong>csv-loader</strong>å’Œ<strong>xml-loader</strong>æ¨¡å—æ¥è¿›è¡ŒåŠ è½½æ•°æ®ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…ç›¸å…³æ¨¡å—ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev csv-loader xml-loader</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦åœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­é…ç½®ç›¸å…³çš„åº”ç”¨è§„åˆ™ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="built_in">test</span>: /\.(csv|tsv)$/,</span><br><span class="line">    use: [<span class="string">'csv-loader'</span>]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">test</span>: /\.xml$/,</span><br><span class="line">    use: [<span class="string">'xml-loader'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨<strong>src</strong>ç›®å½•ä¸‹æ·»åŠ åä¸º<strong>data.xml</strong>çš„æ•°æ®æ–‡ä»¶ï¼Œ<strong>data.xml</strong>å†…å®¹å¦‚ä¸‹ï¼š<br><img src="/img/data_xml.png" alt="data_xml"></p>
<p>æˆ‘ä»¬åœ¨<strong>main.js</strong>æ–‡ä»¶ä¸­è§£æ<strong>data.xml</strong>æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œä¸»è¦å¢åŠ ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import Data from <span class="string">'./data.xml'</span>;</span><br><span class="line">console.log(Data);</span><br></pre></td></tr></table></figure></p>
<p>å†æ¬¡æ‰§è¡Œ<strong>$ webpack</strong>å‘½ä»¤åï¼Œå†æ¬¡åœ¨æµè§ˆå™¨ä¸Šæ‰“å¼€<strong>index.html</strong>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è¾“å‡ºäº†<strong>data.xml</strong>æ–‡ä»¶è§£æåçš„æ•°æ®ï¼š<br><img src="/img/data_result.png" alt="data_result"></p>
<h2 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h2><h3 id="Source-Map"><a href="#Source-Map" class="headerlink" title="Source Map"></a>Source Map</h3><p>å½“ webpack æ‰“åŒ…æºä»£ç æ—¶ï¼Œå¯èƒ½ä¼šå¾ˆéš¾è¿½è¸ªåˆ°é”™è¯¯å’Œè­¦å‘Šåœ¨æºä»£ç ä¸­çš„åŸå§‹ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå°†ä¸‰ä¸ªæºæ–‡ä»¶ï¼ˆa.js, b.js å’Œ c.jsï¼‰æ‰“åŒ…åˆ°ä¸€ä¸ª bundleï¼ˆbundle.jsï¼‰ä¸­ï¼Œè€Œå…¶ä¸­ä¸€ä¸ªæºæ–‡ä»¶åŒ…å«ä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆå †æ ˆè·Ÿè¸ªå°±ä¼šç®€å•åœ°æŒ‡å‘åˆ° bundle.jsã€‚è¿™å¹¶é€šå¸¸æ²¡æœ‰å¤ªå¤šå¸®åŠ©ï¼Œå› ä¸ºä½ å¯èƒ½éœ€è¦å‡†ç¡®åœ°çŸ¥é“é”™è¯¯æ¥è‡ªäºå“ªä¸ªæºæ–‡ä»¶ã€‚<br>ä¸ºäº†æ›´å®¹æ˜“åœ°è¿½è¸ªé”™è¯¯å’Œè­¦å‘Šï¼ŒJavaScript æä¾›äº† source map åŠŸèƒ½ï¼Œå°†ç¼–è¯‘åçš„ä»£ç æ˜ å°„å›åŸå§‹æºä»£ç ã€‚å¦‚æœä¸€ä¸ªé”™è¯¯æ¥è‡ªäº b.jsï¼Œsource map å°±ä¼šæ˜ç¡®çš„å‘Šè¯‰ä½ ã€‚<br>æˆ‘ä»¬åªéœ€è¦åœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">'inline-source-map'</span></span><br></pre></td></tr></table></figure></p>
<p>å°±å¯ä»¥è¿½è¸ªæºæ–‡ä»¶ä¸­é”™è¯¯å’Œè­¦å‘Šçš„åŠŸèƒ½ã€‚</p>
<h3 id="ä½¿ç”¨è§‚å¯Ÿæ¨¡å¼"><a href="#ä½¿ç”¨è§‚å¯Ÿæ¨¡å¼" class="headerlink" title="ä½¿ç”¨è§‚å¯Ÿæ¨¡å¼"></a>ä½¿ç”¨è§‚å¯Ÿæ¨¡å¼</h3><p>æ ¹æ®æ­¤åšæ–‡ä¸€æ­¥ä¸€æ­¥æ„å»ºä¸‹æ¥çš„èŒå‹ä¼šå‘ç°ï¼Œæ¯æ¬¡ä¿®æ”¹æºæ–‡ä»¶åï¼Œéƒ½è¦é‡æ–°ä½¿ç”¨<strong>$ webpack</strong>å‘½ä»¤å¯¹æ–‡ä»¶é‡æ–°è¿›è¡Œæ‰“åŒ…æ„å»ºï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†æˆ‘ä»¬çš„é‡å¤å·¥ä½œã€‚ä½¿ç”¨è§‚å¯Ÿæ¨¡å¼ï¼Œä½ å¯ä»¥æŒ‡ç¤º webpack â€œwatchâ€ ä¾èµ–å›¾ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä»¥è¿›è¡Œæ›´æ”¹ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶è¢«æ›´æ–°ï¼Œä»£ç å°†è¢«é‡æ–°ç¼–è¯‘ï¼Œæ‰€ä»¥ä½ ä¸å¿…æ‰‹åŠ¨è¿è¡Œæ•´ä¸ªæ„å»ºã€‚<br>ä½ éœ€è¦åœ¨<strong>package.json</strong>æ–‡ä»¶ä¸­å¼•å…¥æ‰§è¡Œå‘½ä»¤ï¼š<br><img src="/img/package-watch.png" alt="package-watch"></p>
<p>æ¥ç€ï¼Œä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run watch</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡ŒæˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ° webpack ç¼–è¯‘ä»£ç ï¼Œç„¶è€Œå´ä¸ä¼šé€€å‡ºå‘½ä»¤è¡Œã€‚è¿™æ˜¯å› ä¸º script è„šæœ¬è¿˜åœ¨è§‚å¯Ÿæ–‡ä»¶ï¼Œæ­¤æ—¶ä¿®æ”¹<strong>main.js</strong>æ–‡ä»¶çš„å†…å®¹ï¼Œä½ ä¼šå‘ç°ä¸éœ€è¦é‡æ–°æ‰‹åŠ¨æ„å»ºç¨‹åºï¼Œä»£ç å·²ç»è¢«é‡æ–°ç¼–è¯‘äº†ã€‚</p>
<h3 id="ä½¿ç”¨webpack-dev-server"><a href="#ä½¿ç”¨webpack-dev-server" class="headerlink" title="ä½¿ç”¨webpack-dev-server"></a>ä½¿ç”¨<strong>webpack-dev-server</strong></h3><p>webpack-dev-server æä¾›äº†ä¸€ä¸ªç®€å•çš„ web æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿå®æ—¶é‡æ–°åŠ è½½ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½å®‰è£…æ¨¡å—<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev webpack-dev-server</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåï¼Œæˆ‘ä»¬éœ€è¦åœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­å‘Šè¯‰å¼€å‘æœåŠ¡å™¨ï¼Œå»å“ªé‡ŒåŠ è½½æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">   contentBase: <span class="string">'./dist'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> ä»¥ä¸Šé…ç½®å‘ŠçŸ¥ webpack-dev-serverï¼Œåœ¨ localhost:8080 ä¸‹å»ºç«‹æœåŠ¡ï¼Œå°† dist ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä½œä¸ºå¯è®¿é—®æ–‡ä»¶ã€‚<br> æ¥ç€ï¼Œè®©æˆ‘ä»¬åœ¨<strong>package.json</strong>æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ª script è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"start"</span>: <span class="string">"webpack-dev-server --open"</span></span><br></pre></td></tr></table></figure></p>
<p> ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ<strong>$ npm start</strong>ï¼Œå°±ä¼šçœ‹åˆ°æµè§ˆå™¨è‡ªåŠ¨åŠ è½½é¡µé¢ã€‚å¦‚æœç°åœ¨ä¿®æ”¹å’Œä¿å­˜ä»»æ„æºæ–‡ä»¶ï¼Œweb æœåŠ¡å™¨å°±ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ç¼–è¯‘åçš„ä»£ç ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>webpackçš„å­¦ä¹ æ—¶é—´è·¨åº¦å¾ˆé•¿ï¼Œwebpackè¦å­¦ä¹ çš„ä¸œè¥¿å¾ˆå¤šï¼Œç»§ç»­åŠ æ²¹å§ï½</p>
]]></content>
      
        <categories>
            
            <category> æ‰“åŒ…å·¥å…· </category>
            
        </categories>
        
        
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[webpackï¼Œä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„æ¨¡å—æ‰“åŒ…å™¨ï¼ˆä¸€ï¼‰â€”â€”æ¦‚å¿µç¯‡]]></title>
      <url>/2017/11/03/webpack/</url>
      <content type="html"><![CDATA[<blockquote>
<p>é‰´äºæˆ‘åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä½¿ç”¨webpackçš„é¢‘ç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æƒ³ç€è¦è®°å½•ä¸€ä¸‹webpackçš„ä¸€äº›æ ¸å¿ƒçš„çŸ¥è¯†ç‚¹ï¼Œæ­¤åšæ–‡æ¶‰åŠçš„çŸ¥è¯†ç‚¹å¯èƒ½ä¸æ·±ï¼Œä½†æ¶µç›–äº†webpackçš„ä¸»è¦å†…å®¹ï¼Œä¸»è¦ç›®çš„æ˜¯æƒ³å°†æ­¤æ¬¡çš„å­¦ä¹ è¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„æ·±å…¥å­¦ä¹ ï¼Œå¦‚æœåœ¨ç†è§£ä¸Šæœ‰åå·®çš„è¯ï¼Œè¿˜è¯·å¤§å®¶ä¸åèµæ•™ï½</p>
</blockquote>
<h2 id="æ¦‚å¿µç¯‡"><a href="#æ¦‚å¿µç¯‡" class="headerlink" title="æ¦‚å¿µç¯‡"></a>æ¦‚å¿µç¯‡</h2><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><p>webpack æ˜¯ä¸€ä¸ªç°ä»£JavaScriptåº”ç”¨ç¨‹åºçš„æ¨¡å—æ‰“åŒ…å™¨ã€‚å½“webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆå°‘é‡çš„bundle - é€šå¸¸åªæœ‰ä¸€ä¸ªï¼Œç”±æµè§ˆå™¨åŠ è½½ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†è§£å››ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šå…¥å£(entry)ã€è¾“å‡º(output)ã€loaderã€æ’ä»¶(plugins)ã€‚</p>
<a id="more"></a>
<h3 id="å…¥å£-Entry"><a href="#å…¥å£-Entry" class="headerlink" title="å…¥å£(Entry)"></a>å…¥å£(Entry)</h3><p>webpackåˆ›å»ºåº”ç”¨ç¨‹åºæ‰€ä¾èµ–çš„å…³ç³»å›¾æ—¶ï¼Œå›¾çš„èµ·ç‚¹å°±æ˜¯æˆ‘ä»¬çš„å…¥å£èµ·ç‚¹ã€‚å…¥å£èµ·ç‚¹å‘Šè¯‰webpackä»å“ªé‡Œå¼€å§‹ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯appçš„ç¬¬ä¸€ä¸ªå¯åŠ¨æ–‡ä»¶ã€‚</p>
<ul>
<li><p>å•å…¥å£è¯­æ³•ï¼Œç”¨æ³•ï¼šentry: string|Array<string></string></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    entry: <span class="string">'.src/app.js'</span> //å°†srcç›®å½•ä¸‹çš„app.jsæ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡è¯­æ³•ï¼Œç”¨æ³•ï¼šentry: {[entryChunkName: string]: string|Array<string>}<br>å¯¹è±¡è¯­æ³•å¸¸ç”¨äºï¼šå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œå¦‚</string></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    pageOne: <span class="string">'./src/pageOne/index.js'</span>,</span><br><span class="line">    pageTwo: <span class="string">'./src/pageTwo/index.js'</span>,</span><br><span class="line">    pageThree: <span class="string">'./src/pageThree/index.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è¡¨é¢ä¸Šå‘Šè¯‰æˆ‘ä»¬ï¼Œwebpackéœ€è¦åˆ›å»º3ä¸ªä¾èµ–å›¾ï¼Œè¿™äº›ä¾èµ–å›¾å½¼æ­¤ä¹‹é—´å®Œæˆåˆ†ç¦»ï¼Œäº’ç›¸ç‹¬ç«‹çš„ã€‚ç”±äºå…¥å£èµ·ç‚¹å¢å¤šï¼Œå¤šé¡µåº”ç”¨èƒ½å¤Ÿå¤ç”¨å…¥å£èµ·ç‚¹ä¹‹é—´çš„å¤§é‡ä»£ç /æ¨¡å—ï¼Œä»è€Œå¯ä»¥æå¤§åœ°ä»è¿™äº›æŠ€æœ¯ä¸­å—ç›Šã€‚</p>
<h3 id="å‡ºå£-Output"><a href="#å‡ºå£-Output" class="headerlink" title="å‡ºå£(Output)"></a>å‡ºå£(Output)</h3><p>å°†æ‰€æœ‰æ–‡ä»¶å½’æ‹¢åï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰webpack<strong>å¦‚ä½•å¤„ç†è¿™äº›å½’æ‹¢åœ¨ä¸€èµ·çš„æ–‡ä»¶</strong>ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const path = require(<span class="string">'path'</span>); //å¼•å…¥pathå¯¹è±¡</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  entry: <span class="string">'.src/app.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'webpack.bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p><strong>å¤šä¸ªå…¥å£èµ·ç‚¹</strong>ï¼šå‡ºå£å¤„åº”è¯¥ä½¿ç”¨å ä½ç¬¦æ¥ç¡®ä¿æ¯ä¸ªæ–‡ä»¶å…·æœ‰å”¯ä¸€çš„åç§°ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">  	app: __dirname + <span class="string">'.src/app.js'</span>,</span><br><span class="line">  	search: __dirname + <span class="string">'./src/search.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + <span class="string">'/dist'</span>,</span><br><span class="line">    filename: <span class="string">'bundle-[name].js'</span> //distç›®å½•ä¸‹å°†ç”Ÿæˆ<span class="string">"bundle-app.js"</span>å’Œ<span class="string">"bundle-search.js"</span>æ–‡ä»¶</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬é€šè¿‡output.filenameå’Œoutput.pathå±æ€§ï¼Œæ¥å‘Šè¯‰è¾“å‡ºæ–‡ä»¶çš„åç§°ä»¥åŠè·¯å¾„ã€‚</p>
<h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>webpackæŠŠæ¯ä¸ªæ–‡ä»¶(.css, .html, .less, .scss, .jpgç­‰)éƒ½ä½œä¸ºæ¨¡å—å¤„ç†ï¼Œç„¶è€Œ webpack è‡ªèº«åªç†è§£ JavaScriptã€‚loader å¯ä»¥ä½¿ä½ åœ¨ import æˆ–â€åŠ è½½â€æ¨¡å—æ—¶é¢„å¤„ç†æ–‡ä»¶ã€‚<br><strong>loaderåœ¨æ–‡ä»¶è¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­æ—¶ï¼Œå°†æ–‡ä»¶è½¬æ¢ä¸ºæ¨¡å—ã€‚</strong></p>
<ul>
<li>è¯†åˆ«å‡ºåº”è¯¥è¢«å¯¹åº”çš„loaderè¿›è¡Œè½¬æ¢çš„æ–‡ä»¶ã€‚(testå±æ€§)</li>
<li>è½¬æ¢è¿™äº›æ–‡ä»¶ï¼Œä»è€Œä½¿å…¶èƒ½å¤Ÿè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ï¼ˆå¹¶ä¸”æœ€ç»ˆæ·»åŠ åˆ° bundle ä¸­ï¼‰ã€‚(useå±æ€§)</li>
</ul>
<p>åœ¨ä½¿ç”¨å‰ï¼Œæˆ‘ä»¬éœ€è¦æå‰å®‰è£…ç›¸å¯¹åº”çš„loaderï¼Œå¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev vue-loader</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const path = require(<span class="string">'path'</span>); //å¼•å…¥pathå¯¹è±¡</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  entry: <span class="string">'.src/app.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'webpack.bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="built_in">test</span>: /\.vue$/,loader: <span class="string">'vue-loader'</span> &#125; //ç”¨æ¥è§£ævueåç¼€çš„æ–‡ä»¶</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§ä½¿ç”¨loaderçš„æ–¹æ³•ï¼š</p>
<ul>
<li>é…ç½®ï¼ˆæ¨èï¼‰ï¼šåœ¨<strong>webpack.config.js</strong>æ–‡ä»¶ä¸­æŒ‡å®šloaderã€‚</li>
<li><p>å†…è”ï¼šåœ¨æ¯ä¸ª import è¯­å¥ä¸­æ˜¾å¼æŒ‡å®š loaderï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Styles from <span class="string">'style-loader!css-loader?modules!./styles.css'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>CLIï¼šåœ¨ shell å‘½ä»¤ä¸­æŒ‡å®šå®ƒä»¬ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --module-bind jade-loader --module-bind <span class="string">'css=style-loader!css-loader'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="æ’ä»¶-Plugins"><a href="#æ’ä»¶-Plugins" class="headerlink" title="æ’ä»¶(Plugins)"></a>æ’ä»¶(Plugins)</h3><p>ç”±äºloaderä»…åœ¨æ¯ä¸ªæ–‡ä»¶çš„åŸºç¡€ä¸Šæ‰§è¡Œè½¬æ¢ï¼Œè€Œæ’ä»¶æ›´å¸¸ç”¨äºï¼ˆä½†ä¸é™äºï¼‰åœ¨æ‰“åŒ…æ¨¡å—çš„ â€œcompilationâ€ å’Œ â€œchunkâ€ ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œæ“ä½œå’Œè‡ªå®šä¹‰åŠŸèƒ½ã€‚æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦ require() å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ° plugins æ•°ç»„ä¸­ï¼Œå¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹(option)è‡ªå®šä¹‰ã€‚æ’ä»¶ç›®çš„åœ¨äºè§£å†³loaderæ— æ³•å®ç°çš„å…¶ä»–äº‹ã€‚<br>ç”±äºæ’ä»¶å¯ä»¥æºå¸¦å‚æ•°/é€‰é¡¹ï¼Œä½ å¿…é¡»åœ¨webpacké…ç½®ä¸­ï¼Œå‘pluginså±æ€§ä¼ å…¥ new å®ä¾‹ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebpackPlugin = require(<span class="string">'html-webpack-plugin'</span>); //é€šè¿‡ npm å®‰è£…</span><br><span class="line">const webpack = require(<span class="string">'webpack'</span>); //è®¿é—®å†…ç½®çš„æ’ä»¶</span><br><span class="line">const path = require(<span class="string">'path'</span>); //å¼•å…¥pathå¯¹è±¡</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  entry: <span class="string">'.src/app.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'webpack.bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="built_in">test</span>: /\.vue$/,loader: <span class="string">'vue-loader'</span> &#125; //ç”¨æ¥è§£ævueåç¼€çš„æ–‡ä»¶</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">  	new webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">    new HtmlWebpackPlugin(&#123;template: <span class="string">'./src/index.html'</span>&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¨¡å—-Modules"><a href="#æ¨¡å—-Modules" class="headerlink" title="æ¨¡å—(Modules)"></a>æ¨¡å—(Modules)</h3><p>åœ¨æ¨¡å—åŒ–ç¼–ç¨‹ä¸­ï¼Œå¼€å‘è€…å°†ç¨‹åºåˆ†è§£æˆç¦»æ•£åŠŸèƒ½å—ï¼Œå¹¶ç§°ä¹‹ä¸ºæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å…·æœ‰æ¯”å®Œæ•´ç¨‹åºæ›´å°çš„æ¥è§¦é¢ï¼Œä½¿å¾—æ ¡éªŒã€è°ƒè¯•ã€æµ‹è¯•è½»è€Œæ˜“ä¸¾ã€‚<br>å¯¹æ¯”Node.jsæ¨¡å—ï¼Œwebpackæ¨¡å—èƒ½å¤Ÿä»¥å„ç§æ–¹å¼è¡¨è¾¾å®ƒä»¬çš„ä¾èµ–å…³ç³»ï¼Œå¦‚ï¼š</p>
<ul>
<li>ES2015 importè¯­å¥</li>
<li>CommonJS require()è¯­å¥</li>
<li>AMD defineå’Œrequireè¯­å¥</li>
<li>css/sass/less æ–‡ä»¶ä¸­çš„ @import è¯­å¥</li>
<li>æ ·å¼(url(â€¦))æˆ– HTML æ–‡ä»¶imgæ ‡ç­¾ä¸­çš„å›¾ç‰‡é“¾æ¥</li>
</ul>
<p>webpack é€šè¿‡ loader å¯ä»¥æ”¯æŒå„ç§è¯­è¨€å’Œé¢„å¤„ç†å™¨ç¼–å†™æ¨¡å—ã€‚</p>
<h3 id="æ¨¡å—è§£æ"><a href="#æ¨¡å—è§£æ" class="headerlink" title="æ¨¡å—è§£æ"></a>æ¨¡å—è§£æ</h3><p>resolveræ˜¯ä¸€ä¸ªåº“ï¼Œç”¨äºå¸®åŠ©æ‰¾åˆ°æ¨¡å—çš„ç»å¯¹è·¯å¾„ã€‚<br>ä½¿ç”¨enhanced-resolveï¼Œwebpack èƒ½å¤Ÿè§£æä¸‰ç§æ–‡ä»¶è·¯å¾„ï¼š</p>
<ul>
<li>ç»å¯¹è·¯å¾„<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">"C:\\Users\\user\\file"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç”±äºæˆ‘ä»¬å·²ç»å–å¾—äº†æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå› æ­¤ä¸éœ€è¦è¿›ä¸€æ­¥åœ¨åšè§£æã€‚</p>
<ul>
<li>ç›¸å¯¹è·¯å¾„<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">"../src/file1"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨importæˆ–requireçš„èµ„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•è¢«è®¤ä¸ºæ˜¯ä¸Šä¸‹æ–‡ç›®å½•ï¼Œåœ¨import/requireä¸­ç»™å®šçš„ç›¸å¯¹è·¯å¾„ï¼Œä¼šæ·»åŠ æ­¤ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œä»¥äº§ç”Ÿæ¨¡å—çš„ç»å¯¹è·¯å¾„ã€‚</p>
<ul>
<li>æ¨¡å—è·¯å¾„<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">"module/lib/file"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ¨¡å—å°†åœ¨resolve.modulesä¸­æŒ‡å®šçš„æ‰€æœ‰ç›®å½•å†…æœç´¢ã€‚ </p>
<h3 id="æ„å»ºç›®æ ‡-Targets"><a href="#æ„å»ºç›®æ ‡-Targets" class="headerlink" title="æ„å»ºç›®æ ‡(Targets)"></a>æ„å»ºç›®æ ‡(Targets)</h3><p>å› ä¸ºæœåŠ¡å™¨å’Œæµè§ˆå™¨ä»£ç éƒ½å¯ä»¥ç”¨JavaScriptç¼–å†™ï¼Œæ‰€ä»¥webpackæä¾›äº†å¤šç§æ„å»ºç›®æ ‡ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  target: <span class="string">'node'</span> //webpackä¼šç¼–è¯‘ä¸ºç”¨äºã€Œç±»Node.jsã€ç¯å¢ƒ</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p><strong>å¤šä¸ªTarget</strong>ï¼šå°½ç®¡webpackä¸æ”¯æŒå‘targetä¼ å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥é€šè¿‡æ‰“åŒ…ä¸¤ä»½åˆ†ç¦»çš„é…ç½®æ¥åˆ›å»ºåŒæ„çš„åº“ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const path = require(<span class="string">'path'</span>);</span><br><span class="line">const serverConfig = &#123;</span><br><span class="line">  target: <span class="string">'node'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'lib.node.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">  //â€¦</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const clientConfig = &#123;</span><br><span class="line">  target: <span class="string">'web'</span>, // é»˜è®¤æ˜¯ <span class="string">'web'</span>ï¼Œå¯çœç•¥</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'lib.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">  //â€¦</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = [ serverConfig, clientConfig ];</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢çš„ä¾‹å­å°†åœ¨ä½ çš„distæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºlib.jså’Œlib.node.jsæ–‡ä»¶ã€‚</p>
<h3 id="æ¨¡å—çƒ­æ›¿æ¢"><a href="#æ¨¡å—çƒ­æ›¿æ¢" class="headerlink" title="æ¨¡å—çƒ­æ›¿æ¢"></a>æ¨¡å—çƒ­æ›¿æ¢</h3><p>æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½ä¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚ä¸»è¦æ˜¯é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæ¥æ˜¾è‘—åŠ å¿«å¼€å‘é€Ÿåº¦ï¼š</p>
<ul>
<li>ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</li>
<li>åªæ›´æ–°å˜æ›´å†…å®¹ï¼Œä»¥èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ã€‚</li>
<li>è°ƒæ•´æ ·å¼æ›´åŠ å¿«é€Ÿ - å‡ ä¹ç›¸å½“äºåœ¨æµè§ˆå™¨è°ƒè¯•å™¨ä¸­æ›´æ”¹æ ·å¼ã€‚</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>webpackæ¦‚å¿µç¯‡å°±å·®ä¸å¤šç»“æŸå•¦ï¼Œå…¶ä¸­åŒ…å«webpackä¸­æ ¸å¿ƒçš„å‡ ä¸ªæ¦‚å¿µä»¥åŠå„è‡ªçš„ç”¨æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ç»§ç»­è®°å½•webpackç®¡ç†èµ„æºçš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> æ‰“åŒ…å·¥å…· </category>
            
        </categories>
        
        
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[babelï¼Œä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è½¬ç å™¨]]></title>
      <url>/2017/11/01/babel/</url>
      <content type="html"><![CDATA[<blockquote>
<p>éšç€JavaScriptçš„é£é€Ÿå‘å±•ï¼Œæµè§ˆå™¨çš„å‘å±•é€Ÿåº¦å´ä¸èƒ½ä¸ä¹‹ç›¸åŒ¹é…ï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨ç°æœ‰çš„æµè§ˆå™¨ä¸Šä½¿ç”¨jsæ–°çš„è¯­æ³•å’Œæ–°çš„æ•°æ®ç±»å‹ï¼Œè¿™æ—¶æˆ‘ä»¬ä¾¿éœ€è¦ä¸€ä¸ªè½¬ç å™¨ã€‚<br>Babelæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è½¬ç å™¨ï¼Œå¯ä»¥å°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ã€‚Babelèƒ½å°†æœ€æ–°æ ‡å‡†çš„JavaScriptä»£ç å‘ä¸‹ç¼–è¯‘æˆæµè§ˆå™¨æ™®éæ”¯æŒçš„ç‰ˆæœ¬ï¼Œå®ç°äº†â€œæºç åˆ°æºç â€ç¼–è¯‘ã€‚æ¯”å¦‚ï¼ŒBabelèƒ½å°†æ–°çš„ES2015çš„ç®­å¤´å‡½æ•°è¯­æ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const area = n =&gt; n * n;</span><br></pre></td></tr></table></figure></p>
<p>è½¬è¯‘ä¸º<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const area = <span class="keyword">function</span> area(n)&#123;</span><br><span class="line">	<span class="built_in">return</span> n * n;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>å› ä¸ºåœ¨å­¦ä¹ Vueç­‰è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°Babelçš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥æƒ³ç€å¤§æ¦‚äº†è§£ä¸€ä¸‹Babelçš„ä¸»è¦å†…å®¹ä»¥åŠåŸºæœ¬ç”¨æ³•ï¼Œæ–‡ç« å†…å®¹æ¶‰åŠä¸æ·±ï¼Œå¦‚æœåœ¨ç†è§£å’Œç”¨æ³•ä¸Šæœ‰åå·®çš„è¯ï¼Œè¿˜è¯·å¤§å®¶ä¸åèµæ•™ï½</p>
<a id="more"></a>
<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><p>åœ¨ä¹ æƒ¯çš„å·¥ä½œç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæˆ‘å–åä¸º<strong>babel-blog</strong>ï¼Œä½¿ç”¨å‘½ä»¤è¡Œè¿›å…¥<strong>babel-blog</strong>çš„å·¥ä½œç›®å½•ï¼Œæ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm init // åˆå§‹åŒ–å¹¶åˆ›å»ºpackage.jsonæ–‡ä»¶</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°åœ¨<strong>babel-blog</strong>é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºäº†åä¸ºpackage.jsonçš„æ–‡ä»¶ã€‚</p>
<h3 id="å®‰è£…Babelå‘½ä»¤è¡Œå·¥å…·"><a href="#å®‰è£…Babelå‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å®‰è£…Babelå‘½ä»¤è¡Œå·¥å…·"></a>å®‰è£…Babelå‘½ä»¤è¡Œå·¥å…·</h3><p>å®‰è£…babelçš„å‘½ä»¤è¡Œå·¥å…·çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨babelã€‚babelå‘½ä»¤è¡Œå·¥å…·å¯ä»¥å…¨å±€å®‰è£…ä¹Ÿå¯ä»¥æœ¬åœ°å®‰è£…ï¼Œå®˜æ–¹æ–‡æ¡£æ¨èæœ¬åœ°å®‰è£…ï¼ŒåŸå› æœ‰2ç‚¹ï¼š</p>
<ul>
<li>æœ¬åœ°å®‰è£…ä¸åŒçš„é¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„babelï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬å¯¹æŸä¸ªé¡¹ç›®çš„babelè¿›è¡Œå‡çº§ç­‰æ“ä½œ</li>
<li>æ¯ä¸ªé¡¹ç›®å•ç‹¬å®‰è£…çš„æ„å‘³ç€å¯¹è®¡ç®—æœºç¯å¢ƒæ²¡æœ‰ä¾èµ–ï¼Œä¾¿äºç§»æ¤</li>
</ul>
<p>è¿™é‡Œå»ºè®®å¤§å®¶å¯ä»¥ä¸‹è½½å®‰è£…ä¸€ä¸‹cnpmæ·˜å®npmé•œåƒï¼Œå› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œä½¿ç”¨cnpmçš„è¯å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜æˆ‘ä»¬æ¨¡å—çš„ä¸‹è½½å®‰è£…é€Ÿåº¦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨<strong>babel-blog</strong>é¡¹ç›®ä¸­å®‰è£…babelå‘½ä»¤è¡Œå·¥å…·<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev babel-cli</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåï¼Œå¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­çœ‹åˆ°åä¸º<strong>babel-cli</strong>çš„ä¾èµ–åŒ…<br><img src="/img/babel-package.png" alt="package.json"></p>
<p>æœ¬åœ°å®‰è£…çš„babelæ˜¯ä¸èƒ½å¤Ÿåœ¨ç›´æ¥å‘½ä»¤è¡Œä¸­è¿è¡Œçš„ï¼Œä¸ºäº†åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œbabelï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®package.jsonæ–‡ä»¶ä¸‹çš„scripté€‰é¡¹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"build"</span>: <span class="string">"babel src -d lib"</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/babel-script.png" alt="package.json"></p>
<p>é…ç½®æˆåŠŸåï¼Œå½“æˆ‘ä»¬åœ¨ç»ˆç«¯è¿è¡Œ<strong>npm run build</strong>æ—¶å°±ä¼šåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ<strong>babel src -d lib</strong>ï¼Œè¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåä¸ºsrcçš„æ–‡ä»¶å¤¹ï¼ˆpsï¼šå¦‚æœç°åœ¨æ‰§è¡Œçš„è¯ï¼Œé¡¹ç›®ä¼šæŠ¥é”™ï¼Œå®ƒä¼šæç¤ºæˆ‘ä»¬srcä¸å­˜åœ¨ï¼Œå› ä¸ºæˆ‘ä»¬é™¤äº†å®‰è£…äº†babel-cliå…¶ä»–éƒ½è¿˜æ²¡æœ‰åšå‘¢ï½ï¼‰</p>
<h3 id="babelrcé…ç½®æ–‡ä»¶"><a href="#babelrcé…ç½®æ–‡ä»¶" class="headerlink" title=".babelrcé…ç½®æ–‡ä»¶"></a>.babelrcé…ç½®æ–‡ä»¶</h3><p>Babelçš„é…ç½®æ–‡ä»¶æ˜¯.babelrcï¼Œå­˜æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨Babelçš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯é…ç½®è¿™ä¸ªæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ç”¨æ¥è®¾ç½®è½¬ç è§„åˆ™å’Œæ’ä»¶ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [],</span><br><span class="line">  <span class="string">"plugins"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>presetså­—æ®µè®¾å®šè½¬ç è§„åˆ™ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…ES2015çš„è½¬ç è§„åˆ™<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ES2015è½¬ç è§„åˆ™</span></span><br><span class="line">$ cnpm install --save-dev babel-preset-es2015</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åå°†å®‰è£…çš„è§„åˆ™åŠ å…¥.babelrcæ–‡ä»¶ä¸­<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [<span class="string">"es2015"</span>],</span><br><span class="line">    <span class="string">"plugins"</span>: []</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºåä¸ºsrcçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºindex.jsæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±æ‹¿æœ€å¼€å§‹çš„areaç®­å¤´å‡½æ•°æ¥è¿›è¡Œæ¼”ç¤ºï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const area = n =&gt; n * n;</span><br><span class="line"></span><br><span class="line">console.log(area(4));</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼Œä½ å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ<strong>npm run build</strong>å‘½ä»¤äº†ï¼Œæ‰§è¡ŒæˆåŠŸåä½ å¯ä»¥å‘ç°ï¼Œåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºlibçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯srcä¸‹index.jsé€šè¿‡babelè½¬ç ç”Ÿæˆçš„ä»£ç <br><img src="/img/lib-index.png" alt="libä¸‹index.jsæ–‡ä»¶"></p>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å­¦ä¼šäº†ä½¿ç”¨babelæ¥è¿›è¡Œç®€å•çš„è½¬ç åŠŸèƒ½ã€‚æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç®€å•å‘¢ï½</p>
<h2 id="Babelæ‰©å±•"><a href="#Babelæ‰©å±•" class="headerlink" title="Babelæ‰©å±•"></a>Babelæ‰©å±•</h2><p>Babelä¸­æœ‰å¾ˆå¤šåŒ…ï¼Œå¸¸ç”¨çš„åŒ…æœ‰<strong>babel-node</strong>, <strong>babel-register</strong>, <strong>babel-core</strong>, <strong>babel-polyfill</strong>ç­‰ï¼Œè¿™äº›åœ¨å®é™…åº”ç”¨ä¸­ç”¨çš„é¢‘ç‡éƒ½æ˜¯å¾ˆé«˜çš„ã€‚</p>
<h3 id="babel-node"><a href="#babel-node" class="headerlink" title="babel-node"></a>babel-node</h3><p>bable-nodeæ˜¯babel-cliè‡ªå¸¦çš„å‘½ä»¤ï¼Œæä¾›äº†ä¸€ä¸ªæ”¯æŒES6çš„REPLç¯å¢ƒï¼Œå®ƒæ”¯æŒnodeçš„REPLç¯å¢ƒçš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œä¸”å¯ä»¥ç›´æ¥è¿è¡ŒES6ä»£ç ã€‚<br>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…¨å±€å®‰è£…babel-cliã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev -g babel-cli</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåï¼Œè¾“å…¥babel-node,PEPLç¯å¢ƒ<br><img src="/img/babel-node.png" alt="babel-node"><br>æˆ–è€…ç›´æ¥æ‰§è¡Œjsæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ babel-node æ–‡ä»¶è·¯å¾„/æ–‡ä»¶å.åç¼€</span><br></pre></td></tr></table></figure></p>
<h3 id="babel-register"><a href="#babel-register" class="headerlink" title="babel-register"></a>babel-register</h3><p>babel-registeræ¨¡å—æ”¹å†™requireå‘½ä»¤ï¼Œä¸ºå®ƒåŠ ä¸Šä¸€ä¸ªé’©å­ã€‚æ­¤åï¼Œæ¯å½“ä½¿ç”¨requireåŠ è½½.jsã€.jsxã€.eså’Œ.es6åç¼€åçš„æ–‡ä»¶ï¼Œå°±ä¼šå…ˆç”¨Babelè¿›è¡Œè½¬ç ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev babel-register</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ç›´æ¥åœ¨åˆšåˆšæ–°å»ºçš„<strong>babel-blog</strong>é¡¹ç›®ä¸­srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªregister.jsæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(<span class="string">"Hello babel-register!"</span>);</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœæˆ‘ä»¬ç”¨ node register.js æ¥è¿è¡Œå®ƒæ˜¯ä¸ä¼šä½¿ç”¨ Babel æ¥ç¼–è¯‘çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½® babel-registerï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºconsole.jsçš„æ–‡ä»¶ï¼Œå¹¶å¼•å…¥babel-registerä»¥åŠregister.jsæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require(<span class="string">"babel-register"</span>);</span><br><span class="line">require(<span class="string">"./src/register"</span>);</span><br></pre></td></tr></table></figure></p>
<p>æ­¤æ—¶æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node console.js</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥å‘ç°å‘½ä»¤è¡Œè¾“å‡ºäº†register.jsæ–‡ä»¶ä¸­çš„å†…å®¹ â€œHello babel-register!â€ã€‚è¿™æ ·åšå¯ä»¥æŠŠ Babel æ³¨å†Œåˆ° Node çš„æ¨¡å—ç³»ç»Ÿä¸­å¹¶å¼€å§‹ç¼–è¯‘å…¶ä¸­ require çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<h3 id="babel-core"><a href="#babel-core" class="headerlink" title="babel-core"></a>babel-core</h3><p>å¦‚æœæŸäº›ä»£ç éœ€è¦è°ƒç”¨Babelçš„APIè¿›è¡Œè½¬ç ï¼Œå°±è¦ä½¿ç”¨babel-coreæ¨¡å—ã€‚<br>å€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¾‹å­ï¼š(å­—ç¬¦ä¸²è½¬ç )<br><img src="/img/babel-core.png" alt="babel-core"><br>transformæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºéœ€è¦è½¬æ¢çš„ES6ä»£ç ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è½¬æ¢çš„é…ç½®å¯¹è±¡ã€‚</p>
<h3 id="babel-polyfill"><a href="#babel-polyfill" class="headerlink" title="babel-polyfill"></a>babel-polyfill</h3><p>Babelé»˜è®¤åªè½¬æ¢æ–°çš„JavaScriptå¥æ³•ï¼ˆsyntaxï¼‰ï¼Œè€Œä¸è½¬æ¢æ–°çš„APIï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»è¦ä½¿ç”¨babel-polyfillï¼Œä¸ºå½“å‰ç¯å¢ƒæä¾›ä¸€ä¸ªå«ç‰‡ã€‚</p>
<h2 id="Babelä¸å…¶ä»–å·¥å…·é›†æˆ"><a href="#Babelä¸å…¶ä»–å·¥å…·é›†æˆ" class="headerlink" title="Babelä¸å…¶ä»–å·¥å…·é›†æˆ"></a>Babelä¸å…¶ä»–å·¥å…·é›†æˆ</h2><p>Babelå¯ä»¥ä¸å¾ˆå¤šæ„å»ºå·¥å…·ï¼ˆå¦‚ Browserifyã€Gruntã€Gulpã€Webpackç­‰ï¼‰è¿›è¡Œé›†æˆã€‚<br>å…³äºbabelä¸Webpackæ„å»ºå·¥å…·çš„é›†æˆï¼Œåœ¨æˆ‘<a href="http://localhost:4000/2017/10/25/webpack-vue/" target="_blank" rel="noopener">ä½¿ç”¨webpackæ­å»ºvueé¡¹ç›®â€”â€”å…¥é—¨</a>åšå®¢ä¸­å°±æœ‰ä½¿ç”¨åˆ°ã€‚</p>
<h3 id="é›†æˆWebpack"><a href="#é›†æˆWebpack" class="headerlink" title="é›†æˆWebpack"></a>é›†æˆWebpack</h3><ul>
<li>babel-preset-envï¼Œè½¬è¯‘å™¨ï¼Œæœ€å¸¸ç”¨çš„è½¬è¯‘å™¨ã€‚é€šè¿‡åœ¨.babelrcä¸­é…ç½®envé€‰é¡¹ï¼Œå¯ä»¥è®©ä»£ç å…¼å®¹ä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–è€…nodeã€‚</li>
</ul>
<p>è¿™é‡Œæˆ‘å°†ä½¿ç”¨åŸå…ˆçš„<strong>babel-blog</strong>é¡¹ç›®ï¼Œå¹¶å°†libæ–‡ä»¶å¤¹ï¼Œsrcæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶åˆ é™¤ä»…ä¿ç•™å¼€å§‹çš„index.jsæ–‡ä»¶ï¼Œå½“å‰ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š<br><img src="/img/babel-webpack.png" alt="babel-webpack"></p>
<p>è¿›å…¥é¡¹ç›®å·¥ä½œç›®å½•ï¼Œå®‰è£…webpackï¼Œbabel-preset-envå’Œbabel-loader<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install --save-dev webpack</span><br><span class="line">$ cnpm install --save-dev babel-preset-env</span><br><span class="line">$ cnpm install --save-dev babel-loader</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåï¼Œå¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­çœ‹åˆ°ç›¸åº”çš„ä¾èµ–åŒ…ã€‚</p>
<p>æ¥ä¸‹æ¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<strong>webpack.config.js</strong>æ–‡ä»¶<br><img src="/img/webpack.config-babel.png" alt="babel-webpack"></p>
<p>entryä¸ºå…¥å£æ–‡ä»¶ï¼Œæˆ‘ä»¬é€‰æ‹©å½“å‰ç›®å½•ä¸‹ï¼Œsrcæ–‡ä»¶å¤¹ä¸‹çš„index.jsæ–‡ä»¶ä½œä¸ºå…¥å£ã€‚outputä¸ºè¾“å‡ºé€‰é¡¹ï¼Œpathä¸ºè¾“å‡ºçš„ç›®å½•ï¼Œfilenameä¸ºè¾“å‡ºæ–‡ä»¶åã€‚æ„Ÿå…´è¶£çš„æœ‹å‹ä»¬å¯ä»¥æˆ³æˆ³<a href="https://doc.webpack-china.org/guides/getting-started" target="_blank" rel="noopener">Webpackä¸­æ–‡æ–‡æ¡£</a>è¿›è¡Œå­¦ä¹ å“¦ï½</p>
<p>æœ€é‡è¦çš„ä¸€ç‚¹ï¼šæˆ‘ä»¬è¦è®°å¾—åœ¨<strong>.babelrc</strong>æ–‡ä»¶ä¸­è®¾å®šç›¸åº”çš„è½¬ç è§„åˆ™å“¦<br><img src="/img/babel-tr.png" alt="babel-webpack"></p>
<p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br></pre></td></tr></table></figure></p>
<p>è¿è¡ŒæˆåŠŸåï¼Œå¯ä»¥å‘ç°åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºäº†åä¸º<strong>public</strong>æ–‡ä»¶å¤¹ï¼Œä»¥åŠåä¸º<strong>index.output.js</strong>è¾“å‡ºæ–‡ä»¶<br><img src="/img/webpack-babel-success.png" alt="babel-webpack"></p>
<p>é€šè¿‡é›†æˆwebpackæ„å»ºå·¥å…·ï¼Œå¯ä»¥å°†è½¬ç åçš„æ–‡ä»¶æ‰“åŒ…ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å†™è¿™ç¯‡åšæ–‡çš„é€»è¾‘æ€§å¯èƒ½ä¸æ˜¯å¾ˆå¼ºï¼Œä¸»è¦æ˜¯è¾¹å­¦ä¹ è¾¹è®°å½•ï¼ŒæŠŠBabelä¸»è¦çš„çŸ¥è¯†ç‚¹è®°å½•ä¸‹æ¥ï¼Œä½œä¸ºBabelçš„ä¸€ç¯‡å­¦ä¹ ç¬”è®°ï¼Œä»¥ä¾¿åç»­çš„æ·±å…¥å­¦ä¹ ï¼Œè¿™é‡Œæ¨èä¸€ä¸‹é˜®ä¸€å³°è€å¸ˆçš„ <a href="http://www.ruanyifeng.com/blog/2016/01/babel.html" target="_blank" rel="noopener">Babelå…¥é—¨æ¨èæ•™ç¨‹</a>ï¼Œè¿™ç¯‡åšæ–‡é‡Œé¢å¾ˆå¤šçŸ¥è¯†ç‚¹éƒ½æ¥è‡ªé˜®ä¸€å³°è€å¸ˆçš„æ¨èè¯¾ç¨‹ï½</p>
<p>å¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> è½¬ç å·¥å…· </category>
            
        </categories>
        
        
        <tags>
            
            <tag> babel </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä½¿ç”¨iconfontåˆ›å»ºé¡¹ç›®å›¾æ ‡]]></title>
      <url>/2017/10/31/iconfont/</url>
      <content type="html"><![CDATA[<blockquote>
<p>åœ¨å­¦ä¹ ä»–äººç½‘ç«™ä»£ç æ—¶ï¼Œæˆ‘å¸¸å¸¸ä¼šå‘ç°å‰ç«¯å¼€å‘äººå‘˜ä¹ æƒ¯ä½¿ç”¨<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class=<span class="string">"iconfont icon-time"</span>&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç”Ÿæˆé¡µé¢çš„å›¾æ ‡ï¼Œè¿™æ‰“ç ´äº†æˆ‘ä»¬ä¼ ç»Ÿçš„æ–¹å¼â€”â€”å°†iconå›¾æ ‡ä»¥pngç­‰å›¾ç‰‡çš„å½¢å¼ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åé€šè¿‡imgæ ‡ç­¾å¼•å…¥é¡µé¢ä¸­ã€‚åœ¨åˆšå¼€å§‹æ¥è§¦åˆ°è¿™ç§æ–¹å¼æ—¶ï¼Œæˆ‘æ„Ÿåˆ°ä¸è§£ï¼Œæƒ³è¦è¯•å›¾åœ¨cssæ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸åº”ç±»çš„æ ·å¼è®¾ç½®ï¼Œè®¤ä¸ºæ˜¯åœ¨cssä¸­è®¾ç½®äº†èƒŒæ™¯å›¾ï¼Œæ‰¾å¯»æ— æœâ€¦æœ€è¿‘æƒ³è¦å……å®ä¸€ä¸‹ä¸ªäººåšå®¢ï¼Œä¹Ÿå°±æƒ³ç€è¦æŠŠè¿™æ¬¡å­¦ä¹ çš„å¿ƒè·¯å†ç¨‹è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾›åç»­çš„æ·±å…¥å­¦ä¹ ã€‚<br>åˆæ¬¡å­¦ä¹ å¯èƒ½æœ‰äº›åœ°æ–¹è®²è§£çš„ä¸æ˜¯å¾ˆç»†è‡´ï¼Œè¿˜è¯·å„ä½ä¸åèµæ•™ï½</p>
</blockquote>
<hr>
<h2 id="ä½¿ç”¨Iconfontçš„ä¼˜ç‚¹"><a href="#ä½¿ç”¨Iconfontçš„ä¼˜ç‚¹" class="headerlink" title="ä½¿ç”¨Iconfontçš„ä¼˜ç‚¹"></a>ä½¿ç”¨Iconfontçš„ä¼˜ç‚¹</h2><p>Iconfontå…¶å®å°±æ˜¯æŒ‡ç”¨å­—ä½“æ–‡ä»¶å–ä»£å›¾ç‰‡æ–‡ä»¶ï¼Œæ¥å±•ç¤ºå›¾æ ‡ã€ç‰¹æ®Šå­—ä½“ç­‰å…ƒç´ çš„ä¸€ç§æ–¹æ³•ã€‚ä¸»è¦æœ‰ä»¥ä¸‹4ä¸ªä¼˜ç‚¹</p>
<ul>
<li>åŠ è½½æ–‡ä»¶ä½“ç§¯å°ï¼Œæé«˜åŠ è½½é€Ÿåº¦<a id="more"></a></li>
<li>å¯ä»¥ç›´æ¥é€šè¿‡cssçš„font-sizeï¼Œcolorä¿®æ”¹å®ƒçš„å¤§å°å’Œé¢œè‰²ï¼Œå¯ä»¥ç¼©æ”¾å¤šä¸ªå°ºå¯¸çš„å›¾æ ‡ï¼Œæé«˜å›¾æ ‡çš„å¯å¤ç”¨æ€§</li>
<li>æ”¯æŒä¸€äº›css3å¯¹æ–‡å­—çš„æ•ˆæœï¼Œä¾‹å¦‚ï¼šé˜´å½±ã€æ—‹è½¬ã€é€æ˜åº¦ç­‰</li>
<li>å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨<br>ç›¸å¯¹äºæˆ‘ä»¬ä¼ ç»Ÿçš„å°†iconä¸‹è½½ä¸ºå›¾ç‰‡çš„å½¢å¼ï¼Œä½¿ç”¨iconfontç¡®å®æ–¹ä¾¿ä¸å°‘ã€‚å½“æˆ‘ä»¬é¡¹ç›®è¦ä¿®æ”¹ä¸»è‰²è°ƒæ—¶ï¼Œiconfontåªéœ€è¦ä¿®æ”¹cssä¸­é¢œè‰²å±æ€§å³å¯ï¼Œè€Œä¼ ç»Ÿæ¨¡å¼åˆ™éœ€è¦ä½ é‡æ–°ä¸‹è½½ï¼Œè¿™æ ·ä¸ä»…å¢åŠ äº†æˆ‘ä»¬çš„å¼€å‘æ—¶é—´ï¼Œè€Œä¸”ä¼šè®©å‰ç«¯å¼€å‘å·¥ä½œå˜å¾—æ¯ç‡¥æ— å‘³ã€‚</li>
</ul>
<h2 id="Iconfontä½¿ç”¨æµç¨‹"><a href="#Iconfontä½¿ç”¨æµç¨‹" class="headerlink" title="Iconfontä½¿ç”¨æµç¨‹"></a>Iconfontä½¿ç”¨æµç¨‹</h2><p>åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹Iconfontåœ¨çº¿æœåŠ¡ï¼ˆä¾‹å¦‚ï¼š é˜¿é‡Œå·´å·´Iconfontå¹³å° ï¼‰ï¼Œä¸ªäººæ¯”è¾ƒåå‘äºé˜¿é‡Œå·´å·´Iconfontå¹³å°ï¼Œè€Œåœ¨æ­¤æ–‡ä¸­ä¹Ÿæ˜¯åœ¨é˜¿é‡Œå·´å·´Iconfontå¹³å°ä¸Šè¿›è¡Œæ“ä½œçš„ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ‰“å¼€<a href="http://www.iconfont.cn" target="_blank" rel="noopener">é˜¿é‡Œå·´å·´Iconfontå¹³å°</a>ï¼ˆps:ä½¿ç”¨é˜¿é‡Œå·´å·´Iconfontå¹³å°éœ€è¦ä½ æœ‰githubè´¦å·æˆ–è€…å¾®åšè´¦å·ï¼‰<br><img src="/img/iconfont.png" alt="é˜¿é‡Œå·´å·´Iconfontå¹³å°"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æœç´¢æˆ‘ä»¬æƒ³è¦çš„å›¾æ ‡ï¼Œå»ºè®®ä½¿ç”¨è‹±æ–‡æœç´¢ï¼ŒåŒ¹é…çš„iconå¯èƒ½æ›´å¤šå“¦ï½<br><img src="/img/time-search.png" alt="æœç´¢"></p>
<p>å›è½¦ä»¥åï¼Œä½ ä¼šçœ‹åˆ°å¾ˆå¤šæœ‰å…³äºtimeçš„iconå›¾æ ‡ï¼Œé€‰æ‹©ä½ éœ€è¦çš„é‚£ä¸ªï¼Œå¹¶æ·»åŠ è‡³è´­ç‰©è½¦ä¸­ï¼ˆå¦‚æœªç™»å½•çš„è¯ï¼Œæ­¤æ—¶ä¼šè¦æ±‚ä½ å…ˆç™»å½•ï¼‰<br><img src="/img/add.png" alt="åŠ å…¥è´­ç‰©è½¦"><br>åŠ å…¥æˆåŠŸåä½ å¯ä»¥åœ¨å³ä¸Šè§’è´­ç‰©è½¦å¤„çœ‹åˆ°ä½ æ‰€æ·»åŠ çš„icon<br><img src="/img/add-success.png" alt="åŠ å…¥è´­ç‰©è½¦"></p>
<p><img src="/img/success2.png" alt="åŠ å…¥è´­ç‰©è½¦"></p>
<p>ä¾æ­¤ï¼Œä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­æ·»åŠ å¾ˆå¤šiconå›¾æ ‡ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€æ¼”ç¤ºäº†</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è´­ç‰©è½¦ä¸­æ‰€æœ‰çš„iconå›¾æ ‡æ‰“åŒ…åœ¨ä¸€ä¸ªæ–°å»ºçš„é¡¹ç›®ä¸­<br><img src="/img/new-project.png" alt="æ–°å»ºé¡¹ç›®"><br>æ·»åŠ æˆåŠŸåï¼Œä½ å¯ä»¥çœ‹åˆ°ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­æœ‰ä½ æ‰€æ·»åŠ çš„æ‰€æœ‰iconå›¾æ ‡<br><img src="/img/project-success.png" alt="æ–°å»ºé¡¹ç›®"></p>
<p>å»ºè®®ä½¿ç”¨ï¼šç”Ÿæˆåœ¨çº¿é“¾æ¥<br><img src="/img/link.png" alt="ç”Ÿæˆé“¾æ¥"><br>å¹¶åœ¨cssæ–‡ä»¶ä¸­é€šè¿‡<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import url(<span class="string">'é“¾æ¥åœ°å€'</span>)</span><br></pre></td></tr></table></figure></p>
<p>å¼•å…¥èµ„æº<br>ä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»<strong>ä¸‹è½½è‡³æœ¬åœ°</strong>ï¼Œå°†zipæ–‡ä»¶è§£å‹åå…¶ä¸­çš„æ–‡ä»¶å¦‚ä¸‹<br><img src="/img/zip.png" alt="æ–°å»ºé¡¹ç›®"></p>
<p>æ¥ä¸‹æ¥ï¼Œå°±æ˜¯å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†<br><img src="/img/project-code.png" alt="æ–°å»ºé¡¹ç›®"><br>åœ¨åŸæ¥çš„htmlä¸­æˆ‘ä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿæ–¹å¼ï¼Œå°†iconä»¥å›¾ç‰‡çš„å½¢å¼å¼•å…¥<br>å¯ä»¥çœ‹åˆ°çš„æ•ˆæœå¦‚ä¸‹<br><img src="/img/project-init.png" alt="é¡¹ç›®åˆå§‹æ•ˆæœ"></p>
<p> â€”â€”â€”â€“ ä¸‹è½½è‡³æœ¬åœ°éœ€è¦è¿›è¡Œçš„ â€”â€”â€”â€“<br>å°†åˆšåˆšè§£å‹çš„æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œé‡å‘½åï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘é‡å‘½åä¸º<strong>icon-fonts</strong>ï¼Œå½“å‰é¡¹ç›®ç›®å½•å¦‚ä¸‹<br><img src="/img/project-ca.png" alt="é¡¹ç›®ç›®å½•"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨å¤´éƒ¨å¼•å…¥<strong>icon-fonts</strong>ä¸­çš„<strong>iconfont.css</strong>æ–‡ä»¶<br><img src="/img/in.png" alt="å¼•å…¥"><br> â€”â€”â€”â€“ åä¸½ä¸½çš„åˆ†å‰²çº¿ â€”â€”â€”â€“</p>
<p>å¹¶ä½¿ç”¨iæ ‡ç­¾æ¥æ›¿æ¢ä¼ ç»Ÿæ–¹å¼<br><img src="/img/i.png" alt="i"></p>
<p>å…¶ä¸­<strong>iconfont</strong>æ˜¯å¿…é¡»çš„ç±»åï¼Œ<strong>icon-time</strong>æ˜¯ä½ åœ¨é˜¿é‡Œå·´å·´Iconfontå¹³å°åˆ›å»ºçš„é¡¹ç›®ä¸­å›¾æ ‡æ‰€å¯¹åº”çš„ç±»åï¼Œå¦‚ä¸‹å›¾<br><img src="/img/time.png" alt="time"><br><strong>img</strong>æ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„ç”¨æ¥å®šä½çš„cssç±»<br><img src="/img/project-re.png" alt="é¡¹ç›®æ•ˆæœ"><br>ä½ ä¼šå‘ç°iconå·²ç»æˆåŠŸçš„è¢«æˆ‘ä»¬å¼•å…¥äº†ï¼Œå¹¶ä¸”æ›¿æ¢äº†ä¼ ç»Ÿçš„imgæ ‡ç­¾</p>
<p>ä½ å¯ä»¥åœ¨cssä¸­ä»»æ„è®¾ç½®iconå›¾æ ‡çš„å¤§å°ä»¥åŠé¢œè‰²ï¼Œå¦‚ä¸‹ï¼š<br><img src="/img/css.png" alt="css"></p>
<p><img src="/img/re.png" alt="é¡¹ç›®æ•ˆæœ"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å†™åˆ°è¿™é‡Œï¼Œä¹Ÿå·®ä¸å¤šç»“æŸäº†ï¼Œåœ¨è¿™ç¯‡æ–‡ç« é‡Œæˆ‘ç®€å•ä»‹ç»äº†iconfontåœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ï¼Œåœ¨å®é™…è¿ç”¨ä¸­ï¼Œä½ å¯ä»¥æŠŠé¡¹ç›®ä¸­æ‰€éœ€è¦çš„å›¾æ ‡éƒ½ä»¥è¿™ç§æ–¹å¼å¼•å…¥ï¼Œè¿™æ ·åœ¨ç”¨æˆ·è¦æ±‚æ›´æ¢iconä¸»è‰²è°ƒæ—¶ï¼Œå°±ä»…éœ€è¦ç»Ÿä¸€ä¿®æ”¹iconå›¾æ ‡çš„é¢œè‰²å³å¯ï¼Œè€Œä¸éœ€è¦é‡æ–°ä¸‹è½½iconå›¾ç‰‡ï¼Œè¿™æ ·ä¹Ÿå°±åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†é¡¹ç›®çš„å¼€å‘æ—¶é—´ï¼Œæé«˜äº†é¡¹ç›®çš„å¼€å‘è´¨é‡ï¼Œæ›´é‡è¦çš„æ˜¯å‰ç«¯å¼€å‘äººå‘˜ä¸ä¼šå› ä¸ºé‡å¤æ— ç”¨åŠŸå„¿æ„Ÿè§‰æ¯ç‡¥æ— å‘³ã€‚</p>
<p>è¿™äº›åªæ˜¯ä¸€äº›å°å°çš„åº”ç”¨ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> iconfontå›¾æ ‡ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> iconfont é¡¹ç›®å›¾æ ‡icon </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä½¿ç”¨webpackæ­å»ºvueé¡¹ç›®â€”â€”å…¥é—¨]]></title>
      <url>/2017/10/25/webpack-vue/</url>
      <content type="html"><![CDATA[<blockquote>
<p>vueä»¥æ•°æ®ä¸ºé©±åŠ¨ï¼Œæ˜¯è¿‘å¹´æ¥æ¯”è¾ƒç«çš„ä¸€ä¸ªè½»é‡çº§çš„å‰åç«¯åˆ†ç¦»çš„æ¡†æ¶ï¼Œå‰æ®µæ—¶é—´å­¦ä¹ äº†vueçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œæ˜ç™½äº†vueä¸­æŒ‡ä»¤ç­‰çš„ä½¿ç”¨ï¼Œä¸ªäººè§‰å¾—è¾ƒéš¾çš„ä¸€éƒ¨åˆ†å½“å±äºä½¿ç”¨vueè¿›è¡Œç»„ä»¶åŒ–å¼€å‘ï¼Œåœ¨vue.jsä¸“ä¸šä¸­æ–‡å¼€å‘è€…ç¤¾åŒºä¸Šæœ‰ä¸å°‘å¤§ç‰›ä»¬ä½¿ç”¨vueé‡æ„çš„ä¸€äº›ä¾‹å­ï¼Œæ¯”å¦‚è±†ç“£ï¼Œé¥¿äº†ä¹ˆç­‰ï¼Œå¤§å®¶å¯ä»¥cloneä¸‹æ¥è‡ªå·±é‡æ„ä¸€ä¸‹ï¼Œå»ºè®®åˆå­¦è€…åœ¨è±†ç“£å’Œé¥¿äº†ä¹ˆä¸¤ä¸ªä¸­å…ˆé€‰æ‹©è±†ç“£çš„ä¾‹å­ï¼Œè±†ç“£çš„ä¾‹å­ä¼šç›¸å¯¹ç®€å•ç›´è§‚ä¸€äº›ã€‚<br>æˆ‘åœ¨åˆšå­¦ä¹ ä½¿ç”¨vueè¿›è¡Œç»„ä»¶åŒ–å¼€å‘æ—¶ï¼Œå¸¸å¸¸ä¼šä½¿ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vue init webpack project-name</span><br></pre></td></tr></table></figure>
<p>æ¥åˆå§‹åŒ–ä¸€ä¸ªvueé¡¹ç›®ï¼Œæ¥ç€åœ¨è¿™ä¸ªåˆå§‹åŒ–å®Œæˆçš„é¡¹ç›®ä¸­è¿›è¡Œvueçš„ç»„ä»¶åŒ–å¼€å‘ã€‚æˆ‘ä»¬å¯èƒ½æ˜ç™½æ¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹ä¸­çš„ç›¸å…³å†…å®¹ï¼Œä½†ä½¿ç”¨webpackæ„å»ºvueé¡¹ç›®çš„è¿‡ç¨‹åˆæ˜¯æ€æ ·çš„ï¼Ÿè¿™å°±ä¸å¾—è€ŒçŸ¥äº†ã€‚<br>éšç€åæ¥çš„å­¦ä¹ ï¼Œæˆ‘å¼€å§‹è‡ªå·±æ…¢æ…¢ä½¿ç”¨webpackä»é›¶æ„å»ºvueé¡¹ç›®ï¼Œè¸©äº†å¾ˆå¤šå‘ï¼Œå¯èƒ½ä¹Ÿä¸æ˜¯å¾ˆæ·±å…¥ï¼Œä½†æ˜¯æ€»æƒ³ç€èƒ½æŠŠè¿™æ¬¡è¿‡ç¨‹å†™ä¸‹æ¥ï¼Œä»¥ä¾¿åç»­çš„æ·±å…¥å­¦ä¹ ï¼Œåˆæ¬¡å­¦ä¹ å¯èƒ½ç†è§£ä»¥åŠæ­¥éª¤ä¸Šä¼šæœ‰åå·®ï¼Œè¿˜è¯·å„ä½ä¸åèµæ•™ï½</p>
</blockquote>
<hr>
<h1 id="webpackæ„å»ºvueé¡¹ç›®æµç¨‹"><a href="#webpackæ„å»ºvueé¡¹ç›®æµç¨‹" class="headerlink" title="webpackæ„å»ºvueé¡¹ç›®æµç¨‹"></a>webpackæ„å»ºvueé¡¹ç›®æµç¨‹</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><a id="more"></a>
<ul>
<li>é¦–å…ˆéœ€è¦ä½ å·²ä¸‹è½½å®‰è£…<strong>node.js</strong> <a href="http://nodejs.cn/download/" target="_blank" rel="noopener">è¿˜æ²¡æœ‰ä¸‹è½½å®‰è£…ï¼Ÿæˆ³è¿™é‡Œè¿›å…¥Node.jsä¸­æ–‡ç½‘è¿›è¡Œä¸‹è½½å®‰è£…</a><br>åœ¨ä½ ä¹ æƒ¯ä½¿ç”¨çš„å·¥ä½œç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œåœ¨è¿™é‡Œæˆ‘æ–°å»ºäº†ä¸€ä¸ªåä¸º<strong>webpack-vue-blog</strong>çš„æ–‡ä»¶å¤¹ï¼ˆps:é¡¹ç›®åç§°ä¸­ä¸å¯ä»¥å«æœ‰ç©ºæ ¼ï¼Œè¿™åœ¨åˆå§‹åŒ–æ—¶ä¼šæŠ¥é”™çš„ï½å¤§å®¶æ³¨æ„ä¸€ä¸‹ï¼Œå»ºè®®ä½¿ç”¨-æˆ–_ä»£æ›¿ï¼‰ï¼Œæ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œè¿›å…¥åˆ°webpack-vue-blogçš„å·¥ä½œç›®å½•ï¼Œä½¿ç”¨<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm init //åˆå§‹åŒ–å¹¶è‡ªåŠ¨åˆ›å»ºpackage.jsonæ–‡ä»¶ï¼Œnpmæ˜¯node.jsçš„å‘½ä»¤</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ¥ä¸‹æ¥æ˜¯ä¸€äº›é¡¹ç›®çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸€è·¯æŒ‰enteré”®å°±å¯ä»¥äº†ï¼Œä¹‹åä½ å¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­çœ‹åˆ°é¡¹ç›®çš„ç›¸å…³ä¿¡æ¯<br><img src="/img/description.png" alt="æè¿°"></p>
<p><img src="/img/package.png" alt="package.jsonæ–‡ä»¶"></p>
<p>è¿™é‡Œå»ºè®®å¤§å®¶å¯ä»¥ä¸‹è½½å®‰è£…ä¸€ä¸‹cnpmæ·˜å®npmé•œåƒï¼Œå› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œä½¿ç”¨cnpmçš„è¯å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜æˆ‘ä»¬æ¨¡å—çš„ä¸‹è½½å®‰è£…é€Ÿåº¦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¥ä¸‹æ¥å°±è¦å®‰è£…vue-webpackç­‰ç›¸å…³çš„æ¨¡å—ï¼Œåœ¨è¿™é‡Œå…ˆå¤§è‡´ä»‹ç»ä¸€ä¸‹ç›¸å…³çš„å‘½ä»¤"><a href="#æ¥ä¸‹æ¥å°±è¦å®‰è£…vue-webpackç­‰ç›¸å…³çš„æ¨¡å—ï¼Œåœ¨è¿™é‡Œå…ˆå¤§è‡´ä»‹ç»ä¸€ä¸‹ç›¸å…³çš„å‘½ä»¤" class="headerlink" title="æ¥ä¸‹æ¥å°±è¦å®‰è£…vue webpackç­‰ç›¸å…³çš„æ¨¡å—ï¼Œåœ¨è¿™é‡Œå…ˆå¤§è‡´ä»‹ç»ä¸€ä¸‹ç›¸å…³çš„å‘½ä»¤"></a>æ¥ä¸‹æ¥å°±è¦å®‰è£…vue webpackç­‰ç›¸å…³çš„æ¨¡å—ï¼Œåœ¨è¿™é‡Œå…ˆå¤§è‡´ä»‹ç»ä¸€ä¸‹ç›¸å…³çš„å‘½ä»¤</h3><ul>
<li>ä½¿ç”¨npmå®‰è£…æ’ä»¶ï¼šå‘½ä»¤æç¤ºç¬¦æ‰§è¡Œnpm(cnpm) install <name> [-g] [â€“save-dev]</name></li>
<li>-gï¼šå…¨å±€å®‰è£…</li>
<li>â€“saveï¼šå°†ä¿å­˜é…ç½®ä¿¡æ¯è‡³package.jsonï¼ˆpackage.jsonæ˜¯nodejsé¡¹ç›®é…ç½®æ–‡ä»¶ï¼‰</li>
<li>-devï¼šä¿å­˜è‡³package.jsonçš„devDependenciesèŠ‚ç‚¹ï¼Œä¸æŒ‡å®š-devå°†ä¿å­˜è‡³dependenciesèŠ‚ç‚¹</li>
</ul>
<hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//å®‰è£…vue</span><br><span class="line">$ cnpm install --save vue </span><br><span class="line">//å®‰è£…webpackä»¥åŠwebpackæµ‹è¯•æœåŠ¡å™¨ï¼Œé»˜è®¤å®‰è£…æ˜¯1.0ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥å¿…é¡»æŒ‡å®šç‰ˆæœ¬å·</span><br><span class="line">$ cnpm install --save-dev webpack@^2.1.0-beta.25 webpack-dev-server@^2.1.0-beta.9 </span><br><span class="line">//å®‰è£…babelï¼Œä¸€èˆ¬çš„æµè§ˆå™¨æ˜¯ä¸è®¤è¯†es6è¯­æ³•çš„ï¼Œbabelçš„ä½œç”¨æ˜¯å°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ï¼Œä»è€Œç¼–è¯‘æˆæµè§ˆå™¨è®¤è¯†çš„è¯­æ³•</span><br><span class="line">$ cnpm install --save-dev babel-core babel-loader babel-preset-es2015</span><br><span class="line">//ç”¨æ¥è§£ævueçš„ç»„ä»¶ï¼Œ.vueåç¼€çš„æ–‡ä»¶</span><br><span class="line">$ cnpm install --save-dev vue-loader vue-template-compiler</span><br><span class="line">//ç”¨æ¥è§£æcss</span><br><span class="line">$ cnpm install --save-dev css-loader file-loader</span><br></pre></td></tr></table></figure>
<p>éœ€è¦ç”¨åˆ°çš„æ¨¡å—æˆ‘ä»¬å·²ç»å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹åœ¨package.jsonçœ‹åˆ°æˆ‘ä»¬æ‰€å®‰è£…çš„ä¾èµ–åŒ…ï¼Œåœ¨<strong>webpack-vue-blog</strong>ç›®å½•ä¸‹ä¹Ÿä¼šç”Ÿæˆåä¸º<strong>node_modules</strong>çš„æ–‡ä»¶å¤¹<br><img src="/img/package1.png" alt="package.jsonæ–‡ä»¶"></p>
<h2 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h2><p>å®‰è£…äº†è¿™ä¹ˆå¤šçš„ä¾èµ–åŒ…ï¼Œç»ˆäºè¦è¿›å…¥ç¼–ç çš„é˜¶æ®µäº†ï¼Œæ‰“å¼€ä½ çš„ç¼–è¾‘å™¨ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯VS Codeå·¥å…·è¿›è¡Œç¼–ç ï¼Œè¿™ä¸ªå·¥å…·æ¯”è¾ƒå°ï¼Œä½†æ˜¯è¦å®‰è£…ç›¸å…³çš„æ’ä»¶ï¼Œæˆ‘è¿™é‡Œä¸è¯¦ç»†ä»‹ç»äº†å“ˆï¼Œæ„Ÿå…´è¶£çš„èŒå‹ä»¬å¯ä»¥å®‰è£…ä½¿ç”¨ä¸€ä¸‹ã€‚ç°åœ¨æˆ‘ä»¬çš„<strong>webpack-vue-blog</strong>å·¥ç¨‹ç›®å½•ä¸‹åªæœ‰<strong>node_modules</strong>æ–‡ä»¶å¤¹ä»¥åŠ<strong>package.json</strong>æ–‡ä»¶<br><img src="/img/ç›®å½•.png" alt="ç›®å½•"><br>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹æ–°å»º<strong>src</strong>æ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾æˆ‘ä»¬é¡¹ç›®çš„æºç ï¼Œåœ¨srcç›®å½•ä¸‹æ–°å»º<strong>App.vue</strong>ä»¥åŠ<strong>main.js</strong>æ–‡ä»¶ï¼Œå…¶ä¸­App.vueæ˜¯æˆ‘ä»¬çš„å…¥å£é¡µé¢ï¼Œmain.jsæ˜¯åº”ç”¨åˆå§‹åŒ–å…¥å£æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//App.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">        &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span></span> () &#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">            msg: <span class="string">'This is your first webpack-vue project!'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//main.js</span><br><span class="line">import Vue from <span class="string">'vue'</span></span><br><span class="line">import App from <span class="string">'./App.vue'</span> // å°†åŒç›®å½•ä¸‹çš„App.vueå¯¼å…¥</span><br><span class="line"></span><br><span class="line">/* å®ä¾‹åŒ–ä¸€ä¸ªvue */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: h =&gt; h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>renderå‡½æ•°æ˜¯æ¸²æŸ“ä¸€ä¸ªè§†å›¾ï¼Œç„¶åæä¾›ç»™elæŒ‚è½½ï¼Œå¦‚æœæ²¡æœ‰renderé‚£é¡µé¢ä»€ä¹ˆéƒ½ä¸ä¼šå‡ºæ¥</strong></p>
<h3 id="Vue2-0çš„æ¸²æŸ“è¿‡ç¨‹ï¼š"><a href="#Vue2-0çš„æ¸²æŸ“è¿‡ç¨‹ï¼š" class="headerlink" title="Vue2.0çš„æ¸²æŸ“è¿‡ç¨‹ï¼š"></a>Vue2.0çš„æ¸²æŸ“è¿‡ç¨‹ï¼š</h3><ul>
<li>Vueå®ä¾‹é€‰é¡¹å¯¹è±¡çš„ render æ–¹æ³•ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¼ å…¥çš„å‚æ•° h å‡½æ•°ï¼Œè¿”å› h(App) çš„å‡½æ•°è°ƒç”¨ç»“æœ</li>
<li>Vue åœ¨åˆ›å»º Vue å®ä¾‹æ—¶ï¼Œé€šè¿‡è°ƒç”¨ render æ–¹æ³•æ¥æ¸²æŸ“å®ä¾‹çš„ DOM æ ‘</li>
<li>Vue åœ¨è°ƒç”¨ render æ–¹æ³•æ—¶ï¼Œä¼šä¼ å…¥ä¸€ä¸ª createElement å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œçš„ h çš„å®å‚æ˜¯ createElement å‡½æ•°ï¼Œç„¶å createElement ä¼šä»¥ APP ä¸ºå‚æ•°è¿›è¡Œè°ƒç”¨</li>
</ul>
<hr>
<p>[å®˜æ–¹æ–‡æ¡£]:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">render: <span class="keyword">function</span> (createElement) &#123;</span><br><span class="line">   <span class="built_in">return</span> createElement(</span><br><span class="line">     <span class="string">'h'</span> + this.level,   // tag name æ ‡ç­¾åç§°</span><br><span class="line">      this.<span class="variable">$slots</span>.default // å­ç»„ä»¶ä¸­çš„é˜µåˆ—</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿›å…¥webpackéƒ¨åˆ†  <a href="https://doc.webpack-china.org/guides/getting-started" target="_blank" rel="noopener">æˆ³è¿›æ¥å­¦ä¹ webpackä¸­æ–‡æ–‡æ¡£</a>ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºåä¸º<strong>webpack.config.js</strong>çš„æ–‡ä»¶ï¼Œç”¨æ¥è¿›è¡Œç›¸å…³çš„é…ç½® <a href="https://doc.webpack-china.org/configuration/entry-context/" target="_blank" rel="noopener">webpackå…¥å£å‡ºå£ç­‰æ ¸å¿ƒæ¦‚å¿µä¸­æ–‡æ–‡æ¡£</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">//webpack.config.js</span><br><span class="line">var path = require(<span class="string">'path'</span>);</span><br><span class="line">var webpack = require(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    /* å…¥å£æ–‡ä»¶ */</span><br><span class="line">    entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">    /* è¾“å‡º */</span><br><span class="line">    output: &#123;</span><br><span class="line">        /* è¾“å‡ºç›®å½•ï¼Œæ²¡æœ‰åˆ™æ–°å»º é€šè¿‡__dirnameè·å¾—å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„å®Œæ•´ç›®å½•åï¼š*/</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">        /* é™æ€ç›®å½•ï¼Œå¯ä»¥ç›´æ¥ä»è¿™é‡Œå–æ–‡ä»¶ */</span><br><span class="line">        publicPath: <span class="string">'/dist/'</span>,</span><br><span class="line">        /* æ–‡ä»¶å */</span><br><span class="line">        filename: <span class="string">'build.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    module: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            /* ç”¨æ¥è§£ævueåç¼€çš„æ–‡ä»¶ */</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.vue$/,</span><br><span class="line">                loader: <span class="string">'vue-loader'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            /* ç”¨babelæ¥è§£æjsæ–‡ä»¶å¹¶æŠŠes6çš„è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨è®¤è¯†çš„è¯­æ³• */</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.js$/,</span><br><span class="line">                loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">                /* æ’é™¤æ¨¡å—å®‰è£…ç›®å½•çš„æ–‡ä»¶ */</span><br><span class="line">                exclude: /node_modules/</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å½“å‰çš„é¡¹ç›®ç›®å½•ä¸ºï¼š<br><img src="/img/ç›®å½•2.png" alt="ç›®å½•"><br>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿›è¡Œwebpackçš„æ ¸å¿ƒåŠŸèƒ½â€”â€”æ¨¡å—æ‰“åŒ…<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install -g webpack@^2.1.0-beta.25 //å…¨å±€å®‰è£…webpackï¼Œä»¥ä¾¿ä½¿ç”¨webpackå‘½ä»¤è¿›è¡Œæ‰“åŒ…ç­‰</span><br></pre></td></tr></table></figure></p>
<p>è¿›å…¥<strong>webpack-vue-blog</strong>ç›®å½•ä¸‹å¹¶è¿è¡Œå‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œå®Œæ¯•åä½ å¯ä»¥å‘ç°åœ¨æ ¹ç›®å½•ä¸‹æ–°å¢äº†ä¸€ä¸ªåä¸º<strong>dist</strong>çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­æœ‰ä¸ª<strong>build.js</strong>æ–‡ä»¶ï¼Œè€Œè¿™è¾“å‡ºçš„æ–‡ä»¶å¤¹ååŠæ–‡ä»¶åæ­£æ˜¯æˆ‘ä»¬åœ¨<strong>webpack.config.js</strong>ä¸­é…ç½®å¥½çš„ã€‚<br>è¿™ä¹ˆä¹…è¿˜ä¸èƒ½çœ‹æ•ˆæœï¼Œæ€¥æ­»äººäº†ï¼Œä¸è¦ç€æ€¥ï¼Œå·²ç»å¿«è¦æ¥è¿‘å°¾å£°å•¦ï¼ï¼<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºåä¸ºindex.htmlçš„æ–‡ä»¶ï¼Œå¹¶å¼•å…¥æˆ‘ä»¬åˆšåˆšç”Ÿæˆçš„build.jsæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//index.html</span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"</span>&gt;</span><br><span class="line">    &lt;title&gt;webpack-vue-blog&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id=<span class="string">"app"</span>&gt;&lt;/div&gt;</span><br><span class="line">        &lt;script src=<span class="string">"./dist/build.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥è¿è¡Œå‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack-dev-server</span><br></pre></td></tr></table></figure></p>
<p>ç¨å¾®ç­‰å¾…ä¸€ä¼šï¼Œå°±ä¼šæç¤ºä½ å·²ç»è¿è¡ŒæˆåŠŸå•¦ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è®¿é—®localhost:8080æ¥è®¿é—®æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä½¿ç”¨webpackæ„å»ºçš„vueé¡¹ç›®ã€‚<br><img src="/img/result.png" alt="æ•ˆæœ"><br>è¿™æ ·æˆ‘ä»¬çš„ä½¿ç”¨webpackæ„å»ºçš„vueé¡¹ç›®ä¹Ÿç®—æ˜¯æ­å»ºå®Œæˆäº†ã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>è¿™æ˜¯è‡ªæ­å»ºä¸ªäººåšå®¢ç½‘ç«™ä»¥æ¥ç€æ‰‹å†™çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é¡¹ç›®ï¼Œåœ¨åç»­æ·±å…¥å­¦ä¹ ä¸­ï¼Œä½ ä¼šå‘ç°ç¨‹åºå‘˜ä»¬ä¼šå°†babelçš„ç›¸å…³é…ç½®ä¿å­˜åœ¨.babelrcé…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚ï¼š<br><img src="/img/babel.png" alt="Babel"><br>ç›¸ä¿¡å¤§å®¶åœ¨å­¦ä¹ babelç›¸å…³æ•™ç¨‹æ—¶ä¼šäº†è§£åˆ° <a href="http://www.ruanyifeng.com/blog/2016/01/babel.html" target="_blank" rel="noopener">Babelå…¥é—¨æ¨èæ•™ç¨‹</a></p>
<p>å¸Œæœ›èƒ½å¯¹èŒå‹ä»¬æœ‰æ‰€å¸®åŠ©ï½</p>
]]></content>
      
        <categories>
            
            <category> å‰ç«¯æ¡†æ¶ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> vue </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
